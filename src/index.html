<!DOCTYPE html>
<html lang="en">
  <head>
  <title>MyST editor Demo</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet"> 
  <link rel="stylesheet" href="./styles/MystEditor.css">
  <style>body { margin: 0 }</style>
  <script type="module">
    let exampleText = `# h1 is quite big

## [h2 which is a link](https://google.com)

### h3

#### h4

##### h5

###### h6 is the size of the regular font

Unhandled role: {unknown}\`content\` in paragraph.

Raw role: {raw}\`content\`

Unhandled directive:

\`\`\`{unknown} argument
content
\`\`\`

Erroneous directive:

\`\`\`{admonition}
\`\`\`

Admonition with title

\`\`\`{admonition} A **Title**
Some *content*
\`\`\`

Nested admonitions:

\`\`\`\`{note} This is a note
\`\`\`{warning} This is a nested warning
\`\`\`
\`\`\`\`

Images and figures:

\`\`\`{image} https://via.placeholder.com/150
:align: center
\`\`\`

\`\`\`{figure} https://via.placeholder.com/150
:align: center
:name: placeholder

A **caption**
\`\`\`

The placeholder figure is {numref}\`Figure %s <placeholder>\`.
The \`ref\` link is: {ref}\`placeholder\`.
We can also see {eq}\`math_label\` which is below!

Tables:

\`\`\`{list-table} Caption *text*
:header-rows: 1

- * Heading, Column 1
  * Heading, Column 2
- * Row, Column 1
  * Row, Column 2

    Second paragraph
\`\`\`

HTML:

* H{sub}\`2\`O
* 4{sup}\`th\` of July
* {abbr}\`CSS (Cascading Style Sheets)`
    console.log("Welcome to the MyST editor demo. The right hand side should auto update.")

    import MystEditor, { html, render } from './MystEditor.js'

    const exampleCallback = (event) => {
      console.log(`Example callback fired on ${event.target}`)
      window.print()
    }

    const usercolors = [
      "#30bced",
      "#60c771",
      "#e6aa3a",
      "#cbb63e",
      "#ee6352",
      "#9ac2c9",
      "#8acb88",
      "#14b2c4",
    ];

    const room = '0';
    const username = Math.floor(Math.random() * 1000).toString();
    const color = usercolors[Math.floor(Math.random() * usercolors.length)];

    render(
      html`
        <${MystEditor}
          printCallback=${exampleCallback}
          templatelist="linkedtemplatelist.json"
          initialText=${exampleText}
          id="textarea_id"
          collaboration=${{
            enabled: import.meta.env.VITE_COLLAB == 'ON',
            wsUrl: import.meta.env.VITE_WS_URL,
            username,
            room,
            color,
          }}
          spellcheckOpts=${{
             dict: "en_US",
             dictionaryPath: "/myst-editor/dictionaries"
          }}
        />
      `, document.getElementById("myst")
    )
  </script>
  </head>
  <body>
    <div id="myst"></div>
  </body>
</html>
