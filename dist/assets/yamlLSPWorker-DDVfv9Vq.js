(function(){"use strict";var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function K$(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var ms={},gs={},ic={},Id={},Le={},vn={},dy;function Ea(){if(dy)return vn;dy=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.stringArray=vn.array=vn.func=vn.error=vn.number=vn.string=vn.boolean=void 0;function e(u){return u===!0||u===!1}vn.boolean=e;function t(u){return typeof u=="string"||u instanceof String}vn.string=t;function n(u){return typeof u=="number"||u instanceof Number}vn.number=n;function r(u){return u instanceof Error}vn.error=r;function i(u){return typeof u=="function"}vn.func=i;function s(u){return Array.isArray(u)}vn.array=s;function o(u){return s(u)&&u.every(c=>t(c))}return vn.stringArray=o,vn}var hy;function py(){if(hy)return Le;hy=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.Message=Le.NotificationType9=Le.NotificationType8=Le.NotificationType7=Le.NotificationType6=Le.NotificationType5=Le.NotificationType4=Le.NotificationType3=Le.NotificationType2=Le.NotificationType1=Le.NotificationType0=Le.NotificationType=Le.RequestType9=Le.RequestType8=Le.RequestType7=Le.RequestType6=Le.RequestType5=Le.RequestType4=Le.RequestType3=Le.RequestType2=Le.RequestType1=Le.RequestType=Le.RequestType0=Le.AbstractMessageSignature=Le.ParameterStructures=Le.ResponseError=Le.ErrorCodes=void 0;const e=Ea();var t;(function(F){F.ParseError=-32700,F.InvalidRequest=-32600,F.MethodNotFound=-32601,F.InvalidParams=-32602,F.InternalError=-32603,F.jsonrpcReservedErrorRangeStart=-32099,F.serverErrorStart=-32099,F.MessageWriteError=-32099,F.MessageReadError=-32098,F.PendingResponseRejected=-32097,F.ConnectionInactive=-32096,F.ServerNotInitialized=-32002,F.UnknownErrorCode=-32001,F.jsonrpcReservedErrorRangeEnd=-32e3,F.serverErrorEnd=-32e3})(t||(Le.ErrorCodes=t={}));class n extends Error{constructor(j,Q,ae){super(Q),this.code=e.number(j)?j:t.UnknownErrorCode,this.data=ae,Object.setPrototypeOf(this,n.prototype)}toJson(){const j={code:this.code,message:this.message};return this.data!==void 0&&(j.data=this.data),j}}Le.ResponseError=n;class r{constructor(j){this.kind=j}static is(j){return j===r.auto||j===r.byName||j===r.byPosition}toString(){return this.kind}}Le.ParameterStructures=r,r.auto=new r("auto"),r.byPosition=new r("byPosition"),r.byName=new r("byName");class i{constructor(j,Q){this.method=j,this.numberOfParams=Q}get parameterStructures(){return r.auto}}Le.AbstractMessageSignature=i;class s extends i{constructor(j){super(j,0)}}Le.RequestType0=s;class o extends i{constructor(j,Q=r.auto){super(j,1),this._parameterStructures=Q}get parameterStructures(){return this._parameterStructures}}Le.RequestType=o;class u extends i{constructor(j,Q=r.auto){super(j,1),this._parameterStructures=Q}get parameterStructures(){return this._parameterStructures}}Le.RequestType1=u;class c extends i{constructor(j){super(j,2)}}Le.RequestType2=c;class f extends i{constructor(j){super(j,3)}}Le.RequestType3=f;class d extends i{constructor(j){super(j,4)}}Le.RequestType4=d;class h extends i{constructor(j){super(j,5)}}Le.RequestType5=h;class v extends i{constructor(j){super(j,6)}}Le.RequestType6=v;class w extends i{constructor(j){super(j,7)}}Le.RequestType7=w;class k extends i{constructor(j){super(j,8)}}Le.RequestType8=k;class $ extends i{constructor(j){super(j,9)}}Le.RequestType9=$;class _ extends i{constructor(j,Q=r.auto){super(j,1),this._parameterStructures=Q}get parameterStructures(){return this._parameterStructures}}Le.NotificationType=_;class T extends i{constructor(j){super(j,0)}}Le.NotificationType0=T;class b extends i{constructor(j,Q=r.auto){super(j,1),this._parameterStructures=Q}get parameterStructures(){return this._parameterStructures}}Le.NotificationType1=b;class m extends i{constructor(j){super(j,2)}}Le.NotificationType2=m;class y extends i{constructor(j){super(j,3)}}Le.NotificationType3=y;class p extends i{constructor(j){super(j,4)}}Le.NotificationType4=p;class D extends i{constructor(j){super(j,5)}}Le.NotificationType5=D;class E extends i{constructor(j){super(j,6)}}Le.NotificationType6=E;class P extends i{constructor(j){super(j,7)}}Le.NotificationType7=P;class C extends i{constructor(j){super(j,8)}}Le.NotificationType8=C;class R extends i{constructor(j){super(j,9)}}Le.NotificationType9=R;var I;return function(F){function j(ce){const he=ce;return he&&e.string(he.method)&&(e.string(he.id)||e.number(he.id))}F.isRequest=j;function Q(ce){const he=ce;return he&&e.string(he.method)&&ce.id===void 0}F.isNotification=Q;function ae(ce){const he=ce;return he&&(he.result!==void 0||!!he.error)&&(e.string(he.id)||e.number(he.id)||he.id===null)}F.isResponse=ae}(I||(Le.Message=I={})),Le}var oi={},my;function gy(){if(my)return oi;my=1;var e;Object.defineProperty(oi,"__esModule",{value:!0}),oi.LRUCache=oi.LinkedMap=oi.Touch=void 0;var t;(function(i){i.None=0,i.First=1,i.AsOld=i.First,i.Last=2,i.AsNew=i.Last})(t||(oi.Touch=t={}));class n{constructor(){this[e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(s){return this._map.has(s)}get(s,o=t.None){const u=this._map.get(s);if(u)return o!==t.None&&this.touch(u,o),u.value}set(s,o,u=t.None){let c=this._map.get(s);if(c)c.value=o,u!==t.None&&this.touch(c,u);else{switch(c={key:s,value:o,next:void 0,previous:void 0},u){case t.None:this.addItemLast(c);break;case t.First:this.addItemFirst(c);break;case t.Last:this.addItemLast(c);break;default:this.addItemLast(c);break}this._map.set(s,c),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const o=this._map.get(s);if(o)return this._map.delete(s),this.removeItem(o),this._size--,o.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,o){const u=this._state;let c=this._head;for(;c;){if(o?s.bind(o)(c.value,c.key,this):s(c.value,c.key,this),this._state!==u)throw new Error("LinkedMap got modified during iteration.");c=c.next}}keys(){const s=this._state;let o=this._head;const u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(o){const c={value:o.key,done:!1};return o=o.next,c}else return{value:void 0,done:!0}}};return u}values(){const s=this._state;let o=this._head;const u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(o){const c={value:o.value,done:!1};return o=o.next,c}else return{value:void 0,done:!0}}};return u}entries(){const s=this._state;let o=this._head;const u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(o){const c={value:[o.key,o.value],done:!1};return o=o.next,c}else return{value:void 0,done:!0}}};return u}[(e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let o=this._head,u=this.size;for(;o&&u>s;)this._map.delete(o.key),o=o.next,u--;this._head=o,this._size=u,o&&(o.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const o=s.next,u=s.previous;if(!o||!u)throw new Error("Invalid list");o.previous=u,u.next=o}s.next=void 0,s.previous=void 0,this._state++}touch(s,o){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(o!==t.First&&o!==t.Last)){if(o===t.First){if(s===this._head)return;const u=s.next,c=s.previous;s===this._tail?(c.next=void 0,this._tail=c):(u.previous=c,c.next=u),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(o===t.Last){if(s===this._tail)return;const u=s.next,c=s.previous;s===this._head?(u.previous=void 0,this._head=u):(u.previous=c,c.next=u),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((o,u)=>{s.push([u,o])}),s}fromJSON(s){this.clear();for(const[o,u]of s)this.set(o,u)}}oi.LinkedMap=n;class r extends n{constructor(s,o=1){super(),this._limit=s,this._ratio=Math.min(Math.max(0,o),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get ratio(){return this._ratio}set ratio(s){this._ratio=Math.min(Math.max(0,s),1),this.checkTrim()}get(s,o=t.AsNew){return super.get(s,o)}peek(s){return super.get(s,t.None)}set(s,o){return super.set(s,o,t.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}return oi.LRUCache=r,oi}var Sa={},yy;function z$(){if(yy)return Sa;yy=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.Disposable=void 0;var e;return function(t){function n(r){return{dispose:r}}t.create=n}(e||(Sa.Disposable=e={})),Sa}var ys={},sc={},vy;function vs(){if(vy)return sc;vy=1,Object.defineProperty(sc,"__esModule",{value:!0});let e;function t(){if(e===void 0)throw new Error("No runtime abstraction layer installed");return e}return function(n){function r(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");e=i}n.install=r}(t||(t={})),sc.default=t,sc}var by;function $a(){if(by)return ys;by=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.Emitter=ys.Event=void 0;const e=vs();var t;(function(i){const s={dispose(){}};i.None=function(){return s}})(t||(ys.Event=t={}));class n{add(s,o=null,u){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(s),this._contexts.push(o),Array.isArray(u)&&u.push({dispose:()=>this.remove(s,o)})}remove(s,o=null){if(!this._callbacks)return;let u=!1;for(let c=0,f=this._callbacks.length;c<f;c++)if(this._callbacks[c]===s)if(this._contexts[c]===o){this._callbacks.splice(c,1),this._contexts.splice(c,1);return}else u=!0;if(u)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...s){if(!this._callbacks)return[];const o=[],u=this._callbacks.slice(0),c=this._contexts.slice(0);for(let f=0,d=u.length;f<d;f++)try{o.push(u[f].apply(c[f],s))}catch(h){(0,e.default)().console.error(h)}return o}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(s){this._options=s}get event(){return this._event||(this._event=(s,o,u)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,o);const c={dispose:()=>{this._callbacks&&(this._callbacks.remove(s,o),c.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(u)&&u.push(c),c}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return ys.Emitter=r,r._noop=function(){},ys}var bs={},Dy;function Md(){if(Dy)return bs;Dy=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.CancellationTokenSource=bs.CancellationToken=void 0;const e=vs(),t=Ea(),n=$a();var r;(function(u){u.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),u.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None});function c(f){const d=f;return d&&(d===u.None||d===u.Cancelled||t.boolean(d.isCancellationRequested)&&!!d.onCancellationRequested)}u.is=c})(r||(bs.CancellationToken=r={}));const i=Object.freeze(function(u,c){const f=(0,e.default)().timer.setTimeout(u.bind(c),0);return{dispose(){f.dispose()}}});class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class o{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=r.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=r.None}}return bs.CancellationTokenSource=o,bs}var Ds={},wy;function Y$(){if(wy)return Ds;wy=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.SharedArrayReceiverStrategy=Ds.SharedArraySenderStrategy=void 0;const e=Md();var t;(function(o){o.Continue=0,o.Cancelled=1})(t||(t={}));class n{constructor(){this.buffers=new Map}enableCancellation(u){if(u.id===null)return;const c=new SharedArrayBuffer(4),f=new Int32Array(c,0,1);f[0]=t.Continue,this.buffers.set(u.id,c),u.$cancellationData=c}async sendCancellation(u,c){const f=this.buffers.get(c);if(f===void 0)return;const d=new Int32Array(f,0,1);Atomics.store(d,0,t.Cancelled)}cleanup(u){this.buffers.delete(u)}dispose(){this.buffers.clear()}}Ds.SharedArraySenderStrategy=n;class r{constructor(u){this.data=new Int32Array(u,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===t.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class i{constructor(u){this.token=new r(u)}cancel(){}dispose(){}}class s{constructor(){this.kind="request"}createCancellationTokenSource(u){const c=u.$cancellationData;return c===void 0?new e.CancellationTokenSource:new i(c)}}return Ds.SharedArrayReceiverStrategy=s,Ds}var ai={},ka={},_y;function Ey(){if(_y)return ka;_y=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.Semaphore=void 0;const e=vs();class t{constructor(r=1){if(r<=0)throw new Error("Capacity must be greater than 0");this._capacity=r,this._active=0,this._waiting=[]}lock(r){return new Promise((i,s)=>{this._waiting.push({thunk:r,resolve:i,reject:s}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const r=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const i=r.thunk();i instanceof Promise?i.then(s=>{this._active--,r.resolve(s),this.runNext()},s=>{this._active--,r.reject(s),this.runNext()}):(this._active--,r.resolve(i),this.runNext())}catch(i){this._active--,r.reject(i),this.runNext()}}}return ka.Semaphore=t,ka}var Sy;function G$(){if(Sy)return ai;Sy=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.ReadableStreamMessageReader=ai.AbstractMessageReader=ai.MessageReader=void 0;const e=vs(),t=Ea(),n=$a(),r=Ey();var i;(function(c){function f(d){let h=d;return h&&t.func(h.listen)&&t.func(h.dispose)&&t.func(h.onError)&&t.func(h.onClose)&&t.func(h.onPartialMessage)}c.is=f})(i||(ai.MessageReader=i={}));class s{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter,this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(f){this.errorEmitter.fire(this.asError(f))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(f){this.partialMessageEmitter.fire(f)}asError(f){return f instanceof Error?f:new Error(`Reader received error. Reason: ${t.string(f.message)?f.message:"unknown"}`)}}ai.AbstractMessageReader=s;var o;(function(c){function f(d){let h,v;const w=new Map;let k;const $=new Map;if(d===void 0||typeof d=="string")h=d??"utf-8";else{if(h=d.charset??"utf-8",d.contentDecoder!==void 0&&(v=d.contentDecoder,w.set(v.name,v)),d.contentDecoders!==void 0)for(const _ of d.contentDecoders)w.set(_.name,_);if(d.contentTypeDecoder!==void 0&&(k=d.contentTypeDecoder,$.set(k.name,k)),d.contentTypeDecoders!==void 0)for(const _ of d.contentTypeDecoders)$.set(_.name,_)}return k===void 0&&(k=(0,e.default)().applicationJson.decoder,$.set(k.name,k)),{charset:h,contentDecoder:v,contentDecoders:w,contentTypeDecoder:k,contentTypeDecoders:$}}c.fromOptions=f})(o||(o={}));class u extends s{constructor(f,d){super(),this.readable=f,this.options=o.fromOptions(d),this.buffer=(0,e.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new r.Semaphore(1)}set partialMessageTimeout(f){this._partialMessageTimeout=f}get partialMessageTimeout(){return this._partialMessageTimeout}listen(f){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=f;const d=this.readable.onData(h=>{this.onData(h)});return this.readable.onError(h=>this.fireError(h)),this.readable.onClose(()=>this.fireClose()),d}onData(f){try{for(this.buffer.append(f);;){if(this.nextMessageLength===-1){const h=this.buffer.tryReadHeaders(!0);if(!h)return;const v=h.get("content-length");if(!v){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(h))}`));return}const w=parseInt(v);if(isNaN(w)){this.fireError(new Error(`Content-Length value must be a number. Got ${v}`));return}this.nextMessageLength=w}const d=this.buffer.tryReadBody(this.nextMessageLength);if(d===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const h=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(d):d,v=await this.options.contentTypeDecoder.decode(h,this.options);this.callback(v)}).catch(h=>{this.fireError(h)})}}catch(d){this.fireError(d)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,e.default)().timer.setTimeout((f,d)=>{this.partialMessageTimer=void 0,f===this.messageToken&&(this.firePartialMessage({messageToken:f,waitingTime:d}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}return ai.ReadableStreamMessageReader=u,ai}var ui={},$y;function J$(){if($y)return ui;$y=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.WriteableStreamMessageWriter=ui.AbstractMessageWriter=ui.MessageWriter=void 0;const e=vs(),t=Ea(),n=Ey(),r=$a(),i="Content-Length: ",s=`\r
`;var o;(function(d){function h(v){let w=v;return w&&t.func(w.dispose)&&t.func(w.onClose)&&t.func(w.onError)&&t.func(w.write)}d.is=h})(o||(ui.MessageWriter=o={}));class u{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(h,v,w){this.errorEmitter.fire([this.asError(h),v,w])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(h){return h instanceof Error?h:new Error(`Writer received error. Reason: ${t.string(h.message)?h.message:"unknown"}`)}}ui.AbstractMessageWriter=u;var c;(function(d){function h(v){return v===void 0||typeof v=="string"?{charset:v??"utf-8",contentTypeEncoder:(0,e.default)().applicationJson.encoder}:{charset:v.charset??"utf-8",contentEncoder:v.contentEncoder,contentTypeEncoder:v.contentTypeEncoder??(0,e.default)().applicationJson.encoder}}d.fromOptions=h})(c||(c={}));class f extends u{constructor(h,v){super(),this.writable=h,this.options=c.fromOptions(v),this.errorCount=0,this.writeSemaphore=new n.Semaphore(1),this.writable.onError(w=>this.fireError(w)),this.writable.onClose(()=>this.fireClose())}async write(h){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(h,this.options).then(w=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(w):w).then(w=>{const k=[];return k.push(i,w.byteLength.toString(),s),k.push(s),this.doWrite(h,k,w)},w=>{throw this.fireError(w),w}))}async doWrite(h,v,w){try{return await this.writable.write(v.join(""),"ascii"),this.writable.write(w)}catch(k){return this.handleError(k,h),Promise.reject(k)}}handleError(h,v){this.errorCount++,this.fireError(h,v,this.errorCount)}end(){this.writable.end()}}return ui.WriteableStreamMessageWriter=f,ui}var Ta={},ky;function Q$(){if(ky)return Ta;ky=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.AbstractMessageBuffer=void 0;const e=13,t=10,n=`\r
`;class r{constructor(s="utf-8"){this._encoding=s,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(s){const o=typeof s=="string"?this.fromString(s,this._encoding):s;this._chunks.push(o),this._totalLength+=o.byteLength}tryReadHeaders(s=!1){if(this._chunks.length===0)return;let o=0,u=0,c=0,f=0;e:for(;u<this._chunks.length;){const w=this._chunks[u];for(c=0;c<w.length;){switch(w[c]){case e:switch(o){case 0:o=1;break;case 2:o=3;break;default:o=0}break;case t:switch(o){case 1:o=2;break;case 3:o=4,c++;break e;default:o=0}break;default:o=0}c++}f+=w.byteLength,u++}if(o!==4)return;const d=this._read(f+c),h=new Map,v=this.toString(d,"ascii").split(n);if(v.length<2)return h;for(let w=0;w<v.length-2;w++){const k=v[w],$=k.indexOf(":");if($===-1)throw new Error(`Message header must separate key and value using ':'
${k}`);const _=k.substr(0,$),T=k.substr($+1).trim();h.set(s?_.toLowerCase():_,T)}return h}tryReadBody(s){if(!(this._totalLength<s))return this._read(s)}get numberOfBytes(){return this._totalLength}_read(s){if(s===0)return this.emptyBuffer();if(s>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===s){const f=this._chunks[0];return this._chunks.shift(),this._totalLength-=s,this.asNative(f)}if(this._chunks[0].byteLength>s){const f=this._chunks[0],d=this.asNative(f,s);return this._chunks[0]=f.slice(s),this._totalLength-=s,d}const o=this.allocNative(s);let u=0,c=0;for(;s>0;){const f=this._chunks[c];if(f.byteLength>s){const d=f.slice(0,s);o.set(d,u),u+=s,this._chunks[c]=f.slice(s),this._totalLength-=s,s-=s}else o.set(f,u),u+=f.byteLength,this._chunks.shift(),this._totalLength-=f.byteLength,s-=f.byteLength}return o}}return Ta.AbstractMessageBuffer=r,Ta}var Ld={},Ty;function X$(){return Ty||(Ty=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=vs(),n=Ea(),r=py(),i=gy(),s=$a(),o=Md();var u;(function(j){j.type=new r.NotificationType("$/cancelRequest")})(u||(u={}));var c;(function(j){function Q(ae){return typeof ae=="string"||typeof ae=="number"}j.is=Q})(c||(e.ProgressToken=c={}));var f;(function(j){j.type=new r.NotificationType("$/progress")})(f||(f={}));class d{constructor(){}}e.ProgressType=d;var h;(function(j){function Q(ae){return n.func(ae)}j.is=Q})(h||(h={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var v;(function(j){j[j.Off=0]="Off",j[j.Messages=1]="Messages",j[j.Compact=2]="Compact",j[j.Verbose=3]="Verbose"})(v||(e.Trace=v={}));var w;(function(j){j.Off="off",j.Messages="messages",j.Compact="compact",j.Verbose="verbose"})(w||(e.TraceValues=w={})),function(j){function Q(ce){if(!n.string(ce))return j.Off;switch(ce=ce.toLowerCase(),ce){case"off":return j.Off;case"messages":return j.Messages;case"compact":return j.Compact;case"verbose":return j.Verbose;default:return j.Off}}j.fromString=Q;function ae(ce){switch(ce){case j.Off:return"off";case j.Messages:return"messages";case j.Compact:return"compact";case j.Verbose:return"verbose";default:return"off"}}j.toString=ae}(v||(e.Trace=v={}));var k;(function(j){j.Text="text",j.JSON="json"})(k||(e.TraceFormat=k={})),function(j){function Q(ae){return n.string(ae)?(ae=ae.toLowerCase(),ae==="json"?j.JSON:j.Text):j.Text}j.fromString=Q}(k||(e.TraceFormat=k={}));var $;(function(j){j.type=new r.NotificationType("$/setTrace")})($||(e.SetTraceNotification=$={}));var _;(function(j){j.type=new r.NotificationType("$/logTrace")})(_||(e.LogTraceNotification=_={}));var T;(function(j){j[j.Closed=1]="Closed",j[j.Disposed=2]="Disposed",j[j.AlreadyListening=3]="AlreadyListening"})(T||(e.ConnectionErrors=T={}));class b extends Error{constructor(Q,ae){super(ae),this.code=Q,Object.setPrototypeOf(this,b.prototype)}}e.ConnectionError=b;var m;(function(j){function Q(ae){const ce=ae;return ce&&n.func(ce.cancelUndispatched)}j.is=Q})(m||(e.ConnectionStrategy=m={}));var y;(function(j){function Q(ae){const ce=ae;return ce&&(ce.kind===void 0||ce.kind==="id")&&n.func(ce.createCancellationTokenSource)&&(ce.dispose===void 0||n.func(ce.dispose))}j.is=Q})(y||(e.IdCancellationReceiverStrategy=y={}));var p;(function(j){function Q(ae){const ce=ae;return ce&&ce.kind==="request"&&n.func(ce.createCancellationTokenSource)&&(ce.dispose===void 0||n.func(ce.dispose))}j.is=Q})(p||(e.RequestCancellationReceiverStrategy=p={}));var D;(function(j){j.Message=Object.freeze({createCancellationTokenSource(ae){return new o.CancellationTokenSource}});function Q(ae){return y.is(ae)||p.is(ae)}j.is=Q})(D||(e.CancellationReceiverStrategy=D={}));var E;(function(j){j.Message=Object.freeze({sendCancellation(ae,ce){return ae.sendNotification(u.type,{id:ce})},cleanup(ae){}});function Q(ae){const ce=ae;return ce&&n.func(ce.sendCancellation)&&n.func(ce.cleanup)}j.is=Q})(E||(e.CancellationSenderStrategy=E={}));var P;(function(j){j.Message=Object.freeze({receiver:D.Message,sender:E.Message});function Q(ae){const ce=ae;return ce&&D.is(ce.receiver)&&E.is(ce.sender)}j.is=Q})(P||(e.CancellationStrategy=P={}));var C;(function(j){function Q(ae){const ce=ae;return ce&&n.func(ce.handleMessage)}j.is=Q})(C||(e.MessageStrategy=C={}));var R;(function(j){function Q(ae){const ce=ae;return ce&&(P.is(ce.cancellationStrategy)||m.is(ce.connectionStrategy)||C.is(ce.messageStrategy))}j.is=Q})(R||(e.ConnectionOptions=R={}));var I;(function(j){j[j.New=1]="New",j[j.Listening=2]="Listening",j[j.Closed=3]="Closed",j[j.Disposed=4]="Disposed"})(I||(I={}));function F(j,Q,ae,ce){const he=ae!==void 0?ae:e.NullLogger;let Te=0,Ye=0,ge=0;const V="2.0";let oe;const re=new Map;let q;const X=new Map,fe=new Map;let $e,ke=new i.LinkedMap,Fe=new Map,we=new Set,U=new Map,J=v.Off,de=k.Text,ne,Se=I.New;const Re=new s.Emitter,qe=new s.Emitter,Rt=new s.Emitter,Tt=new s.Emitter,dt=new s.Emitter,Ke=ce&&ce.cancellationStrategy?ce.cancellationStrategy:P.Message;function Ft(te){if(te===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+te.toString()}function At(te){return te===null?"res-unknown-"+(++ge).toString():"res-"+te.toString()}function Xt(){return"not-"+(++Ye).toString()}function yt(te,be){r.Message.isRequest(be)?te.set(Ft(be.id),be):r.Message.isResponse(be)?te.set(At(be.id),be):te.set(Xt(),be)}function Y(te){}function B(){return Se===I.Listening}function x(){return Se===I.Closed}function W(){return Se===I.Disposed}function O(){(Se===I.New||Se===I.Listening)&&(Se=I.Closed,qe.fire(void 0))}function S(te){Re.fire([te,void 0,void 0])}function A(te){Re.fire(te)}j.onClose(O),j.onError(S),Q.onClose(O),Q.onError(A);function M(){$e||ke.size===0||($e=(0,t.default)().timer.setImmediate(()=>{$e=void 0,Z()}))}function z(te){r.Message.isRequest(te)?Ee(te):r.Message.isNotification(te)?Pe(te):r.Message.isResponse(te)?je(te):xe(te)}function Z(){if(ke.size===0)return;const te=ke.shift();try{const be=ce?.messageStrategy;C.is(be)?be.handleMessage(te,z):z(te)}finally{M()}}const se=te=>{try{if(r.Message.isNotification(te)&&te.method===u.type.method){const be=te.params.id,Ae=Ft(be),Ie=ke.get(Ae);if(r.Message.isRequest(Ie)){const Ct=ce?.connectionStrategy,Bt=Ct&&Ct.cancelUndispatched?Ct.cancelUndispatched(Ie,Y):void 0;if(Bt&&(Bt.error!==void 0||Bt.result!==void 0)){ke.delete(Ae),U.delete(be),Bt.id=Ie.id,et(Bt,te.method,Date.now()),Q.write(Bt).catch(()=>he.error("Sending response for canceled message failed."));return}}const Nt=U.get(be);if(Nt!==void 0){Nt.cancel(),rt(te);return}else we.add(be)}yt(ke,te)}finally{M()}};function Ee(te){if(W())return;function be(ht,xt,bt){const Wt={jsonrpc:V,id:te.id};ht instanceof r.ResponseError?Wt.error=ht.toJson():Wt.result=ht===void 0?null:ht,et(Wt,xt,bt),Q.write(Wt).catch(()=>he.error("Sending response failed."))}function Ae(ht,xt,bt){const Wt={jsonrpc:V,id:te.id,error:ht.toJson()};et(Wt,xt,bt),Q.write(Wt).catch(()=>he.error("Sending response failed."))}function Ie(ht,xt,bt){ht===void 0&&(ht=null);const Wt={jsonrpc:V,id:te.id,result:ht};et(Wt,xt,bt),Q.write(Wt).catch(()=>he.error("Sending response failed."))}vt(te);const Nt=re.get(te.method);let Ct,Bt;Nt&&(Ct=Nt.type,Bt=Nt.handler);const Yt=Date.now();if(Bt||oe){const ht=te.id??String(Date.now()),xt=y.is(Ke.receiver)?Ke.receiver.createCancellationTokenSource(ht):Ke.receiver.createCancellationTokenSource(te);te.id!==null&&we.has(te.id)&&xt.cancel(),te.id!==null&&U.set(ht,xt);try{let bt;if(Bt)if(te.params===void 0){if(Ct!==void 0&&Ct.numberOfParams!==0){Ae(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${te.method} defines ${Ct.numberOfParams} params but received none.`),te.method,Yt);return}bt=Bt(xt.token)}else if(Array.isArray(te.params)){if(Ct!==void 0&&Ct.parameterStructures===r.ParameterStructures.byName){Ae(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${te.method} defines parameters by name but received parameters by position`),te.method,Yt);return}bt=Bt(...te.params,xt.token)}else{if(Ct!==void 0&&Ct.parameterStructures===r.ParameterStructures.byPosition){Ae(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${te.method} defines parameters by position but received parameters by name`),te.method,Yt);return}bt=Bt(te.params,xt.token)}else oe&&(bt=oe(te.method,te.params,xt.token));const Wt=bt;bt?Wt.then?Wt.then(En=>{U.delete(ht),be(En,te.method,Yt)},En=>{U.delete(ht),En instanceof r.ResponseError?Ae(En,te.method,Yt):En&&n.string(En.message)?Ae(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${te.method} failed with message: ${En.message}`),te.method,Yt):Ae(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${te.method} failed unexpectedly without providing any details.`),te.method,Yt)}):(U.delete(ht),be(bt,te.method,Yt)):(U.delete(ht),Ie(bt,te.method,Yt))}catch(bt){U.delete(ht),bt instanceof r.ResponseError?be(bt,te.method,Yt):bt&&n.string(bt.message)?Ae(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${te.method} failed with message: ${bt.message}`),te.method,Yt):Ae(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${te.method} failed unexpectedly without providing any details.`),te.method,Yt)}}else Ae(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${te.method}`),te.method,Yt)}function je(te){if(!W())if(te.id===null)te.error?he.error(`Received response message without id: Error is: 
${JSON.stringify(te.error,void 0,4)}`):he.error("Received response message without id. No further error information provided.");else{const be=te.id,Ae=Fe.get(be);if(Zt(te,Ae),Ae!==void 0){Fe.delete(be);try{if(te.error){const Ie=te.error;Ae.reject(new r.ResponseError(Ie.code,Ie.message,Ie.data))}else if(te.result!==void 0)Ae.resolve(te.result);else throw new Error("Should never happen.")}catch(Ie){Ie.message?he.error(`Response handler '${Ae.method}' failed with message: ${Ie.message}`):he.error(`Response handler '${Ae.method}' failed unexpectedly.`)}}}}function Pe(te){if(W())return;let be,Ae;if(te.method===u.type.method){const Ie=te.params.id;we.delete(Ie),rt(te);return}else{const Ie=X.get(te.method);Ie&&(Ae=Ie.handler,be=Ie.type)}if(Ae||q)try{if(rt(te),Ae)if(te.params===void 0)be!==void 0&&be.numberOfParams!==0&&be.parameterStructures!==r.ParameterStructures.byName&&he.error(`Notification ${te.method} defines ${be.numberOfParams} params but received none.`),Ae();else if(Array.isArray(te.params)){const Ie=te.params;te.method===f.type.method&&Ie.length===2&&c.is(Ie[0])?Ae({token:Ie[0],value:Ie[1]}):(be!==void 0&&(be.parameterStructures===r.ParameterStructures.byName&&he.error(`Notification ${te.method} defines parameters by name but received parameters by position`),be.numberOfParams!==te.params.length&&he.error(`Notification ${te.method} defines ${be.numberOfParams} params but received ${Ie.length} arguments`)),Ae(...Ie))}else be!==void 0&&be.parameterStructures===r.ParameterStructures.byPosition&&he.error(`Notification ${te.method} defines parameters by position but received parameters by name`),Ae(te.params);else q&&q(te.method,te.params)}catch(Ie){Ie.message?he.error(`Notification handler '${te.method}' failed with message: ${Ie.message}`):he.error(`Notification handler '${te.method}' failed unexpectedly.`)}else Rt.fire(te)}function xe(te){if(!te){he.error("Received empty message.");return}he.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(te,null,4)}`);const be=te;if(n.string(be.id)||n.number(be.id)){const Ae=be.id,Ie=Fe.get(Ae);Ie&&Ie.reject(new Error("The received response has neither a result nor an error property."))}}function Ce(te){if(te!=null)switch(J){case v.Verbose:return JSON.stringify(te,null,4);case v.Compact:return JSON.stringify(te);default:return}}function at(te){if(!(J===v.Off||!ne))if(de===k.Text){let be;(J===v.Verbose||J===v.Compact)&&te.params&&(be=`Params: ${Ce(te.params)}

`),ne.log(`Sending request '${te.method} - (${te.id})'.`,be)}else rr("send-request",te)}function jt(te){if(!(J===v.Off||!ne))if(de===k.Text){let be;(J===v.Verbose||J===v.Compact)&&(te.params?be=`Params: ${Ce(te.params)}

`:be=`No parameters provided.

`),ne.log(`Sending notification '${te.method}'.`,be)}else rr("send-notification",te)}function et(te,be,Ae){if(!(J===v.Off||!ne))if(de===k.Text){let Ie;(J===v.Verbose||J===v.Compact)&&(te.error&&te.error.data?Ie=`Error data: ${Ce(te.error.data)}

`:te.result?Ie=`Result: ${Ce(te.result)}

`:te.error===void 0&&(Ie=`No result returned.

`)),ne.log(`Sending response '${be} - (${te.id})'. Processing request took ${Date.now()-Ae}ms`,Ie)}else rr("send-response",te)}function vt(te){if(!(J===v.Off||!ne))if(de===k.Text){let be;(J===v.Verbose||J===v.Compact)&&te.params&&(be=`Params: ${Ce(te.params)}

`),ne.log(`Received request '${te.method} - (${te.id})'.`,be)}else rr("receive-request",te)}function rt(te){if(!(J===v.Off||!ne||te.method===_.type.method))if(de===k.Text){let be;(J===v.Verbose||J===v.Compact)&&(te.params?be=`Params: ${Ce(te.params)}

`:be=`No parameters provided.

`),ne.log(`Received notification '${te.method}'.`,be)}else rr("receive-notification",te)}function Zt(te,be){if(!(J===v.Off||!ne))if(de===k.Text){let Ae;if((J===v.Verbose||J===v.Compact)&&(te.error&&te.error.data?Ae=`Error data: ${Ce(te.error.data)}

`:te.result?Ae=`Result: ${Ce(te.result)}

`:te.error===void 0&&(Ae=`No result returned.

`)),be){const Ie=te.error?` Request failed: ${te.error.message} (${te.error.code}).`:"";ne.log(`Received response '${be.method} - (${te.id})' in ${Date.now()-be.timerStart}ms.${Ie}`,Ae)}else ne.log(`Received response ${te.id} without active response promise.`,Ae)}else rr("receive-response",te)}function rr(te,be){if(!ne||J===v.Off)return;const Ae={isLSPMessage:!0,type:te,message:be,timestamp:Date.now()};ne.log(Ae)}function ti(){if(x())throw new b(T.Closed,"Connection is closed.");if(W())throw new b(T.Disposed,"Connection is disposed.")}function ua(){if(B())throw new b(T.AlreadyListening,"Connection is already listening")}function ss(){if(!B())throw new Error("Call listen() first.")}function ni(te){return te===void 0?null:te}function Fi(te){if(te!==null)return te}function G(te){return te!=null&&!Array.isArray(te)&&typeof te=="object"}function Kt(te,be){switch(te){case r.ParameterStructures.auto:return G(be)?Fi(be):[ni(be)];case r.ParameterStructures.byName:if(!G(be))throw new Error("Received parameters by name but param is not an object literal.");return Fi(be);case r.ParameterStructures.byPosition:return[ni(be)];default:throw new Error(`Unknown parameter structure ${te.toString()}`)}}function zt(te,be){let Ae;const Ie=te.numberOfParams;switch(Ie){case 0:Ae=void 0;break;case 1:Ae=Kt(te.parameterStructures,be[0]);break;default:Ae=[];for(let Nt=0;Nt<be.length&&Nt<Ie;Nt++)Ae.push(ni(be[Nt]));if(be.length<Ie)for(let Nt=be.length;Nt<Ie;Nt++)Ae.push(null);break}return Ae}const He={sendNotification:(te,...be)=>{ti();let Ae,Ie;if(n.string(te)){Ae=te;const Ct=be[0];let Bt=0,Yt=r.ParameterStructures.auto;r.ParameterStructures.is(Ct)&&(Bt=1,Yt=Ct);let ht=be.length;const xt=ht-Bt;switch(xt){case 0:Ie=void 0;break;case 1:Ie=Kt(Yt,be[Bt]);break;default:if(Yt===r.ParameterStructures.byName)throw new Error(`Received ${xt} parameters for 'by Name' notification parameter structure.`);Ie=be.slice(Bt,ht).map(bt=>ni(bt));break}}else{const Ct=be;Ae=te.method,Ie=zt(te,Ct)}const Nt={jsonrpc:V,method:Ae,params:Ie};return jt(Nt),Q.write(Nt).catch(Ct=>{throw he.error("Sending notification failed."),Ct})},onNotification:(te,be)=>{ti();let Ae;return n.func(te)?q=te:be&&(n.string(te)?(Ae=te,X.set(te,{type:void 0,handler:be})):(Ae=te.method,X.set(te.method,{type:te,handler:be}))),{dispose:()=>{Ae!==void 0?X.delete(Ae):q=void 0}}},onProgress:(te,be,Ae)=>{if(fe.has(be))throw new Error(`Progress handler for token ${be} already registered`);return fe.set(be,Ae),{dispose:()=>{fe.delete(be)}}},sendProgress:(te,be,Ae)=>He.sendNotification(f.type,{token:be,value:Ae}),onUnhandledProgress:Tt.event,sendRequest:(te,...be)=>{ti(),ss();let Ae,Ie,Nt;if(n.string(te)){Ae=te;const ht=be[0],xt=be[be.length-1];let bt=0,Wt=r.ParameterStructures.auto;r.ParameterStructures.is(ht)&&(bt=1,Wt=ht);let En=be.length;o.CancellationToken.is(xt)&&(En=En-1,Nt=xt);const Mn=En-bt;switch(Mn){case 0:Ie=void 0;break;case 1:Ie=Kt(Wt,be[bt]);break;default:if(Wt===r.ParameterStructures.byName)throw new Error(`Received ${Mn} parameters for 'by Name' request parameter structure.`);Ie=be.slice(bt,En).map(Qm=>ni(Qm));break}}else{const ht=be;Ae=te.method,Ie=zt(te,ht);const xt=te.numberOfParams;Nt=o.CancellationToken.is(ht[xt])?ht[xt]:void 0}const Ct=Te++;let Bt;Nt&&(Bt=Nt.onCancellationRequested(()=>{const ht=Ke.sender.sendCancellation(He,Ct);return ht===void 0?(he.log(`Received no promise from cancellation strategy when cancelling id ${Ct}`),Promise.resolve()):ht.catch(()=>{he.log(`Sending cancellation messages for id ${Ct} failed`)})}));const Yt={jsonrpc:V,id:Ct,method:Ae,params:Ie};return at(Yt),typeof Ke.sender.enableCancellation=="function"&&Ke.sender.enableCancellation(Yt),new Promise(async(ht,xt)=>{const bt=Mn=>{ht(Mn),Ke.sender.cleanup(Ct),Bt?.dispose()},Wt=Mn=>{xt(Mn),Ke.sender.cleanup(Ct),Bt?.dispose()},En={method:Ae,timerStart:Date.now(),resolve:bt,reject:Wt};try{await Q.write(Yt),Fe.set(Ct,En)}catch(Mn){throw he.error("Sending request failed."),En.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,Mn.message?Mn.message:"Unknown reason")),Mn}})},onRequest:(te,be)=>{ti();let Ae=null;return h.is(te)?(Ae=void 0,oe=te):n.string(te)?(Ae=null,be!==void 0&&(Ae=te,re.set(te,{handler:be,type:void 0}))):be!==void 0&&(Ae=te.method,re.set(te.method,{type:te,handler:be})),{dispose:()=>{Ae!==null&&(Ae!==void 0?re.delete(Ae):oe=void 0)}}},hasPendingResponse:()=>Fe.size>0,trace:async(te,be,Ae)=>{let Ie=!1,Nt=k.Text;Ae!==void 0&&(n.boolean(Ae)?Ie=Ae:(Ie=Ae.sendNotification||!1,Nt=Ae.traceFormat||k.Text)),J=te,de=Nt,J===v.Off?ne=void 0:ne=be,Ie&&!x()&&!W()&&await He.sendNotification($.type,{value:v.toString(te)})},onError:Re.event,onClose:qe.event,onUnhandledNotification:Rt.event,onDispose:dt.event,end:()=>{Q.end()},dispose:()=>{if(W())return;Se=I.Disposed,dt.fire(void 0);const te=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const be of Fe.values())be.reject(te);Fe=new Map,U=new Map,we=new Set,ke=new i.LinkedMap,n.func(Q.dispose)&&Q.dispose(),n.func(j.dispose)&&j.dispose()},listen:()=>{ti(),ua(),Se=I.Listening,j.listen(se)},inspect:()=>{(0,t.default)().console.log("inspect")}};return He.onNotification(_.type,te=>{if(J===v.Off||!ne)return;const be=J===v.Verbose||J===v.Compact;ne.log(te.message,be?te.verbose:void 0)}),He.onNotification(f.type,te=>{const be=fe.get(te.token);be?be(te.value):Tt.fire(te)}),He}e.createMessageConnection=F}(Ld)),Ld}var Ay;function jd(){return Ay||(Ay=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;const t=py();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=gy();Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=z$();Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=$a();Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const s=Md();Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return s.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return s.CancellationToken}});const o=Y$();Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return o.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return o.SharedArrayReceiverStrategy}});const u=G$();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return u.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return u.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return u.ReadableStreamMessageReader}});const c=J$();Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return c.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return c.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return c.WriteableStreamMessageWriter}});const f=Q$();Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return f.AbstractMessageBuffer}});const d=X$();Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return d.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return d.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return d.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return d.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return d.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return d.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return d.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return d.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return d.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return d.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return d.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return d.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return d.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return d.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return d.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return d.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return d.MessageStrategy}});const h=vs();e.RAL=h.default}(Id)),Id}var Cy;function Z$(){if(Cy)return ic;Cy=1,Object.defineProperty(ic,"__esModule",{value:!0});const e=jd();class t extends e.AbstractMessageBuffer{constructor(c="utf-8"){super(c),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return t.emptyBuffer}fromString(c,f){return new TextEncoder().encode(c)}toString(c,f){return f==="ascii"?this.asciiDecoder.decode(c):new TextDecoder(f).decode(c)}asNative(c,f){return f===void 0?c:c.slice(0,f)}allocNative(c){return new Uint8Array(c)}}t.emptyBuffer=new Uint8Array(0);class n{constructor(c){this.socket=c,this._onData=new e.Emitter,this._messageListener=f=>{f.data.arrayBuffer().then(h=>{this._onData.fire(new Uint8Array(h))},()=>{(0,e.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(c){return this.socket.addEventListener("close",c),e.Disposable.create(()=>this.socket.removeEventListener("close",c))}onError(c){return this.socket.addEventListener("error",c),e.Disposable.create(()=>this.socket.removeEventListener("error",c))}onEnd(c){return this.socket.addEventListener("end",c),e.Disposable.create(()=>this.socket.removeEventListener("end",c))}onData(c){return this._onData.event(c)}}class r{constructor(c){this.socket=c}onClose(c){return this.socket.addEventListener("close",c),e.Disposable.create(()=>this.socket.removeEventListener("close",c))}onError(c){return this.socket.addEventListener("error",c),e.Disposable.create(()=>this.socket.removeEventListener("error",c))}onEnd(c){return this.socket.addEventListener("end",c),e.Disposable.create(()=>this.socket.removeEventListener("end",c))}write(c,f){if(typeof c=="string"){if(f!==void 0&&f!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${f}`);this.socket.send(c)}else this.socket.send(c);return Promise.resolve()}end(){this.socket.close()}}const i=new TextEncoder,s=Object.freeze({messageBuffer:Object.freeze({create:u=>new t(u)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(u,c)=>{if(c.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${c.charset}`);return Promise.resolve(i.encode(JSON.stringify(u,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(u,c)=>{if(!(u instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(c.charset).decode(u)))}})}),stream:Object.freeze({asReadableStream:u=>new n(u),asWritableStream:u=>new r(u)}),console,timer:Object.freeze({setTimeout(u,c,...f){const d=setTimeout(u,c,...f);return{dispose:()=>clearTimeout(d)}},setImmediate(u,...c){const f=setTimeout(u,0,...c);return{dispose:()=>clearTimeout(f)}},setInterval(u,c,...f){const d=setInterval(u,c,...f);return{dispose:()=>clearInterval(d)}}})});function o(){return s}return function(u){function c(){e.RAL.install(s)}u.install=c}(o||(o={})),ic.default=o,ic}var Oy;function bo(){return Oy||(Oy=1,function(e){var t=gs&&gs.__createBinding||(Object.create?function(c,f,d,h){h===void 0&&(h=d);var v=Object.getOwnPropertyDescriptor(f,d);(!v||("get"in v?!f.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,h,v)}:function(c,f,d,h){h===void 0&&(h=d),c[h]=f[d]}),n=gs&&gs.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&t(f,c,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,Z$().default.install();const i=jd();n(jd(),e);class s extends i.AbstractMessageReader{constructor(f){super(),this._onData=new i.Emitter,this._messageListener=d=>{this._onData.fire(d.data)},f.addEventListener("error",d=>this.fireError(d)),f.onmessage=this._messageListener}listen(f){return this._onData.event(f)}}e.BrowserMessageReader=s;class o extends i.AbstractMessageWriter{constructor(f){super(),this.port=f,this.errorCount=0,f.addEventListener("error",d=>this.fireError(d))}write(f){try{return this.port.postMessage(f),Promise.resolve()}catch(d){return this.handleError(d,f),Promise.reject(d)}}handleError(f,d){this.errorCount++,this.fireError(f,d,this.errorCount)}end(){}}e.BrowserMessageWriter=o;function u(c,f,d,h){return d===void 0&&(d=i.NullLogger),i.ConnectionStrategy.is(h)&&(h={connectionStrategy:h}),(0,i.createMessageConnection)(c,f,d,h)}e.createMessageConnection=u}(gs)),gs}var xd,Py;function Ny(){return Py||(Py=1,xd=bo()),xd}var ws={},qd;(function(e){function t(n){return typeof n=="string"}e.is=t})(qd||(qd={}));var oc;(function(e){function t(n){return typeof n=="string"}e.is=t})(oc||(oc={}));var Bd;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Bd||(Bd={}));var Aa;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Aa||(Aa={}));var tn;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=Aa.MAX_VALUE),i===Number.MAX_VALUE&&(i=Aa.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){let i=r;return pe.objectLiteral(i)&&pe.uinteger(i.line)&&pe.uinteger(i.character)}e.is=n})(tn||(tn={}));var Be;(function(e){function t(r,i,s,o){if(pe.uinteger(r)&&pe.uinteger(i)&&pe.uinteger(s)&&pe.uinteger(o))return{start:tn.create(r,i),end:tn.create(s,o)};if(tn.is(r)&&tn.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${s}, ${o}]`)}e.create=t;function n(r){let i=r;return pe.objectLiteral(i)&&tn.is(i.start)&&tn.is(i.end)}e.is=n})(Be||(Be={}));var _s;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){let i=r;return pe.objectLiteral(i)&&Be.is(i.range)&&(pe.string(i.uri)||pe.undefined(i.uri))}e.is=n})(_s||(_s={}));var ac;(function(e){function t(r,i,s,o){return{targetUri:r,targetRange:i,targetSelectionRange:s,originSelectionRange:o}}e.create=t;function n(r){let i=r;return pe.objectLiteral(i)&&Be.is(i.targetRange)&&pe.string(i.targetUri)&&Be.is(i.targetSelectionRange)&&(Be.is(i.originSelectionRange)||pe.undefined(i.originSelectionRange))}e.is=n})(ac||(ac={}));var uc;(function(e){function t(r,i,s,o){return{red:r,green:i,blue:s,alpha:o}}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&pe.numberRange(i.red,0,1)&&pe.numberRange(i.green,0,1)&&pe.numberRange(i.blue,0,1)&&pe.numberRange(i.alpha,0,1)}e.is=n})(uc||(uc={}));var Wd;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&Be.is(i.range)&&uc.is(i.color)}e.is=n})(Wd||(Wd={}));var Ud;(function(e){function t(r,i,s){return{label:r,textEdit:i,additionalTextEdits:s}}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&pe.string(i.label)&&(pe.undefined(i.textEdit)||Pt.is(i))&&(pe.undefined(i.additionalTextEdits)||pe.typedArray(i.additionalTextEdits,Pt.is))}e.is=n})(Ud||(Ud={}));var Vd;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Vd||(Vd={}));var cc;(function(e){function t(r,i,s,o,u,c){const f={startLine:r,endLine:i};return pe.defined(s)&&(f.startCharacter=s),pe.defined(o)&&(f.endCharacter=o),pe.defined(u)&&(f.kind=u),pe.defined(c)&&(f.collapsedText=c),f}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&pe.uinteger(i.startLine)&&pe.uinteger(i.startLine)&&(pe.undefined(i.startCharacter)||pe.uinteger(i.startCharacter))&&(pe.undefined(i.endCharacter)||pe.uinteger(i.endCharacter))&&(pe.undefined(i.kind)||pe.string(i.kind))}e.is=n})(cc||(cc={}));var lc;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){let i=r;return pe.defined(i)&&_s.is(i.location)&&pe.string(i.message)}e.is=n})(lc||(lc={}));var Ge;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Ge||(Ge={}));var fc;(function(e){e.Unnecessary=1,e.Deprecated=2})(fc||(fc={}));var Hd;(function(e){function t(n){const r=n;return pe.objectLiteral(r)&&pe.string(r.href)}e.is=t})(Hd||(Hd={}));var An;(function(e){function t(r,i,s,o,u,c){let f={range:r,message:i};return pe.defined(s)&&(f.severity=s),pe.defined(o)&&(f.code=o),pe.defined(u)&&(f.source=u),pe.defined(c)&&(f.relatedInformation=c),f}e.create=t;function n(r){var i;let s=r;return pe.defined(s)&&Be.is(s.range)&&pe.string(s.message)&&(pe.number(s.severity)||pe.undefined(s.severity))&&(pe.integer(s.code)||pe.string(s.code)||pe.undefined(s.code))&&(pe.undefined(s.codeDescription)||pe.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(pe.string(s.source)||pe.undefined(s.source))&&(pe.undefined(s.relatedInformation)||pe.typedArray(s.relatedInformation,lc.is))}e.is=n})(An||(An={}));var Hi;(function(e){function t(r,i,...s){let o={title:r,command:i};return pe.defined(s)&&s.length>0&&(o.arguments=s),o}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.string(i.title)&&pe.string(i.command)}e.is=n})(Hi||(Hi={}));var Pt;(function(e){function t(s,o){return{range:s,newText:o}}e.replace=t;function n(s,o){return{range:{start:s,end:s},newText:o}}e.insert=n;function r(s){return{range:s,newText:""}}e.del=r;function i(s){const o=s;return pe.objectLiteral(o)&&pe.string(o.newText)&&Be.is(o.range)}e.is=i})(Pt||(Pt={}));var Es;(function(e){function t(r,i,s){const o={label:r};return i!==void 0&&(o.needsConfirmation=i),s!==void 0&&(o.description=s),o}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&pe.string(i.label)&&(pe.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(pe.string(i.description)||i.description===void 0)}e.is=n})(Es||(Es={}));var bn;(function(e){function t(n){const r=n;return pe.string(r)}e.is=t})(bn||(bn={}));var ci;(function(e){function t(s,o,u){return{range:s,newText:o,annotationId:u}}e.replace=t;function n(s,o,u){return{range:{start:s,end:s},newText:o,annotationId:u}}e.insert=n;function r(s,o){return{range:s,newText:"",annotationId:o}}e.del=r;function i(s){const o=s;return Pt.is(o)&&(Es.is(o.annotationId)||bn.is(o.annotationId))}e.is=i})(ci||(ci={}));var Ca;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){let i=r;return pe.defined(i)&&Oa.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(Ca||(Ca={}));var Do;(function(e){function t(r,i,s){let o={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}e.create=t;function n(r){let i=r;return i&&i.kind==="create"&&pe.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||pe.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pe.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||bn.is(i.annotationId))}e.is=n})(Do||(Do={}));var wo;(function(e){function t(r,i,s,o){let u={kind:"rename",oldUri:r,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(u.options=s),o!==void 0&&(u.annotationId=o),u}e.create=t;function n(r){let i=r;return i&&i.kind==="rename"&&pe.string(i.oldUri)&&pe.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||pe.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pe.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||bn.is(i.annotationId))}e.is=n})(wo||(wo={}));var _o;(function(e){function t(r,i,s){let o={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}e.create=t;function n(r){let i=r;return i&&i.kind==="delete"&&pe.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||pe.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||pe.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||bn.is(i.annotationId))}e.is=n})(_o||(_o={}));var dc;(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>pe.string(i.kind)?Do.is(i)||wo.is(i)||_o.is(i):Ca.is(i)))}e.is=t})(dc||(dc={}));class hc{constructor(t,n){this.edits=t,this.changeAnnotations=n}insert(t,n,r){let i,s;if(r===void 0?i=Pt.insert(t,n):bn.is(r)?(s=r,i=ci.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=ci.insert(t,n,s)),this.edits.push(i),s!==void 0)return s}replace(t,n,r){let i,s;if(r===void 0?i=Pt.replace(t,n):bn.is(r)?(s=r,i=ci.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=ci.replace(t,n,s)),this.edits.push(i),s!==void 0)return s}delete(t,n){let r,i;if(n===void 0?r=Pt.del(t):bn.is(n)?(i=n,r=ci.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=ci.del(t,i)),this.edits.push(r),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class Ry{constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,n){let r;if(bn.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class ek{constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new Ry(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(n=>{if(Ca.is(n)){const r=new hc(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):t.changes&&Object.keys(t.changes).forEach(n=>{const r=new hc(t.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(Oa.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:t.uri,version:t.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],s={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(s),r=new hc(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[t];if(!n){let r=[];this._workspaceEdit.changes[t]=r,n=new hc(r),this._textEditChanges[t]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Ry,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Es.is(n)||bn.is(n)?i=n:r=n;let s,o;if(i===void 0?s=Do.create(t,r):(o=bn.is(i)?i:this._changeAnnotations.manage(i),s=Do.create(t,r,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o}renameFile(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let s;Es.is(r)||bn.is(r)?s=r:i=r;let o,u;if(s===void 0?o=wo.create(t,n,i):(u=bn.is(s)?s:this._changeAnnotations.manage(s),o=wo.create(t,n,i,u)),this._workspaceEdit.documentChanges.push(o),u!==void 0)return u}deleteFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Es.is(n)||bn.is(n)?i=n:r=n;let s,o;if(i===void 0?s=_o.create(t,r):(o=bn.is(i)?i:this._changeAnnotations.manage(i),s=_o.create(t,r,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o}}var Kd;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.string(i.uri)}e.is=n})(Kd||(Kd={}));var zd;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.string(i.uri)&&pe.integer(i.version)}e.is=n})(zd||(zd={}));var Oa;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.string(i.uri)&&(i.version===null||pe.integer(i.version))}e.is=n})(Oa||(Oa={}));var Yd;(function(e){function t(r,i,s,o){return{uri:r,languageId:i,version:s,text:o}}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.string(i.uri)&&pe.string(i.languageId)&&pe.integer(i.version)&&pe.string(i.text)}e.is=n})(Yd||(Yd={}));var Wr;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){const r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(Wr||(Wr={}));var Eo;(function(e){function t(n){const r=n;return pe.objectLiteral(n)&&Wr.is(r.kind)&&pe.string(r.value)}e.is=t})(Eo||(Eo={}));var qn;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(qn||(qn={}));var pn;(function(e){e.PlainText=1,e.Snippet=2})(pn||(pn={}));var Gd;(function(e){e.Deprecated=1})(Gd||(Gd={}));var Jd;(function(e){function t(r,i,s){return{newText:r,insert:i,replace:s}}e.create=t;function n(r){const i=r;return i&&pe.string(i.newText)&&Be.is(i.insert)&&Be.is(i.replace)}e.is=n})(Jd||(Jd={}));var pc;(function(e){e.asIs=1,e.adjustIndentation=2})(pc||(pc={}));var Qd;(function(e){function t(n){const r=n;return r&&(pe.string(r.detail)||r.detail===void 0)&&(pe.string(r.description)||r.description===void 0)}e.is=t})(Qd||(Qd={}));var mc;(function(e){function t(n){return{label:n}}e.create=t})(mc||(mc={}));var gc;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(gc||(gc={}));var Pa;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){const i=r;return pe.string(i)||pe.objectLiteral(i)&&pe.string(i.language)&&pe.string(i.value)}e.is=n})(Pa||(Pa={}));var Xd;(function(e){function t(n){let r=n;return!!r&&pe.objectLiteral(r)&&(Eo.is(r.contents)||Pa.is(r.contents)||pe.typedArray(r.contents,Pa.is))&&(n.range===void 0||Be.is(n.range))}e.is=t})(Xd||(Xd={}));var Zd;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(Zd||(Zd={}));var eh;(function(e){function t(n,r,...i){let s={label:n};return pe.defined(r)&&(s.documentation=r),pe.defined(i)?s.parameters=i:s.parameters=[],s}e.create=t})(eh||(eh={}));var th;(function(e){e.Text=1,e.Read=2,e.Write=3})(th||(th={}));var nh;(function(e){function t(n,r){let i={range:n};return pe.number(r)&&(i.kind=r),i}e.create=t})(nh||(nh={}));var Tr;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Tr||(Tr={}));var rh;(function(e){e.Deprecated=1})(rh||(rh={}));var ih;(function(e){function t(n,r,i,s,o){let u={name:n,kind:r,location:{uri:s,range:i}};return o&&(u.containerName=o),u}e.create=t})(ih||(ih={}));var sh;(function(e){function t(n,r,i,s){return s!==void 0?{name:n,kind:r,location:{uri:i,range:s}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(sh||(sh={}));var oh;(function(e){function t(r,i,s,o,u,c){let f={name:r,detail:i,kind:s,range:o,selectionRange:u};return c!==void 0&&(f.children=c),f}e.create=t;function n(r){let i=r;return i&&pe.string(i.name)&&pe.number(i.kind)&&Be.is(i.range)&&Be.is(i.selectionRange)&&(i.detail===void 0||pe.string(i.detail))&&(i.deprecated===void 0||pe.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(oh||(oh={}));var Ur;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Ur||(Ur={}));var Na;(function(e){e.Invoked=1,e.Automatic=2})(Na||(Na={}));var ah;(function(e){function t(r,i,s){let o={diagnostics:r};return i!=null&&(o.only=i),s!=null&&(o.triggerKind=s),o}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.typedArray(i.diagnostics,An.is)&&(i.only===void 0||pe.typedArray(i.only,pe.string))&&(i.triggerKind===void 0||i.triggerKind===Na.Invoked||i.triggerKind===Na.Automatic)}e.is=n})(ah||(ah={}));var Ar;(function(e){function t(r,i,s){let o={title:r},u=!0;return typeof i=="string"?(u=!1,o.kind=i):Hi.is(i)?o.command=i:o.edit=i,u&&s!==void 0&&(o.kind=s),o}e.create=t;function n(r){let i=r;return i&&pe.string(i.title)&&(i.diagnostics===void 0||pe.typedArray(i.diagnostics,An.is))&&(i.kind===void 0||pe.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Hi.is(i.command))&&(i.isPreferred===void 0||pe.boolean(i.isPreferred))&&(i.edit===void 0||dc.is(i.edit))}e.is=n})(Ar||(Ar={}));var yc;(function(e){function t(r,i){let s={range:r};return pe.defined(i)&&(s.data=i),s}e.create=t;function n(r){let i=r;return pe.defined(i)&&Be.is(i.range)&&(pe.undefined(i.command)||Hi.is(i.command))}e.is=n})(yc||(yc={}));var uh;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.uinteger(i.tabSize)&&pe.boolean(i.insertSpaces)}e.is=n})(uh||(uh={}));var ch;(function(e){function t(r,i,s){return{range:r,target:i,data:s}}e.create=t;function n(r){let i=r;return pe.defined(i)&&Be.is(i.range)&&(pe.undefined(i.target)||pe.string(i.target))}e.is=n})(ch||(ch={}));var Ra;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){let i=r;return pe.objectLiteral(i)&&Be.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(Ra||(Ra={}));var lh;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(lh||(lh={}));var fh;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(fh||(fh={}));var dh;(function(e){function t(n){const r=n;return pe.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(dh||(dh={}));var hh;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){const i=r;return i!=null&&Be.is(i.range)&&pe.string(i.text)}e.is=n})(hh||(hh={}));var ph;(function(e){function t(r,i,s){return{range:r,variableName:i,caseSensitiveLookup:s}}e.create=t;function n(r){const i=r;return i!=null&&Be.is(i.range)&&pe.boolean(i.caseSensitiveLookup)&&(pe.string(i.variableName)||i.variableName===void 0)}e.is=n})(ph||(ph={}));var mh;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){const i=r;return i!=null&&Be.is(i.range)&&(pe.string(i.expression)||i.expression===void 0)}e.is=n})(mh||(mh={}));var gh;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){const i=r;return pe.defined(i)&&Be.is(r.stoppedLocation)}e.is=n})(gh||(gh={}));var vc;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(vc||(vc={}));var bc;(function(e){function t(r){return{value:r}}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&(i.tooltip===void 0||pe.string(i.tooltip)||Eo.is(i.tooltip))&&(i.location===void 0||_s.is(i.location))&&(i.command===void 0||Hi.is(i.command))}e.is=n})(bc||(bc={}));var yh;(function(e){function t(r,i,s){const o={position:r,label:i};return s!==void 0&&(o.kind=s),o}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&tn.is(i.position)&&(pe.string(i.label)||pe.typedArray(i.label,bc.is))&&(i.kind===void 0||vc.is(i.kind))&&i.textEdits===void 0||pe.typedArray(i.textEdits,Pt.is)&&(i.tooltip===void 0||pe.string(i.tooltip)||Eo.is(i.tooltip))&&(i.paddingLeft===void 0||pe.boolean(i.paddingLeft))&&(i.paddingRight===void 0||pe.boolean(i.paddingRight))}e.is=n})(yh||(yh={}));var vh;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(vh||(vh={}));var bh;(function(e){function t(n,r,i,s){return{insertText:n,filterText:r,range:i,command:s}}e.create=t})(bh||(bh={}));var Dh;(function(e){function t(n){return{items:n}}e.create=t})(Dh||(Dh={}));var wh;(function(e){e.Invoked=0,e.Automatic=1})(wh||(wh={}));var _h;(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(_h||(_h={}));var Eh;(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(Eh||(Eh={}));var Sh;(function(e){function t(n){const r=n;return pe.objectLiteral(r)&&oc.is(r.uri)&&pe.string(r.name)}e.is=t})(Sh||(Sh={}));const tk=[`
`,`\r
`,"\r"];var $h;(function(e){function t(s,o,u,c){return new nk(s,o,u,c)}e.create=t;function n(s){let o=s;return!!(pe.defined(o)&&pe.string(o.uri)&&(pe.undefined(o.languageId)||pe.string(o.languageId))&&pe.uinteger(o.lineCount)&&pe.func(o.getText)&&pe.func(o.positionAt)&&pe.func(o.offsetAt))}e.is=n;function r(s,o){let u=s.getText(),c=i(o,(d,h)=>{let v=d.range.start.line-h.range.start.line;return v===0?d.range.start.character-h.range.start.character:v}),f=u.length;for(let d=c.length-1;d>=0;d--){let h=c[d],v=s.offsetAt(h.range.start),w=s.offsetAt(h.range.end);if(w<=f)u=u.substring(0,v)+h.newText+u.substring(w,u.length);else throw new Error("Overlapping edit");f=v}return u}e.applyEdits=r;function i(s,o){if(s.length<=1)return s;const u=s.length/2|0,c=s.slice(0,u),f=s.slice(u);i(c,o),i(f,o);let d=0,h=0,v=0;for(;d<c.length&&h<f.length;)o(c[d],f[h])<=0?s[v++]=c[d++]:s[v++]=f[h++];for(;d<c.length;)s[v++]=c[d++];for(;h<f.length;)s[v++]=f[h++];return s}})($h||($h={}));let nk=class{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(t.push(i),r=!1);let s=n.charAt(i);r=s==="\r"||s===`
`,s==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return tn.create(0,t);for(;r<i;){let o=Math.floor((r+i)/2);n[o]>t?i=o:r=o+1}let s=r-1;return tn.create(s,t-n[s])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}};var pe;(function(e){const t=Object.prototype.toString;function n(w){return typeof w<"u"}e.defined=n;function r(w){return typeof w>"u"}e.undefined=r;function i(w){return w===!0||w===!1}e.boolean=i;function s(w){return t.call(w)==="[object String]"}e.string=s;function o(w){return t.call(w)==="[object Number]"}e.number=o;function u(w,k,$){return t.call(w)==="[object Number]"&&k<=w&&w<=$}e.numberRange=u;function c(w){return t.call(w)==="[object Number]"&&-2147483648<=w&&w<=2147483647}e.integer=c;function f(w){return t.call(w)==="[object Number]"&&0<=w&&w<=2147483647}e.uinteger=f;function d(w){return t.call(w)==="[object Function]"}e.func=d;function h(w){return w!==null&&typeof w=="object"}e.objectLiteral=h;function v(w,k){return Array.isArray(w)&&w.every(k)}e.typedArray=v})(pe||(pe={}));var rk=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return ci},get ChangeAnnotation(){return Es},get ChangeAnnotationIdentifier(){return bn},get CodeAction(){return Ar},get CodeActionContext(){return ah},get CodeActionKind(){return Ur},get CodeActionTriggerKind(){return Na},get CodeDescription(){return Hd},get CodeLens(){return yc},get Color(){return uc},get ColorInformation(){return Wd},get ColorPresentation(){return Ud},get Command(){return Hi},get CompletionItem(){return mc},get CompletionItemKind(){return qn},get CompletionItemLabelDetails(){return Qd},get CompletionItemTag(){return Gd},get CompletionList(){return gc},get CreateFile(){return Do},get DeleteFile(){return _o},get Diagnostic(){return An},get DiagnosticRelatedInformation(){return lc},get DiagnosticSeverity(){return Ge},get DiagnosticTag(){return fc},get DocumentHighlight(){return nh},get DocumentHighlightKind(){return th},get DocumentLink(){return ch},get DocumentSymbol(){return oh},get DocumentUri(){return qd},EOL:tk,get FoldingRange(){return cc},get FoldingRangeKind(){return Vd},get FormattingOptions(){return uh},get Hover(){return Xd},get InlayHint(){return yh},get InlayHintKind(){return vc},get InlayHintLabelPart(){return bc},get InlineCompletionContext(){return Eh},get InlineCompletionItem(){return bh},get InlineCompletionList(){return Dh},get InlineCompletionTriggerKind(){return wh},get InlineValueContext(){return gh},get InlineValueEvaluatableExpression(){return mh},get InlineValueText(){return hh},get InlineValueVariableLookup(){return ph},get InsertReplaceEdit(){return Jd},get InsertTextFormat(){return pn},get InsertTextMode(){return pc},get Location(){return _s},get LocationLink(){return ac},get MarkedString(){return Pa},get MarkupContent(){return Eo},get MarkupKind(){return Wr},get OptionalVersionedTextDocumentIdentifier(){return Oa},get ParameterInformation(){return Zd},get Position(){return tn},get Range(){return Be},get RenameFile(){return wo},get SelectedCompletionInfo(){return _h},get SelectionRange(){return Ra},get SemanticTokenModifiers(){return fh},get SemanticTokenTypes(){return lh},get SemanticTokens(){return dh},get SignatureInformation(){return eh},get StringValue(){return vh},get SymbolInformation(){return ih},get SymbolKind(){return Tr},get SymbolTag(){return rh},get TextDocument(){return $h},get TextDocumentEdit(){return Ca},get TextDocumentIdentifier(){return Kd},get TextDocumentItem(){return Yd},get TextEdit(){return Pt},get URI(){return oc},get VersionedTextDocumentIdentifier(){return zd},WorkspaceChange:ek,get WorkspaceEdit(){return dc},get WorkspaceFolder(){return Sh},get WorkspaceSymbol(){return sh},get integer(){return Bd},get uinteger(){return Aa}}),kh=K$(rk),Cn={},Fy;function Vt(){if(Fy)return Cn;Fy=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.ProtocolNotificationType=Cn.ProtocolNotificationType0=Cn.ProtocolRequestType=Cn.ProtocolRequestType0=Cn.RegistrationType=Cn.MessageDirection=void 0;const e=bo();var t;(function(u){u.clientToServer="clientToServer",u.serverToClient="serverToClient",u.both="both"})(t||(Cn.MessageDirection=t={}));class n{constructor(c){this.method=c}}Cn.RegistrationType=n;class r extends e.RequestType0{constructor(c){super(c)}}Cn.ProtocolRequestType0=r;class i extends e.RequestType{constructor(c){super(c,e.ParameterStructures.byName)}}Cn.ProtocolRequestType=i;class s extends e.NotificationType0{constructor(c){super(c)}}Cn.ProtocolNotificationType0=s;class o extends e.NotificationType{constructor(c){super(c,e.ParameterStructures.byName)}}return Cn.ProtocolNotificationType=o,Cn}var Th={},nn={},Iy;function Ah(){if(Iy)return nn;Iy=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.objectLiteral=nn.typedArray=nn.stringArray=nn.array=nn.func=nn.error=nn.number=nn.string=nn.boolean=void 0;function e(f){return f===!0||f===!1}nn.boolean=e;function t(f){return typeof f=="string"||f instanceof String}nn.string=t;function n(f){return typeof f=="number"||f instanceof Number}nn.number=n;function r(f){return f instanceof Error}nn.error=r;function i(f){return typeof f=="function"}nn.func=i;function s(f){return Array.isArray(f)}nn.array=s;function o(f){return s(f)&&f.every(d=>t(d))}nn.stringArray=o;function u(f,d){return Array.isArray(f)&&f.every(d)}nn.typedArray=u;function c(f){return f!==null&&typeof f=="object"}return nn.objectLiteral=c,nn}var Fa={},My;function ik(){if(My)return Fa;My=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.ImplementationRequest=void 0;const e=Vt();var t;return function(n){n.method="textDocument/implementation",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)}(t||(Fa.ImplementationRequest=t={})),Fa}var Ia={},Ly;function sk(){if(Ly)return Ia;Ly=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.TypeDefinitionRequest=void 0;const e=Vt();var t;return function(n){n.method="textDocument/typeDefinition",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)}(t||(Ia.TypeDefinitionRequest=t={})),Ia}var Ss={},jy;function ok(){if(jy)return Ss;jy=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.DidChangeWorkspaceFoldersNotification=Ss.WorkspaceFoldersRequest=void 0;const e=Vt();var t;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=e.MessageDirection.serverToClient,r.type=new e.ProtocolRequestType0(r.method)})(t||(Ss.WorkspaceFoldersRequest=t={}));var n;return function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolNotificationType(r.method)}(n||(Ss.DidChangeWorkspaceFoldersNotification=n={})),Ss}var Ma={},xy;function ak(){if(xy)return Ma;xy=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.ConfigurationRequest=void 0;const e=Vt();var t;return function(n){n.method="workspace/configuration",n.messageDirection=e.MessageDirection.serverToClient,n.type=new e.ProtocolRequestType(n.method)}(t||(Ma.ConfigurationRequest=t={})),Ma}var $s={},qy;function uk(){if(qy)return $s;qy=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.ColorPresentationRequest=$s.DocumentColorRequest=void 0;const e=Vt();var t;(function(r){r.method="textDocument/documentColor",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(t||($s.DocumentColorRequest=t={}));var n;return function(r){r.method="textDocument/colorPresentation",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)}(n||($s.ColorPresentationRequest=n={})),$s}var ks={},By;function ck(){if(By)return ks;By=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.FoldingRangeRefreshRequest=ks.FoldingRangeRequest=void 0;const e=Vt();var t;(function(r){r.method="textDocument/foldingRange",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(t||(ks.FoldingRangeRequest=t={}));var n;return function(r){r.method="workspace/foldingRange/refresh",r.messageDirection=e.MessageDirection.serverToClient,r.type=new e.ProtocolRequestType0(r.method)}(n||(ks.FoldingRangeRefreshRequest=n={})),ks}var La={},Wy;function lk(){if(Wy)return La;Wy=1,Object.defineProperty(La,"__esModule",{value:!0}),La.DeclarationRequest=void 0;const e=Vt();var t;return function(n){n.method="textDocument/declaration",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)}(t||(La.DeclarationRequest=t={})),La}var ja={},Uy;function fk(){if(Uy)return ja;Uy=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.SelectionRangeRequest=void 0;const e=Vt();var t;return function(n){n.method="textDocument/selectionRange",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)}(t||(ja.SelectionRangeRequest=t={})),ja}var li={},Vy;function dk(){if(Vy)return li;Vy=1,Object.defineProperty(li,"__esModule",{value:!0}),li.WorkDoneProgressCancelNotification=li.WorkDoneProgressCreateRequest=li.WorkDoneProgress=void 0;const e=bo(),t=Vt();var n;(function(s){s.type=new e.ProgressType;function o(u){return u===s.type}s.is=o})(n||(li.WorkDoneProgress=n={}));var r;(function(s){s.method="window/workDoneProgress/create",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)})(r||(li.WorkDoneProgressCreateRequest=r={}));var i;return function(s){s.method="window/workDoneProgress/cancel",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(i||(li.WorkDoneProgressCancelNotification=i={})),li}var fi={},Hy;function hk(){if(Hy)return fi;Hy=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.CallHierarchyOutgoingCallsRequest=fi.CallHierarchyIncomingCallsRequest=fi.CallHierarchyPrepareRequest=void 0;const e=Vt();var t;(function(i){i.method="textDocument/prepareCallHierarchy",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(t||(fi.CallHierarchyPrepareRequest=t={}));var n;(function(i){i.method="callHierarchy/incomingCalls",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(n||(fi.CallHierarchyIncomingCallsRequest=n={}));var r;return function(i){i.method="callHierarchy/outgoingCalls",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)}(r||(fi.CallHierarchyOutgoingCallsRequest=r={})),fi}var On={},Ky;function pk(){if(Ky)return On;Ky=1,Object.defineProperty(On,"__esModule",{value:!0}),On.SemanticTokensRefreshRequest=On.SemanticTokensRangeRequest=On.SemanticTokensDeltaRequest=On.SemanticTokensRequest=On.SemanticTokensRegistrationType=On.TokenFormat=void 0;const e=Vt();var t;(function(u){u.Relative="relative"})(t||(On.TokenFormat=t={}));var n;(function(u){u.method="textDocument/semanticTokens",u.type=new e.RegistrationType(u.method)})(n||(On.SemanticTokensRegistrationType=n={}));var r;(function(u){u.method="textDocument/semanticTokens/full",u.messageDirection=e.MessageDirection.clientToServer,u.type=new e.ProtocolRequestType(u.method),u.registrationMethod=n.method})(r||(On.SemanticTokensRequest=r={}));var i;(function(u){u.method="textDocument/semanticTokens/full/delta",u.messageDirection=e.MessageDirection.clientToServer,u.type=new e.ProtocolRequestType(u.method),u.registrationMethod=n.method})(i||(On.SemanticTokensDeltaRequest=i={}));var s;(function(u){u.method="textDocument/semanticTokens/range",u.messageDirection=e.MessageDirection.clientToServer,u.type=new e.ProtocolRequestType(u.method),u.registrationMethod=n.method})(s||(On.SemanticTokensRangeRequest=s={}));var o;return function(u){u.method="workspace/semanticTokens/refresh",u.messageDirection=e.MessageDirection.serverToClient,u.type=new e.ProtocolRequestType0(u.method)}(o||(On.SemanticTokensRefreshRequest=o={})),On}var xa={},zy;function mk(){if(zy)return xa;zy=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.ShowDocumentRequest=void 0;const e=Vt();var t;return function(n){n.method="window/showDocument",n.messageDirection=e.MessageDirection.serverToClient,n.type=new e.ProtocolRequestType(n.method)}(t||(xa.ShowDocumentRequest=t={})),xa}var qa={},Yy;function gk(){if(Yy)return qa;Yy=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.LinkedEditingRangeRequest=void 0;const e=Vt();var t;return function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)}(t||(qa.LinkedEditingRangeRequest=t={})),qa}var Dn={},Gy;function yk(){if(Gy)return Dn;Gy=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.WillDeleteFilesRequest=Dn.DidDeleteFilesNotification=Dn.DidRenameFilesNotification=Dn.WillRenameFilesRequest=Dn.DidCreateFilesNotification=Dn.WillCreateFilesRequest=Dn.FileOperationPatternKind=void 0;const e=Vt();var t;(function(c){c.file="file",c.folder="folder"})(t||(Dn.FileOperationPatternKind=t={}));var n;(function(c){c.method="workspace/willCreateFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(n||(Dn.WillCreateFilesRequest=n={}));var r;(function(c){c.method="workspace/didCreateFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(r||(Dn.DidCreateFilesNotification=r={}));var i;(function(c){c.method="workspace/willRenameFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(i||(Dn.WillRenameFilesRequest=i={}));var s;(function(c){c.method="workspace/didRenameFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(s||(Dn.DidRenameFilesNotification=s={}));var o;(function(c){c.method="workspace/didDeleteFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(o||(Dn.DidDeleteFilesNotification=o={}));var u;return function(c){c.method="workspace/willDeleteFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)}(u||(Dn.WillDeleteFilesRequest=u={})),Dn}var di={},Jy;function vk(){if(Jy)return di;Jy=1,Object.defineProperty(di,"__esModule",{value:!0}),di.MonikerRequest=di.MonikerKind=di.UniquenessLevel=void 0;const e=Vt();var t;(function(i){i.document="document",i.project="project",i.group="group",i.scheme="scheme",i.global="global"})(t||(di.UniquenessLevel=t={}));var n;(function(i){i.$import="import",i.$export="export",i.local="local"})(n||(di.MonikerKind=n={}));var r;return function(i){i.method="textDocument/moniker",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)}(r||(di.MonikerRequest=r={})),di}var hi={},Qy;function bk(){if(Qy)return hi;Qy=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.TypeHierarchySubtypesRequest=hi.TypeHierarchySupertypesRequest=hi.TypeHierarchyPrepareRequest=void 0;const e=Vt();var t;(function(i){i.method="textDocument/prepareTypeHierarchy",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(t||(hi.TypeHierarchyPrepareRequest=t={}));var n;(function(i){i.method="typeHierarchy/supertypes",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(n||(hi.TypeHierarchySupertypesRequest=n={}));var r;return function(i){i.method="typeHierarchy/subtypes",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)}(r||(hi.TypeHierarchySubtypesRequest=r={})),hi}var Ts={},Xy;function Dk(){if(Xy)return Ts;Xy=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.InlineValueRefreshRequest=Ts.InlineValueRequest=void 0;const e=Vt();var t;(function(r){r.method="textDocument/inlineValue",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(t||(Ts.InlineValueRequest=t={}));var n;return function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=e.MessageDirection.serverToClient,r.type=new e.ProtocolRequestType0(r.method)}(n||(Ts.InlineValueRefreshRequest=n={})),Ts}var pi={},Zy;function wk(){if(Zy)return pi;Zy=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.InlayHintRefreshRequest=pi.InlayHintResolveRequest=pi.InlayHintRequest=void 0;const e=Vt();var t;(function(i){i.method="textDocument/inlayHint",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(t||(pi.InlayHintRequest=t={}));var n;(function(i){i.method="inlayHint/resolve",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(n||(pi.InlayHintResolveRequest=n={}));var r;return function(i){i.method="workspace/inlayHint/refresh",i.messageDirection=e.MessageDirection.serverToClient,i.type=new e.ProtocolRequestType0(i.method)}(r||(pi.InlayHintRefreshRequest=r={})),pi}var Jn={},e0;function _k(){if(e0)return Jn;e0=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.DiagnosticRefreshRequest=Jn.WorkspaceDiagnosticRequest=Jn.DocumentDiagnosticRequest=Jn.DocumentDiagnosticReportKind=Jn.DiagnosticServerCancellationData=void 0;const e=bo(),t=Ah(),n=Vt();var r;(function(c){function f(d){const h=d;return h&&t.boolean(h.retriggerRequest)}c.is=f})(r||(Jn.DiagnosticServerCancellationData=r={}));var i;(function(c){c.Full="full",c.Unchanged="unchanged"})(i||(Jn.DocumentDiagnosticReportKind=i={}));var s;(function(c){c.method="textDocument/diagnostic",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method),c.partialResult=new e.ProgressType})(s||(Jn.DocumentDiagnosticRequest=s={}));var o;(function(c){c.method="workspace/diagnostic",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method),c.partialResult=new e.ProgressType})(o||(Jn.WorkspaceDiagnosticRequest=o={}));var u;return function(c){c.method="workspace/diagnostic/refresh",c.messageDirection=n.MessageDirection.serverToClient,c.type=new n.ProtocolRequestType0(c.method)}(u||(Jn.DiagnosticRefreshRequest=u={})),Jn}var Ht={},t0;function Ek(){if(t0)return Ht;t0=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.DidCloseNotebookDocumentNotification=Ht.DidSaveNotebookDocumentNotification=Ht.DidChangeNotebookDocumentNotification=Ht.NotebookCellArrayChange=Ht.DidOpenNotebookDocumentNotification=Ht.NotebookDocumentSyncRegistrationType=Ht.NotebookDocument=Ht.NotebookCell=Ht.ExecutionSummary=Ht.NotebookCellKind=void 0;const e=kh,t=Ah(),n=Vt();var r;(function(w){w.Markup=1,w.Code=2;function k($){return $===1||$===2}w.is=k})(r||(Ht.NotebookCellKind=r={}));var i;(function(w){function k(T,b){const m={executionOrder:T};return(b===!0||b===!1)&&(m.success=b),m}w.create=k;function $(T){const b=T;return t.objectLiteral(b)&&e.uinteger.is(b.executionOrder)&&(b.success===void 0||t.boolean(b.success))}w.is=$;function _(T,b){return T===b?!0:T==null||b===null||b===void 0?!1:T.executionOrder===b.executionOrder&&T.success===b.success}w.equals=_})(i||(Ht.ExecutionSummary=i={}));var s;(function(w){function k(b,m){return{kind:b,document:m}}w.create=k;function $(b){const m=b;return t.objectLiteral(m)&&r.is(m.kind)&&e.DocumentUri.is(m.document)&&(m.metadata===void 0||t.objectLiteral(m.metadata))}w.is=$;function _(b,m){const y=new Set;return b.document!==m.document&&y.add("document"),b.kind!==m.kind&&y.add("kind"),b.executionSummary!==m.executionSummary&&y.add("executionSummary"),(b.metadata!==void 0||m.metadata!==void 0)&&!T(b.metadata,m.metadata)&&y.add("metadata"),(b.executionSummary!==void 0||m.executionSummary!==void 0)&&!i.equals(b.executionSummary,m.executionSummary)&&y.add("executionSummary"),y}w.diff=_;function T(b,m){if(b===m)return!0;if(b==null||m===null||m===void 0||typeof b!=typeof m||typeof b!="object")return!1;const y=Array.isArray(b),p=Array.isArray(m);if(y!==p)return!1;if(y&&p){if(b.length!==m.length)return!1;for(let D=0;D<b.length;D++)if(!T(b[D],m[D]))return!1}if(t.objectLiteral(b)&&t.objectLiteral(m)){const D=Object.keys(b),E=Object.keys(m);if(D.length!==E.length||(D.sort(),E.sort(),!T(D,E)))return!1;for(let P=0;P<D.length;P++){const C=D[P];if(!T(b[C],m[C]))return!1}}return!0}})(s||(Ht.NotebookCell=s={}));var o;(function(w){function k(_,T,b,m){return{uri:_,notebookType:T,version:b,cells:m}}w.create=k;function $(_){const T=_;return t.objectLiteral(T)&&t.string(T.uri)&&e.integer.is(T.version)&&t.typedArray(T.cells,s.is)}w.is=$})(o||(Ht.NotebookDocument=o={}));var u;(function(w){w.method="notebookDocument/sync",w.messageDirection=n.MessageDirection.clientToServer,w.type=new n.RegistrationType(w.method)})(u||(Ht.NotebookDocumentSyncRegistrationType=u={}));var c;(function(w){w.method="notebookDocument/didOpen",w.messageDirection=n.MessageDirection.clientToServer,w.type=new n.ProtocolNotificationType(w.method),w.registrationMethod=u.method})(c||(Ht.DidOpenNotebookDocumentNotification=c={}));var f;(function(w){function k(_){const T=_;return t.objectLiteral(T)&&e.uinteger.is(T.start)&&e.uinteger.is(T.deleteCount)&&(T.cells===void 0||t.typedArray(T.cells,s.is))}w.is=k;function $(_,T,b){const m={start:_,deleteCount:T};return b!==void 0&&(m.cells=b),m}w.create=$})(f||(Ht.NotebookCellArrayChange=f={}));var d;(function(w){w.method="notebookDocument/didChange",w.messageDirection=n.MessageDirection.clientToServer,w.type=new n.ProtocolNotificationType(w.method),w.registrationMethod=u.method})(d||(Ht.DidChangeNotebookDocumentNotification=d={}));var h;(function(w){w.method="notebookDocument/didSave",w.messageDirection=n.MessageDirection.clientToServer,w.type=new n.ProtocolNotificationType(w.method),w.registrationMethod=u.method})(h||(Ht.DidSaveNotebookDocumentNotification=h={}));var v;return function(w){w.method="notebookDocument/didClose",w.messageDirection=n.MessageDirection.clientToServer,w.type=new n.ProtocolNotificationType(w.method),w.registrationMethod=u.method}(v||(Ht.DidCloseNotebookDocumentNotification=v={})),Ht}var Ba={},n0;function Sk(){if(n0)return Ba;n0=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.InlineCompletionRequest=void 0;const e=Vt();var t;return function(n){n.method="textDocument/inlineCompletion",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)}(t||(Ba.InlineCompletionRequest=t={})),Ba}var r0;function $k(){return r0||(r0=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=Vt(),n=kh,r=Ah(),i=ik();Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const s=sk();Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return s.TypeDefinitionRequest}});const o=ok();Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return o.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return o.DidChangeWorkspaceFoldersNotification}});const u=ak();Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const c=uk();Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return c.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return c.ColorPresentationRequest}});const f=ck();Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return f.FoldingRangeRequest}}),Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return f.FoldingRangeRefreshRequest}});const d=lk();Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return d.DeclarationRequest}});const h=fk();Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return h.SelectionRangeRequest}});const v=dk();Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return v.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return v.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return v.WorkDoneProgressCancelNotification}});const w=hk();Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return w.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return w.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return w.CallHierarchyPrepareRequest}});const k=pk();Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return k.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return k.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return k.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return k.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return k.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return k.SemanticTokensRegistrationType}});const $=mk();Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return $.ShowDocumentRequest}});const _=gk();Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return _.LinkedEditingRangeRequest}});const T=yk();Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return T.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return T.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return T.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return T.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return T.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return T.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return T.WillDeleteFilesRequest}});const b=vk();Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return b.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return b.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return b.MonikerRequest}});const m=bk();Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return m.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return m.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return m.TypeHierarchySupertypesRequest}});const y=Dk();Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return y.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return y.InlineValueRefreshRequest}});const p=wk();Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return p.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return p.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return p.InlayHintRefreshRequest}});const D=_k();Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return D.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return D.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return D.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return D.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return D.DiagnosticRefreshRequest}});const E=Ek();Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return E.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return E.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return E.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return E.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return E.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return E.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidCloseNotebookDocumentNotification}});const P=Sk();Object.defineProperty(e,"InlineCompletionRequest",{enumerable:!0,get:function(){return P.InlineCompletionRequest}});var C;(function(G){function Kt(zt){const He=zt;return r.string(He)||r.string(He.language)||r.string(He.scheme)||r.string(He.pattern)}G.is=Kt})(C||(e.TextDocumentFilter=C={}));var R;(function(G){function Kt(zt){const He=zt;return r.objectLiteral(He)&&(r.string(He.notebookType)||r.string(He.scheme)||r.string(He.pattern))}G.is=Kt})(R||(e.NotebookDocumentFilter=R={}));var I;(function(G){function Kt(zt){const He=zt;return r.objectLiteral(He)&&(r.string(He.notebook)||R.is(He.notebook))&&(He.language===void 0||r.string(He.language))}G.is=Kt})(I||(e.NotebookCellTextDocumentFilter=I={}));var F;(function(G){function Kt(zt){if(!Array.isArray(zt))return!1;for(let He of zt)if(!r.string(He)&&!C.is(He)&&!I.is(He))return!1;return!0}G.is=Kt})(F||(e.DocumentSelector=F={}));var j;(function(G){G.method="client/registerCapability",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolRequestType(G.method)})(j||(e.RegistrationRequest=j={}));var Q;(function(G){G.method="client/unregisterCapability",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolRequestType(G.method)})(Q||(e.UnregistrationRequest=Q={}));var ae;(function(G){G.Create="create",G.Rename="rename",G.Delete="delete"})(ae||(e.ResourceOperationKind=ae={}));var ce;(function(G){G.Abort="abort",G.Transactional="transactional",G.TextOnlyTransactional="textOnlyTransactional",G.Undo="undo"})(ce||(e.FailureHandlingKind=ce={}));var he;(function(G){G.UTF8="utf-8",G.UTF16="utf-16",G.UTF32="utf-32"})(he||(e.PositionEncodingKind=he={}));var Te;(function(G){function Kt(zt){const He=zt;return He&&r.string(He.id)&&He.id.length>0}G.hasId=Kt})(Te||(e.StaticRegistrationOptions=Te={}));var Ye;(function(G){function Kt(zt){const He=zt;return He&&(He.documentSelector===null||F.is(He.documentSelector))}G.is=Kt})(Ye||(e.TextDocumentRegistrationOptions=Ye={}));var ge;(function(G){function Kt(He){const te=He;return r.objectLiteral(te)&&(te.workDoneProgress===void 0||r.boolean(te.workDoneProgress))}G.is=Kt;function zt(He){const te=He;return te&&r.boolean(te.workDoneProgress)}G.hasWorkDoneProgress=zt})(ge||(e.WorkDoneProgressOptions=ge={}));var V;(function(G){G.method="initialize",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(V||(e.InitializeRequest=V={}));var oe;(function(G){G.unknownProtocolVersion=1})(oe||(e.InitializeErrorCodes=oe={}));var re;(function(G){G.method="initialized",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(re||(e.InitializedNotification=re={}));var q;(function(G){G.method="shutdown",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType0(G.method)})(q||(e.ShutdownRequest=q={}));var X;(function(G){G.method="exit",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType0(G.method)})(X||(e.ExitNotification=X={}));var fe;(function(G){G.method="workspace/didChangeConfiguration",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(fe||(e.DidChangeConfigurationNotification=fe={}));var $e;(function(G){G.Error=1,G.Warning=2,G.Info=3,G.Log=4,G.Debug=5})($e||(e.MessageType=$e={}));var ke;(function(G){G.method="window/showMessage",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolNotificationType(G.method)})(ke||(e.ShowMessageNotification=ke={}));var Fe;(function(G){G.method="window/showMessageRequest",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolRequestType(G.method)})(Fe||(e.ShowMessageRequest=Fe={}));var we;(function(G){G.method="window/logMessage",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolNotificationType(G.method)})(we||(e.LogMessageNotification=we={}));var U;(function(G){G.method="telemetry/event",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolNotificationType(G.method)})(U||(e.TelemetryEventNotification=U={}));var J;(function(G){G.None=0,G.Full=1,G.Incremental=2})(J||(e.TextDocumentSyncKind=J={}));var de;(function(G){G.method="textDocument/didOpen",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(de||(e.DidOpenTextDocumentNotification=de={}));var ne;(function(G){function Kt(He){let te=He;return te!=null&&typeof te.text=="string"&&te.range!==void 0&&(te.rangeLength===void 0||typeof te.rangeLength=="number")}G.isIncremental=Kt;function zt(He){let te=He;return te!=null&&typeof te.text=="string"&&te.range===void 0&&te.rangeLength===void 0}G.isFull=zt})(ne||(e.TextDocumentContentChangeEvent=ne={}));var Se;(function(G){G.method="textDocument/didChange",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(Se||(e.DidChangeTextDocumentNotification=Se={}));var Re;(function(G){G.method="textDocument/didClose",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(Re||(e.DidCloseTextDocumentNotification=Re={}));var qe;(function(G){G.method="textDocument/didSave",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(qe||(e.DidSaveTextDocumentNotification=qe={}));var Rt;(function(G){G.Manual=1,G.AfterDelay=2,G.FocusOut=3})(Rt||(e.TextDocumentSaveReason=Rt={}));var Tt;(function(G){G.method="textDocument/willSave",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(Tt||(e.WillSaveTextDocumentNotification=Tt={}));var dt;(function(G){G.method="textDocument/willSaveWaitUntil",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(dt||(e.WillSaveTextDocumentWaitUntilRequest=dt={}));var Ke;(function(G){G.method="workspace/didChangeWatchedFiles",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(Ke||(e.DidChangeWatchedFilesNotification=Ke={}));var Ft;(function(G){G.Created=1,G.Changed=2,G.Deleted=3})(Ft||(e.FileChangeType=Ft={}));var At;(function(G){function Kt(zt){const He=zt;return r.objectLiteral(He)&&(n.URI.is(He.baseUri)||n.WorkspaceFolder.is(He.baseUri))&&r.string(He.pattern)}G.is=Kt})(At||(e.RelativePattern=At={}));var Xt;(function(G){G.Create=1,G.Change=2,G.Delete=4})(Xt||(e.WatchKind=Xt={}));var yt;(function(G){G.method="textDocument/publishDiagnostics",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolNotificationType(G.method)})(yt||(e.PublishDiagnosticsNotification=yt={}));var Y;(function(G){G.Invoked=1,G.TriggerCharacter=2,G.TriggerForIncompleteCompletions=3})(Y||(e.CompletionTriggerKind=Y={}));var B;(function(G){G.method="textDocument/completion",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(B||(e.CompletionRequest=B={}));var x;(function(G){G.method="completionItem/resolve",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(x||(e.CompletionResolveRequest=x={}));var W;(function(G){G.method="textDocument/hover",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(W||(e.HoverRequest=W={}));var O;(function(G){G.Invoked=1,G.TriggerCharacter=2,G.ContentChange=3})(O||(e.SignatureHelpTriggerKind=O={}));var S;(function(G){G.method="textDocument/signatureHelp",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(S||(e.SignatureHelpRequest=S={}));var A;(function(G){G.method="textDocument/definition",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(A||(e.DefinitionRequest=A={}));var M;(function(G){G.method="textDocument/references",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(M||(e.ReferencesRequest=M={}));var z;(function(G){G.method="textDocument/documentHighlight",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(z||(e.DocumentHighlightRequest=z={}));var Z;(function(G){G.method="textDocument/documentSymbol",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(Z||(e.DocumentSymbolRequest=Z={}));var se;(function(G){G.method="textDocument/codeAction",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(se||(e.CodeActionRequest=se={}));var Ee;(function(G){G.method="codeAction/resolve",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(Ee||(e.CodeActionResolveRequest=Ee={}));var je;(function(G){G.method="workspace/symbol",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(je||(e.WorkspaceSymbolRequest=je={}));var Pe;(function(G){G.method="workspaceSymbol/resolve",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(Pe||(e.WorkspaceSymbolResolveRequest=Pe={}));var xe;(function(G){G.method="textDocument/codeLens",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(xe||(e.CodeLensRequest=xe={}));var Ce;(function(G){G.method="codeLens/resolve",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(Ce||(e.CodeLensResolveRequest=Ce={}));var at;(function(G){G.method="workspace/codeLens/refresh",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolRequestType0(G.method)})(at||(e.CodeLensRefreshRequest=at={}));var jt;(function(G){G.method="textDocument/documentLink",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(jt||(e.DocumentLinkRequest=jt={}));var et;(function(G){G.method="documentLink/resolve",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(et||(e.DocumentLinkResolveRequest=et={}));var vt;(function(G){G.method="textDocument/formatting",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(vt||(e.DocumentFormattingRequest=vt={}));var rt;(function(G){G.method="textDocument/rangeFormatting",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(rt||(e.DocumentRangeFormattingRequest=rt={}));var Zt;(function(G){G.method="textDocument/rangesFormatting",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(Zt||(e.DocumentRangesFormattingRequest=Zt={}));var rr;(function(G){G.method="textDocument/onTypeFormatting",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(rr||(e.DocumentOnTypeFormattingRequest=rr={}));var ti;(function(G){G.Identifier=1})(ti||(e.PrepareSupportDefaultBehavior=ti={}));var ua;(function(G){G.method="textDocument/rename",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(ua||(e.RenameRequest=ua={}));var ss;(function(G){G.method="textDocument/prepareRename",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(ss||(e.PrepareRenameRequest=ss={}));var ni;(function(G){G.method="workspace/executeCommand",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(ni||(e.ExecuteCommandRequest=ni={}));var Fi;(function(G){G.method="workspace/applyEdit",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolRequestType("workspace/applyEdit")})(Fi||(e.ApplyWorkspaceEditRequest=Fi={}))}(Th)),Th}var Wa={},i0;function kk(){if(i0)return Wa;i0=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.createProtocolConnection=void 0;const e=bo();function t(n,r,i,s){return e.ConnectionStrategy.is(s)&&(s={connectionStrategy:s}),(0,e.createMessageConnection)(n,r,i,s)}return Wa.createProtocolConnection=t,Wa}var s0;function Tk(){return s0||(s0=1,function(e){var t=ws&&ws.__createBinding||(Object.create?function(s,o,u,c){c===void 0&&(c=u);var f=Object.getOwnPropertyDescriptor(o,u);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,c,f)}:function(s,o,u,c){c===void 0&&(c=u),s[c]=o[u]}),n=ws&&ws.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&t(o,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,n(bo(),e),n(kh,e),n(Vt(),e),n($k(),e);var r=kk();Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(s){s.lspReservedErrorRangeStart=-32899,s.RequestFailed=-32803,s.ServerCancelled=-32802,s.ContentModified=-32801,s.RequestCancelled=-32800,s.lspReservedErrorRangeEnd=-32800})(i||(e.LSPErrorCodes=i={}))}(ws)),ws}var o0;function fn(){return o0||(o0=1,function(e){var t=ms&&ms.__createBinding||(Object.create?function(s,o,u,c){c===void 0&&(c=u);var f=Object.getOwnPropertyDescriptor(o,u);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,c,f)}:function(s,o,u,c){c===void 0&&(c=u),s[c]=o[u]}),n=ms&&ms.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&t(o,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const r=Ny();n(Ny(),e),n(Tk(),e);function i(s,o,u,c){return(0,r.createMessageConnection)(s,o,u,c)}e.createProtocolConnection=i}(ms)),ms}var Ch,a0;function u0(){return a0||(a0=1,Ch=fn()),Ch}var Vr=u0();function Ak(e,t=!1){const n=e.length;let r=0,i="",s=0,o=16,u=0,c=0,f=0,d=0,h=0;function v(m,y){let p=0,D=0;for(;p<m;){let E=e.charCodeAt(r);if(E>=48&&E<=57)D=D*16+E-48;else if(E>=65&&E<=70)D=D*16+E-65+10;else if(E>=97&&E<=102)D=D*16+E-97+10;else break;r++,p++}return p<m&&(D=-1),D}function w(m){r=m,i="",s=0,o=16,h=0}function k(){let m=r;if(e.charCodeAt(r)===48)r++;else for(r++;r<e.length&&So(e.charCodeAt(r));)r++;if(r<e.length&&e.charCodeAt(r)===46)if(r++,r<e.length&&So(e.charCodeAt(r)))for(r++;r<e.length&&So(e.charCodeAt(r));)r++;else return h=3,e.substring(m,r);let y=r;if(r<e.length&&(e.charCodeAt(r)===69||e.charCodeAt(r)===101))if(r++,(r<e.length&&e.charCodeAt(r)===43||e.charCodeAt(r)===45)&&r++,r<e.length&&So(e.charCodeAt(r))){for(r++;r<e.length&&So(e.charCodeAt(r));)r++;y=r}else h=3;return e.substring(m,y)}function $(){let m="",y=r;for(;;){if(r>=n){m+=e.substring(y,r),h=2;break}const p=e.charCodeAt(r);if(p===34){m+=e.substring(y,r),r++;break}if(p===92){if(m+=e.substring(y,r),r++,r>=n){h=2;break}switch(e.charCodeAt(r++)){case 34:m+='"';break;case 92:m+="\\";break;case 47:m+="/";break;case 98:m+="\b";break;case 102:m+="\f";break;case 110:m+=`
`;break;case 114:m+="\r";break;case 116:m+="	";break;case 117:const E=v(4);E>=0?m+=String.fromCharCode(E):h=4;break;default:h=5}y=r;continue}if(p>=0&&p<=31)if(Ua(p)){m+=e.substring(y,r),h=2;break}else h=6;r++}return m}function _(){if(i="",h=0,s=r,c=u,d=f,r>=n)return s=n,o=17;let m=e.charCodeAt(r);if(Oh(m)){do r++,i+=String.fromCharCode(m),m=e.charCodeAt(r);while(Oh(m));return o=15}if(Ua(m))return r++,i+=String.fromCharCode(m),m===13&&e.charCodeAt(r)===10&&(r++,i+=`
`),u++,f=r,o=14;switch(m){case 123:return r++,o=1;case 125:return r++,o=2;case 91:return r++,o=3;case 93:return r++,o=4;case 58:return r++,o=6;case 44:return r++,o=5;case 34:return r++,i=$(),o=10;case 47:const y=r-1;if(e.charCodeAt(r+1)===47){for(r+=2;r<n&&!Ua(e.charCodeAt(r));)r++;return i=e.substring(y,r),o=12}if(e.charCodeAt(r+1)===42){r+=2;const p=n-1;let D=!1;for(;r<p;){const E=e.charCodeAt(r);if(E===42&&e.charCodeAt(r+1)===47){r+=2,D=!0;break}r++,Ua(E)&&(E===13&&e.charCodeAt(r)===10&&r++,u++,f=r)}return D||(r++,h=1),i=e.substring(y,r),o=13}return i+=String.fromCharCode(m),r++,o=16;case 45:if(i+=String.fromCharCode(m),r++,r===n||!So(e.charCodeAt(r)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=k(),o=11;default:for(;r<n&&T(m);)r++,m=e.charCodeAt(r);if(s!==r){switch(i=e.substring(s,r),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(m),r++,o=16}}function T(m){if(Oh(m)||Ua(m))return!1;switch(m){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function b(){let m;do m=_();while(m>=12&&m<=15);return m}return{setPosition:w,getPosition:()=>r,scan:t?b:_,getToken:()=>o,getTokenValue:()=>i,getTokenOffset:()=>s,getTokenLength:()=>r-s,getTokenStartLine:()=>c,getTokenStartCharacter:()=>s-d,getTokenError:()=>h}}function Oh(e){return e===32||e===9}function Ua(e){return e===10||e===13}function So(e){return e>=48&&e<=57}var c0;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(c0||(c0={})),new Array(20).fill(0).map((e,t)=>" ".repeat(t));const $o=200;new Array($o).fill(0).map((e,t)=>`
`+" ".repeat(t)),new Array($o).fill(0).map((e,t)=>"\r"+" ".repeat(t)),new Array($o).fill(0).map((e,t)=>`\r
`+" ".repeat(t)),new Array($o).fill(0).map((e,t)=>`
`+"	".repeat(t)),new Array($o).fill(0).map((e,t)=>"\r"+"	".repeat(t)),new Array($o).fill(0).map((e,t)=>`\r
`+"	".repeat(t));var Dc;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Dc||(Dc={}));function Ck(e,t=[],n=Dc.DEFAULT){let r=null,i=[];const s=[];function o(c){Array.isArray(i)?i.push(c):r!==null&&(i[r]=c)}return Ok(e,{onObjectBegin:()=>{const c={};o(c),s.push(i),i=c,r=null},onObjectProperty:c=>{r=c},onObjectEnd:()=>{i=s.pop()},onArrayBegin:()=>{const c=[];o(c),s.push(i),i=c,r=null},onArrayEnd:()=>{i=s.pop()},onLiteralValue:o,onError:(c,f,d)=>{t.push({error:c,offset:f,length:d})}},n),i[0]}function Ph(e){switch(e.type){case"array":return e.children.map(Ph);case"object":const t=Object.create(null);for(let n of e.children){const r=n.children[1];r&&(t[n.children[0].value]=Ph(r))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function Ok(e,t,n=Dc.DEFAULT){const r=Ak(e,!1),i=[];let s=0;function o(Q){return Q?()=>s===0&&Q(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function u(Q){return Q?ae=>s===0&&Q(ae,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function c(Q){return Q?ae=>s===0&&Q(ae,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice()):()=>!0}function f(Q){return Q?()=>{s>0?s++:Q(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice())===!1&&(s=1)}:()=>!0}function d(Q){return Q?()=>{s>0&&s--,s===0&&Q(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:()=>!0}const h=f(t.onObjectBegin),v=c(t.onObjectProperty),w=d(t.onObjectEnd),k=f(t.onArrayBegin),$=d(t.onArrayEnd),_=c(t.onLiteralValue),T=u(t.onSeparator),b=o(t.onComment),m=u(t.onError),y=n&&n.disallowComments,p=n&&n.allowTrailingComma;function D(){for(;;){const Q=r.scan();switch(r.getTokenError()){case 4:E(14);break;case 5:E(15);break;case 3:E(13);break;case 1:y||E(11);break;case 2:E(12);break;case 6:E(16);break}switch(Q){case 12:case 13:y?E(10):b();break;case 16:E(1);break;case 15:case 14:break;default:return Q}}}function E(Q,ae=[],ce=[]){if(m(Q),ae.length+ce.length>0){let he=r.getToken();for(;he!==17;){if(ae.indexOf(he)!==-1){D();break}else if(ce.indexOf(he)!==-1)break;he=D()}}}function P(Q){const ae=r.getTokenValue();return Q?_(ae):(v(ae),i.push(ae)),D(),!0}function C(){switch(r.getToken()){case 11:const Q=r.getTokenValue();let ae=Number(Q);isNaN(ae)&&(E(2),ae=0),_(ae);break;case 7:_(null);break;case 8:_(!0);break;case 9:_(!1);break;default:return!1}return D(),!0}function R(){return r.getToken()!==10?(E(3,[],[2,5]),!1):(P(!1),r.getToken()===6?(T(":"),D(),j()||E(4,[],[2,5])):E(5,[],[2,5]),i.pop(),!0)}function I(){h(),D();let Q=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(Q||E(4,[],[]),T(","),D(),r.getToken()===2&&p)break}else Q&&E(6,[],[]);R()||E(4,[],[2,5]),Q=!0}return w(),r.getToken()!==2?E(7,[2],[]):D(),!0}function F(){k(),D();let Q=!0,ae=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(ae||E(4,[],[]),T(","),D(),r.getToken()===4&&p)break}else ae&&E(6,[],[]);Q?(i.push(0),Q=!1):i[i.length-1]++,j()||E(4,[],[4,5]),ae=!0}return $(),Q||i.pop(),r.getToken()!==4?E(8,[4],[]):D(),!0}function j(){switch(r.getToken()){case 3:return F();case 1:return I();case 10:return P(!0);default:return C()}}return D(),r.getToken()===17?n.allowEmptyContent?!0:(E(4,[],[]),!1):j()?(r.getToken()!==17&&E(9,[],[]),!0):(E(4,[],[]),!1)}var l0;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(l0||(l0={}));var f0;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(f0||(f0={}));const Pk=Ck,Nk=Ph;var d0;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(d0||(d0={}));function Rk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h0={exports:{}},rn=h0.exports={},Hr,Kr;function Nh(){throw new Error("setTimeout has not been defined")}function Rh(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Hr=setTimeout:Hr=Nh}catch{Hr=Nh}try{typeof clearTimeout=="function"?Kr=clearTimeout:Kr=Rh}catch{Kr=Rh}})();function p0(e){if(Hr===setTimeout)return setTimeout(e,0);if((Hr===Nh||!Hr)&&setTimeout)return Hr=setTimeout,setTimeout(e,0);try{return Hr(e,0)}catch{try{return Hr.call(null,e,0)}catch{return Hr.call(this,e,0)}}}function Fk(e){if(Kr===clearTimeout)return clearTimeout(e);if((Kr===Rh||!Kr)&&clearTimeout)return Kr=clearTimeout,clearTimeout(e);try{return Kr(e)}catch{try{return Kr.call(null,e)}catch{return Kr.call(this,e)}}}var mi=[],ko=!1,As,wc=-1;function Ik(){!ko||!As||(ko=!1,As.length?mi=As.concat(mi):wc=-1,mi.length&&m0())}function m0(){if(!ko){var e=p0(Ik);ko=!0;for(var t=mi.length;t;){for(As=mi,mi=[];++wc<t;)As&&As[wc].run();wc=-1,t=mi.length}As=null,ko=!1,Fk(e)}}rn.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];mi.push(new g0(e,t)),mi.length===1&&!ko&&p0(m0)};function g0(e,t){this.fun=e,this.array=t}g0.prototype.run=function(){this.fun.apply(null,this.array)},rn.title="browser",rn.browser=!0,rn.env={},rn.argv=[],rn.version="",rn.versions={};function gi(){}rn.on=gi,rn.addListener=gi,rn.once=gi,rn.off=gi,rn.removeListener=gi,rn.removeAllListeners=gi,rn.emit=gi,rn.prependListener=gi,rn.prependOnceListener=gi,rn.listeners=function(e){return[]},rn.binding=function(e){throw new Error("process.binding is not supported")},rn.cwd=function(){return"/"},rn.chdir=function(e){throw new Error("process.chdir is not supported")},rn.umask=function(){return 0};var Mk=h0.exports;const Cs=Rk(Mk);var y0;(()=>{var e={470:i=>{function s(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function o(c,f){for(var d,h="",v=0,w=-1,k=0,$=0;$<=c.length;++$){if($<c.length)d=c.charCodeAt($);else{if(d===47)break;d=47}if(d===47){if(!(w===$-1||k===1))if(w!==$-1&&k===2){if(h.length<2||v!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var _=h.lastIndexOf("/");if(_!==h.length-1){_===-1?(h="",v=0):v=(h=h.slice(0,_)).length-1-h.lastIndexOf("/"),w=$,k=0;continue}}else if(h.length===2||h.length===1){h="",v=0,w=$,k=0;continue}}f&&(h.length>0?h+="/..":h="..",v=2)}else h.length>0?h+="/"+c.slice(w+1,$):h=c.slice(w+1,$),v=$-w-1;w=$,k=0}else d===46&&k!==-1?++k:k=-1}return h}var u={resolve:function(){for(var c,f="",d=!1,h=arguments.length-1;h>=-1&&!d;h--){var v;h>=0?v=arguments[h]:(c===void 0&&(c=Cs.cwd()),v=c),s(v),v.length!==0&&(f=v+"/"+f,d=v.charCodeAt(0)===47)}return f=o(f,!d),d?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(c){if(s(c),c.length===0)return".";var f=c.charCodeAt(0)===47,d=c.charCodeAt(c.length-1)===47;return(c=o(c,!f)).length!==0||f||(c="."),c.length>0&&d&&(c+="/"),f?"/"+c:c},isAbsolute:function(c){return s(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,f=0;f<arguments.length;++f){var d=arguments[f];s(d),d.length>0&&(c===void 0?c=d:c+="/"+d)}return c===void 0?".":u.normalize(c)},relative:function(c,f){if(s(c),s(f),c===f||(c=u.resolve(c))===(f=u.resolve(f)))return"";for(var d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var h=c.length,v=h-d,w=1;w<f.length&&f.charCodeAt(w)===47;++w);for(var k=f.length-w,$=v<k?v:k,_=-1,T=0;T<=$;++T){if(T===$){if(k>$){if(f.charCodeAt(w+T)===47)return f.slice(w+T+1);if(T===0)return f.slice(w+T)}else v>$&&(c.charCodeAt(d+T)===47?_=T:T===0&&(_=0));break}var b=c.charCodeAt(d+T);if(b!==f.charCodeAt(w+T))break;b===47&&(_=T)}var m="";for(T=d+_+1;T<=h;++T)T!==h&&c.charCodeAt(T)!==47||(m.length===0?m+="..":m+="/..");return m.length>0?m+f.slice(w+_):(w+=_,f.charCodeAt(w)===47&&++w,f.slice(w))},_makeLong:function(c){return c},dirname:function(c){if(s(c),c.length===0)return".";for(var f=c.charCodeAt(0),d=f===47,h=-1,v=!0,w=c.length-1;w>=1;--w)if((f=c.charCodeAt(w))===47){if(!v){h=w;break}}else v=!1;return h===-1?d?"/":".":d&&h===1?"//":c.slice(0,h)},basename:function(c,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');s(c);var d,h=0,v=-1,w=!0;if(f!==void 0&&f.length>0&&f.length<=c.length){if(f.length===c.length&&f===c)return"";var k=f.length-1,$=-1;for(d=c.length-1;d>=0;--d){var _=c.charCodeAt(d);if(_===47){if(!w){h=d+1;break}}else $===-1&&(w=!1,$=d+1),k>=0&&(_===f.charCodeAt(k)?--k==-1&&(v=d):(k=-1,v=$))}return h===v?v=$:v===-1&&(v=c.length),c.slice(h,v)}for(d=c.length-1;d>=0;--d)if(c.charCodeAt(d)===47){if(!w){h=d+1;break}}else v===-1&&(w=!1,v=d+1);return v===-1?"":c.slice(h,v)},extname:function(c){s(c);for(var f=-1,d=0,h=-1,v=!0,w=0,k=c.length-1;k>=0;--k){var $=c.charCodeAt(k);if($!==47)h===-1&&(v=!1,h=k+1),$===46?f===-1?f=k:w!==1&&(w=1):f!==-1&&(w=-1);else if(!v){d=k+1;break}}return f===-1||h===-1||w===0||w===1&&f===h-1&&f===d+1?"":c.slice(f,h)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(f,d){var h=d.dir||d.root,v=d.base||(d.name||"")+(d.ext||"");return h?h===d.root?h+v:h+"/"+v:v}(0,c)},parse:function(c){s(c);var f={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return f;var d,h=c.charCodeAt(0),v=h===47;v?(f.root="/",d=1):d=0;for(var w=-1,k=0,$=-1,_=!0,T=c.length-1,b=0;T>=d;--T)if((h=c.charCodeAt(T))!==47)$===-1&&(_=!1,$=T+1),h===46?w===-1?w=T:b!==1&&(b=1):w!==-1&&(b=-1);else if(!_){k=T+1;break}return w===-1||$===-1||b===0||b===1&&w===$-1&&w===k+1?$!==-1&&(f.base=f.name=k===0&&v?c.slice(1,$):c.slice(k,$)):(k===0&&v?(f.name=c.slice(1,w),f.base=c.slice(1,$)):(f.name=c.slice(k,w),f.base=c.slice(k,$)),f.ext=c.slice(w,$)),k>0?f.dir=c.slice(0,k-1):v&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};u.posix=u,i.exports=u}},t={};function n(i){var s=t[i];if(s!==void 0)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.d=(i,s)=>{for(var o in s)n.o(s,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{let i;n.r(r),n.d(r,{URI:()=>v,Utils:()=>R}),typeof Cs=="object"?i=Cs.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const s=/^\w[\w\d+.-]*$/,o=/^\//,u=/^\/\//;function c(I,F){if(!I.scheme&&F)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${I.authority}", path: "${I.path}", query: "${I.query}", fragment: "${I.fragment}"}`);if(I.scheme&&!s.test(I.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(I.path){if(I.authority){if(!o.test(I.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(I.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const f="",d="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class v{static isUri(F){return F instanceof v||!!F&&typeof F.authority=="string"&&typeof F.fragment=="string"&&typeof F.path=="string"&&typeof F.query=="string"&&typeof F.scheme=="string"&&typeof F.fsPath=="string"&&typeof F.with=="function"&&typeof F.toString=="function"}scheme;authority;path;query;fragment;constructor(F,j,Q,ae,ce,he=!1){typeof F=="object"?(this.scheme=F.scheme||f,this.authority=F.authority||f,this.path=F.path||f,this.query=F.query||f,this.fragment=F.fragment||f):(this.scheme=function(Te,Ye){return Te||Ye?Te:"file"}(F,he),this.authority=j||f,this.path=function(Te,Ye){switch(Te){case"https":case"http":case"file":Ye?Ye[0]!==d&&(Ye=d+Ye):Ye=d}return Ye}(this.scheme,Q||f),this.query=ae||f,this.fragment=ce||f,c(this,he))}get fsPath(){return b(this)}with(F){if(!F)return this;let{scheme:j,authority:Q,path:ae,query:ce,fragment:he}=F;return j===void 0?j=this.scheme:j===null&&(j=f),Q===void 0?Q=this.authority:Q===null&&(Q=f),ae===void 0?ae=this.path:ae===null&&(ae=f),ce===void 0?ce=this.query:ce===null&&(ce=f),he===void 0?he=this.fragment:he===null&&(he=f),j===this.scheme&&Q===this.authority&&ae===this.path&&ce===this.query&&he===this.fragment?this:new k(j,Q,ae,ce,he)}static parse(F,j=!1){const Q=h.exec(F);return Q?new k(Q[2]||f,D(Q[4]||f),D(Q[5]||f),D(Q[7]||f),D(Q[9]||f),j):new k(f,f,f,f,f)}static file(F){let j=f;if(i&&(F=F.replace(/\\/g,d)),F[0]===d&&F[1]===d){const Q=F.indexOf(d,2);Q===-1?(j=F.substring(2),F=d):(j=F.substring(2,Q),F=F.substring(Q)||d)}return new k("file",j,F,f,f)}static from(F){const j=new k(F.scheme,F.authority,F.path,F.query,F.fragment);return c(j,!0),j}toString(F=!1){return m(this,F)}toJSON(){return this}static revive(F){if(F){if(F instanceof v)return F;{const j=new k(F);return j._formatted=F.external,j._fsPath=F._sep===w?F.fsPath:null,j}}return F}}const w=i?1:void 0;class k extends v{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=b(this)),this._fsPath}toString(F=!1){return F?m(this,!0):(this._formatted||(this._formatted=m(this,!1)),this._formatted)}toJSON(){const F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=w),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F}}const $={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function _(I,F,j){let Q,ae=-1;for(let ce=0;ce<I.length;ce++){const he=I.charCodeAt(ce);if(he>=97&&he<=122||he>=65&&he<=90||he>=48&&he<=57||he===45||he===46||he===95||he===126||F&&he===47||j&&he===91||j&&he===93||j&&he===58)ae!==-1&&(Q+=encodeURIComponent(I.substring(ae,ce)),ae=-1),Q!==void 0&&(Q+=I.charAt(ce));else{Q===void 0&&(Q=I.substr(0,ce));const Te=$[he];Te!==void 0?(ae!==-1&&(Q+=encodeURIComponent(I.substring(ae,ce)),ae=-1),Q+=Te):ae===-1&&(ae=ce)}}return ae!==-1&&(Q+=encodeURIComponent(I.substring(ae))),Q!==void 0?Q:I}function T(I){let F;for(let j=0;j<I.length;j++){const Q=I.charCodeAt(j);Q===35||Q===63?(F===void 0&&(F=I.substr(0,j)),F+=$[Q]):F!==void 0&&(F+=I[j])}return F!==void 0?F:I}function b(I,F){let j;return j=I.authority&&I.path.length>1&&I.scheme==="file"?`//${I.authority}${I.path}`:I.path.charCodeAt(0)===47&&(I.path.charCodeAt(1)>=65&&I.path.charCodeAt(1)<=90||I.path.charCodeAt(1)>=97&&I.path.charCodeAt(1)<=122)&&I.path.charCodeAt(2)===58?I.path[1].toLowerCase()+I.path.substr(2):I.path,i&&(j=j.replace(/\//g,"\\")),j}function m(I,F){const j=F?T:_;let Q="",{scheme:ae,authority:ce,path:he,query:Te,fragment:Ye}=I;if(ae&&(Q+=ae,Q+=":"),(ce||ae==="file")&&(Q+=d,Q+=d),ce){let ge=ce.indexOf("@");if(ge!==-1){const V=ce.substr(0,ge);ce=ce.substr(ge+1),ge=V.lastIndexOf(":"),ge===-1?Q+=j(V,!1,!1):(Q+=j(V.substr(0,ge),!1,!1),Q+=":",Q+=j(V.substr(ge+1),!1,!0)),Q+="@"}ce=ce.toLowerCase(),ge=ce.lastIndexOf(":"),ge===-1?Q+=j(ce,!1,!0):(Q+=j(ce.substr(0,ge),!1,!0),Q+=ce.substr(ge))}if(he){if(he.length>=3&&he.charCodeAt(0)===47&&he.charCodeAt(2)===58){const ge=he.charCodeAt(1);ge>=65&&ge<=90&&(he=`/${String.fromCharCode(ge+32)}:${he.substr(3)}`)}else if(he.length>=2&&he.charCodeAt(1)===58){const ge=he.charCodeAt(0);ge>=65&&ge<=90&&(he=`${String.fromCharCode(ge+32)}:${he.substr(2)}`)}Q+=j(he,!0,!1)}return Te&&(Q+="?",Q+=j(Te,!1,!1)),Ye&&(Q+="#",Q+=F?Ye:_(Ye,!1,!1)),Q}function y(I){try{return decodeURIComponent(I)}catch{return I.length>3?I.substr(0,3)+y(I.substr(3)):I}}const p=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function D(I){return I.match(p)?I.replace(p,F=>y(F)):I}var E=n(470);const P=E.posix||E,C="/";var R;(function(I){I.joinPath=function(F,...j){return F.with({path:P.join(F.path,...j)})},I.resolvePath=function(F,...j){let Q=F.path,ae=!1;Q[0]!==C&&(Q=C+Q,ae=!0);let ce=P.resolve(Q,...j);return ae&&ce[0]===C&&!F.authority&&(ce=ce.substring(1)),F.with({path:ce})},I.dirname=function(F){if(F.path.length===0||F.path===C)return F;let j=P.dirname(F.path);return j.length===1&&j.charCodeAt(0)===46&&(j=""),F.with({path:j})},I.basename=function(F){return P.basename(F.path)},I.extname=function(F){return P.extname(F.path)}})(R||(R={}))})(),y0=r})();const{URI:Qn,Utils:O8}=y0;function v0(e,t){if(e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function Fh(e,t){var n=e.length-t.length;return n>0?e.lastIndexOf(t)===n:n===0?e===t:!1}function Lk(e){return v0(e,"(?i)")?new RegExp(e.substring(4),"i"):new RegExp(e)}function To(e){return typeof e=="boolean"}class Va{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){const n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){for(const r of t)if(Va.isIncremental(r)){const i=w0(r.range),s=this.offsetAt(i.start),o=this.offsetAt(i.end);this._content=this._content.substring(0,s)+r.text+this._content.substring(o,this._content.length);const u=Math.max(i.start.line,0),c=Math.max(i.end.line,0);let f=this._lineOffsets;const d=b0(r.text,!1,s);if(c-u===d.length)for(let v=0,w=d.length;v<w;v++)f[v+u+1]=d[v];else d.length<1e4?f.splice(u+1,c-u,...d):this._lineOffsets=f=f.slice(0,u+1).concat(d,f.slice(c+1));const h=r.text.length-(o-s);if(h!==0)for(let v=u+1+d.length,w=f.length;v<w;v++)f[v]=f[v]+h}else if(Va.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=b0(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);const n=this.getLineOffsets();let r=0,i=n.length;if(i===0)return{line:0,character:t};for(;r<i;){const o=Math.floor((r+i)/2);n[o]>t?i=o:r=o+1}const s=r-1;return t=this.ensureBeforeEOL(t,n[s]),{line:s,character:t-n[s]}}offsetAt(t){const n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;const r=n[t.line];if(t.character<=0)return r;const i=t.line+1<n.length?n[t.line+1]:this._content.length,s=Math.min(r+t.character,i);return this.ensureBeforeEOL(s,r)}ensureBeforeEOL(t,n){for(;t>n&&D0(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){const n=t;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(t){const n=t;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}}var _c;(function(e){function t(i,s,o,u){return new Va(i,s,o,u)}e.create=t;function n(i,s,o){if(i instanceof Va)return i.update(s,o),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=n;function r(i,s){const o=i.getText(),u=Ih(s.map(jk),(d,h)=>{const v=d.range.start.line-h.range.start.line;return v===0?d.range.start.character-h.range.start.character:v});let c=0;const f=[];for(const d of u){const h=i.offsetAt(d.range.start);if(h<c)throw new Error("Overlapping edit");h>c&&f.push(o.substring(c,h)),d.newText.length&&f.push(d.newText),c=i.offsetAt(d.range.end)}return f.push(o.substr(c)),f.join("")}e.applyEdits=r})(_c||(_c={}));function Ih(e,t){if(e.length<=1)return e;const n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);Ih(r,t),Ih(i,t);let s=0,o=0,u=0;for(;s<r.length&&o<i.length;)t(r[s],i[o])<=0?e[u++]=r[s++]:e[u++]=i[o++];for(;s<r.length;)e[u++]=r[s++];for(;o<i.length;)e[u++]=i[o++];return e}function b0(e,t,n=0){const r=t?[n]:[];for(let i=0;i<e.length;i++){const s=e.charCodeAt(i);D0(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function D0(e){return e===13||e===10}function w0(e){const t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function jk(e){const t=w0(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var Bn;(function(e){e[e.Undefined=0]="Undefined",e[e.EnumValueMismatch=1]="EnumValueMismatch",e[e.Deprecated=2]="Deprecated",e[e.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=258]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",e[e.InvalidUnicode=260]="InvalidUnicode",e[e.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",e[e.InvalidCharacter=262]="InvalidCharacter",e[e.PropertyExpected=513]="PropertyExpected",e[e.CommaExpected=514]="CommaExpected",e[e.ColonExpected=515]="ColonExpected",e[e.ValueExpected=516]="ValueExpected",e[e.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",e[e.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",e[e.TrailingComma=519]="TrailingComma",e[e.DuplicateKey=520]="DuplicateKey",e[e.CommentNotPermitted=521]="CommentNotPermitted",e[e.SchemaResolveError=768]="SchemaResolveError"})(Bn||(Bn={}));var _0;(function(e){e.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[Wr.Markdown,Wr.PlainText],commitCharactersSupport:!0}}}}})(_0||(_0={}));var Ha={},Ec={},E0;function S0(){if(E0)return Ec;E0=1,Object.defineProperty(Ec,"__esModule",{value:!0});var e;function t(){if(e===void 0)throw new Error("No runtime abstraction layer installed");return e}return function(n){function r(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");e=i}n.install=r}(t||(t={})),Ec.default=t,Ec}var Mh={},$0;function k0(){return $0||($0=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.loadMessageBundle=e.localize=e.format=e.setPseudo=e.isPseudo=e.isDefined=e.BundleFormat=e.MessageFormat=void 0;var t=S0();(function(f){f.file="file",f.bundle="bundle",f.both="both"})(e.MessageFormat||(e.MessageFormat={})),function(f){f.standalone="standalone",f.languagePack="languagePack"}(e.BundleFormat||(e.BundleFormat={}));var n;(function(f){function d(h){var v=h;return v&&r(v.key)&&r(v.comment)}f.is=d})(n||(n={}));function r(f){return typeof f<"u"}e.isDefined=r,e.isPseudo=!1;function i(f){e.isPseudo=f}e.setPseudo=i;function s(f,d){var h;return e.isPseudo&&(f="［"+f.replace(/[aouei]/g,"$&$&")+"］"),d.length===0?h=f:h=f.replace(/\{(\d+)\}/g,function(v,w){var k=w[0],$=d[k],_=v;return typeof $=="string"?_=$:(typeof $=="number"||typeof $=="boolean"||$===void 0||$===null)&&(_=String($)),_}),h}e.format=s;function o(f,d){for(var h=[],v=2;v<arguments.length;v++)h[v-2]=arguments[v];return s(d,h)}e.localize=o;function u(f){return(0,t.default)().loadMessageBundle(f)}e.loadMessageBundle=u;function c(f){return(0,t.default)().config(f)}e.config=c}(Mh)),Mh}var T0;function xk(){return T0||(T0=1,function(e){var t=Ha&&Ha.__spreadArray||function(u,c,f){if(f||arguments.length===2)for(var d=0,h=c.length,v;d<h;d++)(v||!(d in c))&&(v||(v=Array.prototype.slice.call(c,0,d)),v[d]=c[d]);return u.concat(v||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.loadMessageBundle=e.BundleFormat=e.MessageFormat=void 0;var n=S0(),r=k0(),i=k0();Object.defineProperty(e,"MessageFormat",{enumerable:!0,get:function(){return i.MessageFormat}}),Object.defineProperty(e,"BundleFormat",{enumerable:!0,get:function(){return i.BundleFormat}});function s(u){return function(c,f){for(var d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];if(typeof c=="number")throw new Error("Browser implementation does currently not support externalized strings.");return r.localize.apply(void 0,t([c,f],d,!1))}}e.loadMessageBundle=s;function o(u){var c;return(0,r.setPseudo)(((c=u?.locale)===null||c===void 0?void 0:c.toLowerCase())==="pseudo"),s}e.config=o,n.default.install(Object.freeze({loadMessageBundle:s,config:o}))}(Ha)),Ha}var Ki=xk(),Os=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ka=Ki.loadMessageBundle();Ka("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),Ka("dateTimeFormatWarning","String is not a RFC3339 date-time."),Ka("dateFormatWarning","String is not a RFC3339 date."),Ka("timeFormatWarning","String is not a RFC3339 time."),Ka("emailFormatWarning","String is not an e-mail address.");var Ps=function(){function e(t,n,r){r===void 0&&(r=0),this.offset=n,this.length=r,this.parent=t}return Object.defineProperty(e.prototype,"children",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},e}();(function(e){Os(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.type="null",i.value=null,i}return t})(Ps),function(e){Os(t,e);function t(n,r,i){var s=e.call(this,n,i)||this;return s.type="boolean",s.value=r,s}return t}(Ps),function(e){Os(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.type="array",i.items=[],i}return Object.defineProperty(t.prototype,"children",{get:function(){return this.items},enumerable:!1,configurable:!0}),t}(Ps),function(e){Os(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.type="number",i.isInteger=!0,i.value=Number.NaN,i}return t}(Ps),function(e){Os(t,e);function t(n,r,i){var s=e.call(this,n,r,i)||this;return s.type="string",s.value="",s}return t}(Ps),function(e){Os(t,e);function t(n,r,i){var s=e.call(this,n,r)||this;return s.type="property",s.colonOffset=-1,s.keyNode=i,s}return Object.defineProperty(t.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!1,configurable:!0}),t}(Ps),function(e){Os(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.type="object",i.properties=[],i}return Object.defineProperty(t.prototype,"children",{get:function(){return this.properties},enumerable:!1,configurable:!0}),t}(Ps);function qk(e){return To(e)?e?{}:{not:{}}:e}var A0;(function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"})(A0||(A0={})),function(){function e(){}return Object.defineProperty(e.prototype,"schemas",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.add=function(t){},e.prototype.merge=function(t){},e.prototype.include=function(t){return!0},e.prototype.newSub=function(){return this},e.instance=new e,e}();function Sc(e){return Nk(e)}function Bk(e,t){if(typeof e!="string")throw new TypeError("Expected a string");for(var n=String(e),r="",i=!!t,s=!!t,o=!1,u=t&&typeof t.flags=="string"?t.flags:"",c,f=0,d=n.length;f<d;f++)switch(c=n[f],c){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+c;break;case"?":if(i){r+=".";break}case"[":case"]":if(i){r+=c;break}case"{":if(i){o=!0,r+="(";break}case"}":if(i){o=!1,r+=")";break}case",":if(o){r+="|";break}r+="\\"+c;break;case"*":for(var h=n[f-1],v=1;n[f+1]==="*";)v++,f++;var w=n[f+1];if(!s)r+=".*";else{var k=v>1&&(h==="/"||h===void 0||h==="{"||h===",")&&(w==="/"||w===void 0||w===","||w==="}");k?(w==="/"?f++:h==="/"&&r.endsWith("\\/")&&(r=r.substr(0,r.length-2)),r+="((?:[^/]*(?:/|$))*)"):r+="([^/]*)"}break;default:r+=c}return(!u||!~u.indexOf("g"))&&(r="^"+r+"$"),new RegExp(r,u)}var zi=Ki.loadMessageBundle(),Wk="!",Uk="/",Vk=function(){function e(t,n){this.globWrappers=[];try{for(var r=0,i=t;r<i.length;r++){var s=i[r],o=s[0]!==Wk;o||(s=s.substring(1)),s.length>0&&(s[0]===Uk&&(s=s.substring(1)),this.globWrappers.push({regexp:Bk("**/"+s,{extended:!0,globstar:!0}),include:o}))}this.uris=n}catch{this.globWrappers.length=0,this.uris=[]}}return e.prototype.matchesPattern=function(t){for(var n=!1,r=0,i=this.globWrappers;r<i.length;r++){var s=i[r],o=s.regexp,u=s.include;o.test(t)&&(n=u)}return n},e.prototype.getURIs=function(){return this.uris},e}(),Hk=function(){function e(t,n,r){this.service=t,this.url=n,this.dependencies={},r&&(this.unresolvedSchema=this.service.promise.resolve(new Cr(r)))}return e.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url)),this.unresolvedSchema},e.prototype.getResolvedSchema=function(){var t=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(function(n){return t.service.resolveSchemaContent(n,t.url,t.dependencies)})),this.resolvedSchema},e.prototype.clearSchema=function(){this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies={}},e}(),Cr=function(){function e(t,n){n===void 0&&(n=[]),this.schema=t,this.errors=n}return e}(),za=function(){function e(t,n){n===void 0&&(n=[]),this.schema=t,this.errors=n}return e.prototype.getSection=function(t){var n=this.getSectionRecursive(t,this.schema);if(n)return qk(n)},e.prototype.getSectionRecursive=function(t,n){if(!n||typeof n=="boolean"||t.length===0)return n;var r=t.shift();if(n.properties&&typeof n.properties[r])return this.getSectionRecursive(t,n.properties[r]);if(n.patternProperties)for(var i=0,s=Object.keys(n.patternProperties);i<s.length;i++){var o=s[i],u=Lk(o);if(u.test(r))return this.getSectionRecursive(t,n.patternProperties[o])}else{if(typeof n.additionalProperties=="object")return this.getSectionRecursive(t,n.additionalProperties);if(r.match("[0-9]+")){if(Array.isArray(n.items)){var c=parseInt(r,10);if(!isNaN(c)&&n.items[c])return this.getSectionRecursive(t,n.items[c])}else if(n.items)return this.getSectionRecursive(t,n.items)}}},e}(),Kk=function(){function e(t,n,r){this.contextService=n,this.requestService=t,this.promiseConstructor=r||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}return e.prototype.getRegisteredSchemaIds=function(t){return Object.keys(this.registeredSchemasIds).filter(function(n){var r=Qn.parse(n).scheme;return r!=="schemaservice"&&(!t||t(r))})},Object.defineProperty(e.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},e.prototype.onResourceChange=function(t){var n=this;this.cachedSchemaForResource=void 0;var r=!1;t=Yi(t);for(var i=[t],s=Object.keys(this.schemasById).map(function(f){return n.schemasById[f]});i.length;)for(var o=i.pop(),u=0;u<s.length;u++){var c=s[u];c&&(c.url===o||c.dependencies[o])&&(c.url!==o&&i.push(c.url),c.clearSchema(),s[u]=void 0,r=!0)}return r},e.prototype.setSchemaContributions=function(t){if(t.schemas){var n=t.schemas;for(var r in n){var i=Yi(r);this.contributionSchemas[i]=this.addSchemaHandle(i,n[r])}}if(Array.isArray(t.schemaAssociations))for(var s=t.schemaAssociations,o=0,u=s;o<u.length;o++){var c=u[o],f=c.uris.map(Yi),d=this.addFilePatternAssociation(c.pattern,f);this.contributionAssociations.push(d)}},e.prototype.addSchemaHandle=function(t,n){var r=new Hk(this,t,n);return this.schemasById[t]=r,r},e.prototype.getOrAddSchemaHandle=function(t,n){return this.schemasById[t]||this.addSchemaHandle(t,n)},e.prototype.addFilePatternAssociation=function(t,n){var r=new Vk(t,n);return this.filePatternAssociations.push(r),r},e.prototype.registerExternalSchema=function(t,n,r){var i=Yi(t);return this.registeredSchemasIds[i]=!0,this.cachedSchemaForResource=void 0,n&&this.addFilePatternAssociation(n,[t]),r?this.addSchemaHandle(i,r):this.getOrAddSchemaHandle(i)},e.prototype.clearExternalSchemas=function(){this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0;for(var t in this.contributionSchemas)this.schemasById[t]=this.contributionSchemas[t],this.registeredSchemasIds[t]=!0;for(var n=0,r=this.contributionAssociations;n<r.length;n++){var i=r[n];this.filePatternAssociations.push(i)}},e.prototype.getResolvedSchema=function(t){var n=Yi(t),r=this.schemasById[n];return r?r.getResolvedSchema():this.promise.resolve(void 0)},e.prototype.loadSchema=function(t){if(!this.requestService){var n=zi("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",$c(t));return this.promise.resolve(new Cr({},[n]))}return this.requestService(t).then(function(r){if(!r){var i=zi("json.schema.nocontent","Unable to load schema from '{0}': No content.",$c(t));return new Cr({},[i])}var s={},o=[];s=Pk(r,o);var u=o.length?[zi("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",$c(t),o[0].offset)]:[];return new Cr(s,u)},function(r){var i=r.toString(),s=r.toString().split("Error: ");return s.length>1&&(i=s[1]),Fh(i,".")&&(i=i.substr(0,i.length-1)),new Cr({},[zi("json.schema.nocontent","Unable to load schema from '{0}': {1}.",$c(t),i)])})},e.prototype.resolveSchemaContent=function(t,n,r){var i=this,s=t.errors.slice(0),o=t.schema;if(o.$schema){var u=Yi(o.$schema);if(u==="http://json-schema.org/draft-03/schema")return this.promise.resolve(new za({},[zi("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")]));u==="https://json-schema.org/draft/2019-09/schema"&&s.push(zi("json.schema.draft201909.notsupported","Draft 2019-09 schemas are not yet fully supported."))}var c=this.contextService,f=function(w,k){if(!k)return w;var $=w;return k[0]==="/"&&(k=k.substr(1)),k.split("/").some(function(_){return _=_.replace(/~1/g,"/").replace(/~0/g,"~"),$=$[_],!$}),$},d=function(w,k,$,_){var T=_?decodeURIComponent(_):void 0,b=f(k,T);if(b)for(var m in b)b.hasOwnProperty(m)&&!w.hasOwnProperty(m)&&(w[m]=b[m]);else s.push(zi("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",T,$))},h=function(w,k,$,_,T){c&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test(k)&&(k=c.resolveRelativePath(k,_)),k=Yi(k);var b=i.getOrAddSchemaHandle(k);return b.getUnresolvedSchema().then(function(m){if(T[k]=!0,m.errors.length){var y=$?k+"#"+$:k;s.push(zi("json.schema.problemloadingref","Problems loading reference '{0}': {1}",y,m.errors[0]))}return d(w,m.schema,k,$),v(w,m.schema,k,b.dependencies)})},v=function(w,k,$,_){if(!w||typeof w!="object")return Promise.resolve(null);for(var T=[w],b=[],m=[],y=function(){for(var C=[],R=0;R<arguments.length;R++)C[R]=arguments[R];for(var I=0,F=C;I<F.length;I++){var j=F[I];typeof j=="object"&&T.push(j)}},p=function(){for(var C=[],R=0;R<arguments.length;R++)C[R]=arguments[R];for(var I=0,F=C;I<F.length;I++){var j=F[I];if(typeof j=="object")for(var Q in j){var ae=Q,ce=j[ae];typeof ce=="object"&&T.push(ce)}}},D=function(){for(var C=[],R=0;R<arguments.length;R++)C[R]=arguments[R];for(var I=0,F=C;I<F.length;I++){var j=F[I];if(Array.isArray(j))for(var Q=0,ae=j;Q<ae.length;Q++){var ce=ae[Q];typeof ce=="object"&&T.push(ce)}}},E=function(C){for(var R=[];C.$ref;){var I=C.$ref,F=I.split("#",2);if(delete C.$ref,F[0].length>0){m.push(h(C,F[0],F[1],$,_));return}else R.indexOf(I)===-1&&(d(C,k,$,F[1]),R.push(I))}y(C.items,C.additionalItems,C.additionalProperties,C.not,C.contains,C.propertyNames,C.if,C.then,C.else),p(C.definitions,C.properties,C.patternProperties,C.dependencies),D(C.anyOf,C.allOf,C.oneOf,C.items)};T.length;){var P=T.pop();b.indexOf(P)>=0||(b.push(P),E(P))}return i.promise.all(m)};return v(o,o,n,r).then(function(w){return new za(o,s)})},e.prototype.getSchemaForResource=function(t,n){if(n&&n.root&&n.root.type==="object"){var r=n.root.properties.filter(function(T){return T.keyNode.value==="$schema"&&T.valueNode&&T.valueNode.type==="string"});if(r.length>0){var i=r[0].valueNode;if(i&&i.type==="string"){var s=Sc(i);if(s&&v0(s,".")&&this.contextService&&(s=this.contextService.resolveRelativePath(s,t)),s){var o=Yi(s);return this.getOrAddSchemaHandle(o).getResolvedSchema()}}}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===t)return this.cachedSchemaForResource.resolvedSchema;for(var u=Object.create(null),c=[],f=Yk(t),d=0,h=this.filePatternAssociations;d<h.length;d++){var v=h[d];if(v.matchesPattern(f))for(var w=0,k=v.getURIs();w<k.length;w++){var $=k[w];u[$]||(c.push($),u[$]=!0)}}var _=c.length>0?this.createCombinedSchema(t,c).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:t,resolvedSchema:_},_},e.prototype.createCombinedSchema=function(t,n){if(n.length===1)return this.getOrAddSchemaHandle(n[0]);var r="schemaservice://combinedSchema/"+encodeURIComponent(t),i={allOf:n.map(function(s){return{$ref:s}})};return this.addSchemaHandle(r,i)},e.prototype.getMatchingSchemas=function(t,n,r){if(r){var i=r.id||"schemaservice://untitled/matchingSchemas/"+zk++;return this.resolveSchemaContent(new Cr(r),i,{}).then(function(s){return n.getMatchingSchemas(s.schema).filter(function(o){return!o.inverted})})}return this.getSchemaForResource(t.uri,n).then(function(s){return s?n.getMatchingSchemas(s.schema).filter(function(o){return!o.inverted}):[]})},e}(),zk=0;function Yi(e){try{return Qn.parse(e).toString()}catch{return e}}function Yk(e){try{return Qn.parse(e).with({fragment:null,query:null}).toString()}catch{return e}}function $c(e){try{var t=Qn.parse(e);if(t.scheme==="file")return t.fsPath}catch{}return e}function Gk(e){return e.replace(/[-\\{}+?|^$.,[\]()#\s]/g,"\\$&").replace(/[*]/g,".*")}function Jk(e,t){if(e.length<t)return 0;for(let n=0;n<t;n++){const r=e.charCodeAt(n);if(r!==32&&r!==9)return n}return t}function C0(e){try{return new RegExp(e,"u")}catch{return new RegExp(e)}}function Qk(e,t){t++;for(let n=t;n<e.length;n++){const r=e.charAt(n);if(r===" "||r==="	")t++;else return t}return t}const Lh=Symbol.for("yaml.alias"),jh=Symbol.for("yaml.document"),Gi=Symbol.for("yaml.map"),O0=Symbol.for("yaml.pair"),yi=Symbol.for("yaml.scalar"),Ao=Symbol.for("yaml.seq"),lr=Symbol.for("yaml.node.type"),zr=e=>!!e&&typeof e=="object"&&e[lr]===Lh,kc=e=>!!e&&typeof e=="object"&&e[lr]===jh,Jt=e=>!!e&&typeof e=="object"&&e[lr]===Gi,wt=e=>!!e&&typeof e=="object"&&e[lr]===O0,Je=e=>!!e&&typeof e=="object"&&e[lr]===yi,sn=e=>!!e&&typeof e=="object"&&e[lr]===Ao;function Qt(e){if(e&&typeof e=="object")switch(e[lr]){case Gi:case Ao:return!0}return!1}function $t(e){if(e&&typeof e=="object")switch(e[lr]){case Lh:case Gi:case yi:case Ao:return!0}return!1}const Xk=e=>(Je(e)||Qt(e))&&!!e.anchor;class xh{constructor(t){Object.defineProperty(this,lr,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}}const Ns=Symbol("break visit"),Zk=Symbol("skip children"),Ya=Symbol("remove node");function Lt(e,t){const n=eT(t);kc(e)?Co(null,e.contents,n,Object.freeze([e]))===Ya&&(e.contents=null):Co(null,e,n,Object.freeze([]))}Lt.BREAK=Ns,Lt.SKIP=Zk,Lt.REMOVE=Ya;function Co(e,t,n,r){const i=tT(e,t,n,r);if($t(i)||wt(i))return nT(e,r,i),Co(e,i,n,r);if(typeof i!="symbol"){if(Qt(t)){r=Object.freeze(r.concat(t));for(let s=0;s<t.items.length;++s){const o=Co(s,t.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===Ns)return Ns;o===Ya&&(t.items.splice(s,1),s-=1)}}}else if(wt(t)){r=Object.freeze(r.concat(t));const s=Co("key",t.key,n,r);if(s===Ns)return Ns;s===Ya&&(t.key=null);const o=Co("value",t.value,n,r);if(o===Ns)return Ns;o===Ya&&(t.value=null)}}return i}function eT(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function tT(e,t,n,r){if(typeof n=="function")return n(e,t,r);if(Jt(t))return n.Map?.(e,t,r);if(sn(t))return n.Seq?.(e,t,r);if(wt(t))return n.Pair?.(e,t,r);if(Je(t))return n.Scalar?.(e,t,r);if(zr(t))return n.Alias?.(e,t,r)}function nT(e,t,n){const r=t[t.length-1];if(Qt(r))r.items[e]=n;else if(wt(r))e==="key"?r.key=n:r.value=n;else if(kc(r))r.contents=n;else{const i=zr(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const rT={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},iT=e=>e.replace(/[!,[\]{}]/g,t=>rT[t]);class Pn{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Pn.defaultYaml,t),this.tags=Object.assign({},Pn.defaultTags,n)}clone(){const t=new Pn(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Pn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Pn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Pn.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Pn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Pn.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,i]=t.match(/^(.*!)([^!]*)$/);i||n(`The ${t} tag has no suffix`);const s=this.tags[r];return s?s+decodeURIComponent(i):r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+iT(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&$t(t.contents)){const s={};Lt(t.contents,(o,u)=>{$t(u)&&u.tag&&(s[u.tag]=!0)}),i=Object.keys(s)}else i=[];for(const[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!t||i.some(u=>u.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}}Pn.defaultYaml={explicit:!1,version:"1.2"},Pn.defaultTags={"!!":"tag:yaml.org,2002:"};function P0(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function N0(e){const t=new Set;return Lt(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function R0(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function sT(e,t){const n=[],r=new Map;let i=null;return{onAnchor:s=>{n.push(s),i||(i=N0(e));const o=R0(t,i);return i.add(o),o},setAnchors:()=>{for(const s of n){const o=r.get(s);if(typeof o=="object"&&o.anchor&&(Je(o.node)||Qt(o.node)))o.node.anchor=o.anchor;else{const u=new Error("Failed to resolve repeated object (this should not happen)");throw u.source=s,u}}},sourceObjects:r}}class qh extends xh{constructor(t){super(Lh),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return Lt(t,{Node:(r,i)=>{if(i===this)return Lt.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i);if(!o){const c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}const u=r.get(o);if(!u||u.res===void 0){const c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(s>=0&&(u.count+=1,u.aliasCount===0&&(u.aliasCount=Tc(i,o,r)),u.count*u.aliasCount>s)){const c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return u.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(P0(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(t.implicitKey)return`${i} `}return i}}function Tc(e,t,n){if(zr(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Qt(t)){let r=0;for(const i of t.items){const s=Tc(e,i,n);s>r&&(r=s)}return r}else if(wt(t)){const r=Tc(e,t.key,n),i=Tc(e,t.value,n);return Math.max(r,i)}return 1}function Yr(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Yr(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!Xk(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!n?.keep?Number(e):e}const F0=e=>!e||typeof e!="function"&&typeof e!="object";class tt extends xh{constructor(t){super(yi),this.value=t}toJSON(t,n){return n?.keep?this.value:Yr(this.value,t,n)}toString(){return String(this.value)}}tt.BLOCK_FOLDED="BLOCK_FOLDED",tt.BLOCK_LITERAL="BLOCK_LITERAL",tt.PLAIN="PLAIN",tt.QUOTE_DOUBLE="QUOTE_DOUBLE",tt.QUOTE_SINGLE="QUOTE_SINGLE";const oT="tag:yaml.org,2002:";function aT(e,t,n){if(t){const r=n.filter(s=>s.tag===t),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>r.identify?.(e)&&!r.format)}function Ga(e,t,n){if(kc(e)&&(e=e.contents),$t(e))return e;if(wt(e)){const h=n.schema[Gi].createNode?.(n.schema,null,n);return h.items.push(e),h}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:u}=n;let c;if(r&&e&&typeof e=="object"){if(c=u.get(e),c)return c.anchor||(c.anchor=i(e)),new qh(c.anchor);c={anchor:null,node:null},u.set(e,c)}t?.startsWith("!!")&&(t=oT+t.slice(2));let f=aT(e,t,o.tags);if(!f){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const h=new tt(e);return c&&(c.node=h),h}f=e instanceof Map?o[Gi]:Symbol.iterator in Object(e)?o[Ao]:o[Gi]}s&&(s(f),delete n.onTagObj);const d=f?.createNode?f.createNode(n.schema,e,n):new tt(e);return t&&(d.tag=t),c&&(c.node=d),d}function Ac(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const s=t[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return Ga(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Ja=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class Cc extends xh{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>$t(r)||wt(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Ja(t))this.add(n);else{const[r,...i]=t,s=this.get(r,!0);if(Qt(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,Ac(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Qt(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,s=this.get(r,!0);return i.length===0?!n&&Je(s)?s.value:s:Qt(s)?s.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!wt(n))return!1;const r=n.value;return r==null||t&&Je(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Qt(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(Qt(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,Ac(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}Cc.maxFlowStringSingleLineLength=60;const uT=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function vi(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Ji=(e,t,n)=>e.endsWith(`
`)?vi(n,t):n.includes(`
`)?`
`+vi(n,t):(e.endsWith(" ")?"":" ")+n,I0="flow",Bh="block",Oc="quoted";function Pc(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:u}={}){if(!i||i<0)return e;const c=Math.max(1+s,1+i-t.length);if(e.length<=c)return e;const f=[],d={};let h=i-t.length;typeof r=="number"&&(r>i-Math.max(2,s)?f.push(0):h=i-r);let v,w,k=!1,$=-1,_=-1,T=-1;n===Bh&&($=M0(e,$),$!==-1&&(h=$+c));for(let m;m=e[$+=1];){if(n===Oc&&m==="\\"){switch(_=$,e[$+1]){case"x":$+=3;break;case"u":$+=5;break;case"U":$+=9;break;default:$+=1}T=$}if(m===`
`)n===Bh&&($=M0(e,$)),h=$+c,v=void 0;else{if(m===" "&&w&&w!==" "&&w!==`
`&&w!=="	"){const y=e[$+1];y&&y!==" "&&y!==`
`&&y!=="	"&&(v=$)}if($>=h)if(v)f.push(v),h=v+c,v=void 0;else if(n===Oc){for(;w===" "||w==="	";)w=m,m=e[$+=1],k=!0;const y=$>T+1?$-2:_-1;if(d[y])return e;f.push(y),d[y]=!0,h=y+c,v=void 0}else k=!0}w=m}if(k&&u&&u(),f.length===0)return e;o&&o();let b=e.slice(0,f[0]);for(let m=0;m<f.length;++m){const y=f[m],p=f[m+1]||e.length;y===0?b=`
${t}${e.slice(0,p)}`:(n===Oc&&d[y]&&(b+=`${e[y]}\\`),b+=`
${t}${e.slice(y+1,p)}`)}return b}function M0(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const Nc=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Rc=e=>/^(%|---|\.\.\.)/m.test(e);function cT(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(e[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function Qa(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(Rc(e)?"  ":"");let o="",u=0;for(let c=0,f=n[c];f;f=n[++c])if(f===" "&&n[c+1]==="\\"&&n[c+2]==="n"&&(o+=n.slice(u,c)+"\\ ",c+=1,u=c,f="\\"),f==="\\")switch(n[c+1]){case"u":{o+=n.slice(u,c);const d=n.substr(c+2,4);switch(d){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:d.substr(0,2)==="00"?o+="\\x"+d.substr(2):o+=n.substr(c,6)}c+=5,u=c+1}break;case"n":if(r||n[c+2]==='"'||n.length<i)c+=1;else{for(o+=n.slice(u,c)+`

`;n[c+2]==="\\"&&n[c+3]==="n"&&n[c+4]!=='"';)o+=`
`,c+=2;o+=s,n[c+2]===" "&&(o+="\\"),c+=1,u=c+1}break;default:c+=1}return o=u?o+n.slice(u):n,r?o:Pc(o,s,Oc,Nc(t,!1))}function Wh(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return Qa(e,t);const n=t.indent||(Rc(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Pc(r,n,I0,Nc(t,!1))}function Oo(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=Qa;else{const i=e.includes('"'),s=e.includes("'");i&&!s?r=Wh:s&&!i?r=Qa:r=n?Wh:Qa}return r(e,t)}function Fc({comment:e,type:t,value:n},r,i,s){const{blockQuote:o,commentString:u,lineWidth:c}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Oo(n,r);const f=r.indent||(r.forceBlockIndent||Rc(n)?"  ":""),d=o==="literal"?!0:o==="folded"||t===tt.BLOCK_FOLDED?!1:t===tt.BLOCK_LITERAL?!0:!cT(n,c,f.length);if(!n)return d?`|
`:`>
`;let h,v;for(v=n.length;v>0;--v){const D=n[v-1];if(D!==`
`&&D!=="	"&&D!==" ")break}let w=n.substring(v);const k=w.indexOf(`
`);k===-1?h="-":n===w||k!==w.length-1?(h="+",s&&s()):h="",w&&(n=n.slice(0,-w.length),w[w.length-1]===`
`&&(w=w.slice(0,-1)),w=w.replace(/\n+(?!\n|$)/g,`$&${f}`));let $=!1,_,T=-1;for(_=0;_<n.length;++_){const D=n[_];if(D===" ")$=!0;else if(D===`
`)T=_;else break}let b=n.substring(0,T<_?T+1:_);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${f}`));let y=(d?"|":">")+($?f?"2":"1":"")+h;if(e&&(y+=" "+u(e.replace(/ ?[\r\n]+/g," ")),i&&i()),d)return n=n.replace(/\n+/g,`$&${f}`),`${y}
${f}${b}${n}${w}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${f}`);const p=Pc(`${b}${n}${w}`,f,Bh,Nc(r,!0));return`${y}
${f}${p}`}function lT(e,t,n,r){const{type:i,value:s}=e,{actualString:o,implicitKey:u,indent:c,indentStep:f,inFlow:d}=t;if(u&&/[\n[\]{},]/.test(s)||d&&/[[\]{},]/.test(s))return Oo(s,t);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return u||d||!s.includes(`
`)?Oo(s,t):Fc(e,t,n,r);if(!u&&!d&&i!==tt.PLAIN&&s.includes(`
`))return Fc(e,t,n,r);if(Rc(s)){if(c==="")return t.forceBlockIndent=!0,Fc(e,t,n,r);if(u&&c===f)return Oo(s,t)}const h=s.replace(/\n+/g,`$&
${c}`);if(o){const v=$=>$.default&&$.tag!=="tag:yaml.org,2002:str"&&$.test?.test(h),{compat:w,tags:k}=t.doc.schema;if(k.some(v)||w?.some(v))return Oo(s,t)}return u?h:Pc(h,c,I0,Nc(t,!1))}function Uh(e,t,n,r){const{implicitKey:i,inFlow:s}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:u}=e;u!==tt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(u=tt.QUOTE_DOUBLE);const c=d=>{switch(d){case tt.BLOCK_FOLDED:case tt.BLOCK_LITERAL:return i||s?Oo(o.value,t):Fc(o,t,n,r);case tt.QUOTE_DOUBLE:return Qa(o.value,t);case tt.QUOTE_SINGLE:return Wh(o.value,t);case tt.PLAIN:return lT(o,t,n,r);default:return null}};let f=c(u);if(f===null){const{defaultKeyType:d,defaultStringType:h}=t.options,v=i&&d||h;if(f=c(v),f===null)throw new Error(`Unsupported default string type ${v}`)}return f}function L0(e,t){const n=Object.assign({blockQuote:!0,commentString:uT,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function fT(e,t){if(t.tag){const i=e.filter(s=>s.tag===t.tag);if(i.length>0)return i.find(s=>s.format===t.format)??i[0]}let n,r;if(Je(t)){r=t.value;const i=e.filter(s=>s.identify?.(r));n=i.find(s=>s.format===t.format)??i.find(s=>!s.format)}else r=t,n=e.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=r?.constructor?.name??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function dT(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(Je(e)||Qt(e))&&e.anchor;s&&P0(s)&&(n.add(s),i.push(`&${s}`));const o=e.tag?e.tag:t.default?null:t.tag;return o&&i.push(r.directives.tagString(o)),i.join(" ")}function Rs(e,t,n,r){if(wt(e))return e.toString(t,n,r);if(zr(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const s=$t(e)?e:t.doc.createNode(e,{onTagObj:c=>i=c});i||(i=fT(t.doc.schema.tags,s));const o=dT(s,i,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const u=typeof i.stringify=="function"?i.stringify(s,t,n,r):Je(s)?Uh(s,t,n,r):s.toString(t,n,r);return o?Je(s)||u[0]==="{"||u[0]==="["?`${o} ${u}`:`${o}
${t.indent}${u}`:u}function hT({key:e,value:t},n,r,i){const{allNullValues:s,doc:o,indent:u,indentStep:c,options:{commentString:f,indentSeq:d,simpleKeys:h}}=n;let v=$t(e)&&e.comment||null;if(h){if(v)throw new Error("With simple keys, key nodes cannot have comments");if(Qt(e)){const E="With simple keys, collection cannot be used as a key value";throw new Error(E)}}let w=!h&&(!e||v&&t==null&&!n.inFlow||Qt(e)||(Je(e)?e.type===tt.BLOCK_FOLDED||e.type===tt.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!w&&(h||!s),indent:u+c});let k=!1,$=!1,_=Rs(e,n,()=>k=!0,()=>$=!0);if(!w&&!n.inFlow&&_.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");w=!0}if(n.inFlow){if(s||t==null)return k&&r&&r(),_===""?"?":w?`? ${_}`:_}else if(s&&!h||t==null&&w)return _=`? ${_}`,v&&!k?_+=Ji(_,n.indent,f(v)):$&&i&&i(),_;k&&(v=null),w?(v&&(_+=Ji(_,n.indent,f(v))),_=`? ${_}
${u}:`):(_=`${_}:`,v&&(_+=Ji(_,n.indent,f(v))));let T,b,m;$t(t)?(T=!!t.spaceBefore,b=t.commentBefore,m=t.comment):(T=!1,b=null,m=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!w&&!v&&Je(t)&&(n.indentAtStart=_.length+1),$=!1,!d&&c.length>=2&&!n.inFlow&&!w&&sn(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let y=!1;const p=Rs(t,n,()=>y=!0,()=>$=!0);let D=" ";if(v||T||b){if(D=T?`
`:"",b){const E=f(b);D+=`
${vi(E,n.indent)}`}p===""&&!n.inFlow?D===`
`&&(D=`

`):D+=`
${n.indent}`}else if(!w&&Qt(t)){const E=p[0],P=p.indexOf(`
`),C=P!==-1,R=n.inFlow??t.flow??t.items.length===0;if(C||!R){let I=!1;if(C&&(E==="&"||E==="!")){let F=p.indexOf(" ");E==="&"&&F!==-1&&F<P&&p[F+1]==="!"&&(F=p.indexOf(" ",F+1)),(F===-1||P<F)&&(I=!0)}I||(D=`
${n.indent}`)}}else(p===""||p[0]===`
`)&&(D="");return _+=D+p,n.inFlow?y&&r&&r():m&&!y?_+=Ji(_,n.indent,f(m)):$&&i&&i(),_}function j0(e,t){(e==="debug"||e==="warn")&&(typeof Cs<"u"&&Cs.emitWarning?Cs.emitWarning(t):console.warn(t))}const x0="<<";function q0(e,t,{key:n,value:r}){if(e?.doc.schema.merge&&pT(n))if(r=zr(r)?r.resolve(e.doc):r,sn(r))for(const i of r.items)Vh(e,t,i);else if(Array.isArray(r))for(const i of r)Vh(e,t,i);else Vh(e,t,r);else{const i=Yr(n,"",e);if(t instanceof Map)t.set(i,Yr(r,i,e));else if(t instanceof Set)t.add(i);else{const s=mT(n,i,e),o=Yr(r,s,e);s in t?Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[s]=o}}return t}const pT=e=>e===x0||Je(e)&&e.value===x0&&(!e.type||e.type===tt.PLAIN);function Vh(e,t,n){const r=e&&zr(n)?n.resolve(e.doc):n;if(!Jt(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[s,o]of i)t instanceof Map?t.has(s)||t.set(s,o):t instanceof Set?t.add(s):Object.prototype.hasOwnProperty.call(t,s)||Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function mT(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if($t(e)&&n&&n.doc){const r=L0(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),j0(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function Hh(e,t,n){const r=Ga(e,void 0,n),i=Ga(t,void 0,n);return new Nn(r,i)}class Nn{constructor(t,n=null){Object.defineProperty(this,lr,{value:O0}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return $t(n)&&(n=n.clone(t)),$t(r)&&(r=r.clone(t)),new Nn(n,r)}toJSON(t,n){const r=n?.mapAsMap?new Map:{};return q0(n,r,this)}toString(t,n,r){return t?.doc?hT(this,t,n,r):JSON.stringify(this)}}function B0(e,t,n){return(t.inFlow??e.flow?yT:gT)(e,t,n)}function gT({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:u}){const{indent:c,options:{commentString:f}}=n,d=Object.assign({},n,{indent:s,type:null});let h=!1;const v=[];for(let k=0;k<t.length;++k){const $=t[k];let _=null;if($t($))!h&&$.spaceBefore&&v.push(""),Ic(n,v,$.commentBefore,h),$.comment&&(_=$.comment);else if(wt($)){const b=$t($.key)?$.key:null;b&&(!h&&b.spaceBefore&&v.push(""),Ic(n,v,b.commentBefore,h))}h=!1;let T=Rs($,d,()=>_=null,()=>h=!0);_&&(T+=Ji(T,s,f(_))),h&&_&&(h=!1),v.push(r+T)}let w;if(v.length===0)w=i.start+i.end;else{w=v[0];for(let k=1;k<v.length;++k){const $=v[k];w+=$?`
${c}${$}`:`
`}}return e?(w+=`
`+vi(f(e),c),u&&u()):h&&o&&o(),w}function yT({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:s}){const{indent:o,indentStep:u,flowCollectionPadding:c,options:{commentString:f}}=n;i+=u;const d=Object.assign({},n,{indent:i,inFlow:!0,type:null});let h=!1,v=0;const w=[];for(let T=0;T<t.length;++T){const b=t[T];let m=null;if($t(b))b.spaceBefore&&w.push(""),Ic(n,w,b.commentBefore,!1),b.comment&&(m=b.comment);else if(wt(b)){const p=$t(b.key)?b.key:null;p&&(p.spaceBefore&&w.push(""),Ic(n,w,p.commentBefore,!1),p.comment&&(h=!0));const D=$t(b.value)?b.value:null;D?(D.comment&&(m=D.comment),D.commentBefore&&(h=!0)):b.value==null&&p&&p.comment&&(m=p.comment)}m&&(h=!0);let y=Rs(b,d,()=>m=null);T<t.length-1&&(y+=","),m&&(y+=Ji(y,i,f(m))),!h&&(w.length>v||y.includes(`
`))&&(h=!0),w.push(y),v=w.length}let k;const{start:$,end:_}=r;if(w.length===0)k=$+_;else if(h||(h=w.reduce((b,m)=>b+m.length+2,2)>Cc.maxFlowStringSingleLineLength),h){k=$;for(const T of w)k+=T?`
${u}${o}${T}`:`
`;k+=`
${o}${_}`}else k=`${$}${c}${w.join(" ")}${c}${_}`;return e&&(k+=Ji(k,o,f(e)),s&&s()),k}function Ic({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const s=vi(t(r),e);n.push(s.trimStart())}}function Fs(e,t){const n=Je(t)?t.value:t;for(const r of e)if(wt(r)&&(r.key===t||r.key===n||Je(r.key)&&r.key.value===n))return r}class Or extends Cc{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Gi,t),this.items=[]}add(t,n){let r;wt(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Nn(t,t?.value):r=new Nn(t.key,t.value);const i=Fs(this.items,r.key),s=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Je(i.value)&&F0(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const o=this.items.findIndex(u=>s(r,u)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(t){const n=Fs(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const i=Fs(this.items,t)?.value;return(!n&&Je(i)?i.value:i)??void 0}has(t){return!!Fs(this.items,t)}set(t,n){this.add(new Nn(t,n),!0)}toJSON(t,n,r){const i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(const s of this.items)q0(n,i,s);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!wt(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),B0(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}function vT(e,t,n){const{keepUndefined:r,replacer:i}=n,s=new Or(e),o=(u,c)=>{if(typeof i=="function")c=i.call(t,u,c);else if(Array.isArray(i)&&!i.includes(u))return;(c!==void 0||r)&&s.items.push(Hh(u,c,n))};if(t instanceof Map)for(const[u,c]of t)o(u,c);else if(t&&typeof t=="object")for(const u of Object.keys(t))o(u,t[u]);return typeof e.sortMapEntries=="function"&&s.items.sort(e.sortMapEntries),s}const Po={collection:"map",createNode:vT,default:!0,nodeClass:Or,tag:"tag:yaml.org,2002:map",resolve(e,t){return Jt(e)||t("Expected a mapping for this tag"),e}};class No extends Cc{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Ao,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=Mc(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=Mc(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Je(i)?i.value:i}has(t){const n=Mc(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=Mc(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Je(i)&&F0(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n?.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(Yr(s,String(i++),n));return r}toString(t,n,r){return t?B0(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}}function Mc(e){let t=Je(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}function bT(e,t,n){const{replacer:r}=n,i=new No(e);if(t&&Symbol.iterator in Object(t)){let s=0;for(let o of t){if(typeof r=="function"){const u=t instanceof Set?o:String(s++);o=r.call(t,u,o)}i.items.push(Ga(o,void 0,n))}}return i}const Ro={collection:"seq",createNode:bT,default:!0,nodeClass:No,tag:"tag:yaml.org,2002:seq",resolve(e,t){return sn(e)||t("Expected a sequence for this tag"),e}},Lc={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),Uh(e,t,n,r)}},jc={identify:e=>e==null,createNode:()=>new tt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new tt(null),stringify:({source:e},t)=>typeof e=="string"&&jc.test.test(e)?e:t.options.nullStr},Kh={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new tt(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Kh.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Pr({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let u=t-(s.length-o-1);for(;u-- >0;)s+="0"}return s}const W0={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Pr},U0={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Pr(e)}},V0={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new tt(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Pr},xc=e=>typeof e=="bigint"||Number.isInteger(e),zh=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function H0(e,t,n){const{value:r}=e;return xc(r)&&r>=0?n+r.toString(t):Pr(e)}const K0={identify:e=>xc(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>zh(e,2,8,n),stringify:e=>H0(e,8,"0o")},z0={identify:xc,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>zh(e,0,10,n),stringify:Pr},Y0={identify:e=>xc(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>zh(e,2,16,n),stringify:e=>H0(e,16,"0x")},DT=[Po,Ro,Lc,jc,Kh,K0,z0,Y0,W0,U0,V0];function G0(e){return typeof e=="bigint"||Number.isInteger(e)}const qc=({value:e})=>JSON.stringify(e),wT=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:qc},{identify:e=>e==null,createNode:()=>new tt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:qc},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:qc},{identify:G0,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>G0(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:qc}],_T={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},ET=[Po,Ro].concat(wT,_T);var J0={},Bc={};Bc.byteLength=kT,Bc.toByteArray=AT,Bc.fromByteArray=PT;for(var Gr=[],fr=[],ST=typeof Uint8Array<"u"?Uint8Array:Array,Yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fo=0,$T=Yh.length;Fo<$T;++Fo)Gr[Fo]=Yh[Fo],fr[Yh.charCodeAt(Fo)]=Fo;fr[45]=62,fr[95]=63;function Q0(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function kT(e){var t=Q0(e),n=t[0],r=t[1];return(n+r)*3/4-r}function TT(e,t,n){return(t+n)*3/4-n}function AT(e){var t,n=Q0(e),r=n[0],i=n[1],s=new ST(TT(e,r,i)),o=0,u=i>0?r-4:r,c;for(c=0;c<u;c+=4)t=fr[e.charCodeAt(c)]<<18|fr[e.charCodeAt(c+1)]<<12|fr[e.charCodeAt(c+2)]<<6|fr[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=fr[e.charCodeAt(c)]<<2|fr[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=fr[e.charCodeAt(c)]<<10|fr[e.charCodeAt(c+1)]<<4|fr[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function CT(e){return Gr[e>>18&63]+Gr[e>>12&63]+Gr[e>>6&63]+Gr[e&63]}function OT(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(CT(r));return i.join("")}function PT(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,u=n-r;o<u;o+=s)i.push(OT(e,o,o+s>u?u:o+s));return r===1?(t=e[n-1],i.push(Gr[t>>2]+Gr[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Gr[t>>10]+Gr[t>>4&63]+Gr[t<<2&63]+"=")),i.join("")}var Gh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Gh.read=function(e,t,n,r,i){var s,o,u=i*8-r-1,c=(1<<u)-1,f=c>>1,d=-7,h=n?i-1:0,v=n?-1:1,w=e[t+h];for(h+=v,s=w&(1<<-d)-1,w>>=-d,d+=u;d>0;s=s*256+e[t+h],h+=v,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=r;d>0;o=o*256+e[t+h],h+=v,d-=8);if(s===0)s=1-f;else{if(s===c)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-f}return(w?-1:1)*o*Math.pow(2,s-r)},Gh.write=function(e,t,n,r,i,s){var o,u,c,f=s*8-i-1,d=(1<<f)-1,h=d>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:s-1,k=r?1:-1,$=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?t+=v/c:t+=v*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=d?(u=0,o=d):o+h>=1?(u=(t*c-1)*Math.pow(2,i),o=o+h):(u=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+w]=u&255,w+=k,u/=256,i-=8);for(o=o<<i|u,f+=i;f>0;e[n+w]=o&255,w+=k,o/=256,f-=8);e[n+w-k]|=$*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Bc,n=Gh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=d,e.SlowBuffer=p,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:u}=globalThis;d.TYPED_ARRAY_SUPPORT=c(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const O=new s(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,s.prototype),Object.setPrototypeOf(O,S),O.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function f(O){if(O>i)throw new RangeError('The value "'+O+'" is invalid for option "size"');const S=new s(O);return Object.setPrototypeOf(S,d.prototype),S}function d(O,S,A){if(typeof O=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(O)}return h(O,S,A)}d.poolSize=8192;function h(O,S,A){if(typeof O=="string")return $(O,S);if(o.isView(O))return T(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(yt(O,o)||O&&yt(O.buffer,o)||typeof u<"u"&&(yt(O,u)||O&&yt(O.buffer,u)))return b(O,S,A);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=O.valueOf&&O.valueOf();if(M!=null&&M!==O)return d.from(M,S,A);const z=m(O);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return d.from(O[Symbol.toPrimitive]("string"),S,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}d.from=function(O,S,A){return h(O,S,A)},Object.setPrototypeOf(d.prototype,s.prototype),Object.setPrototypeOf(d,s);function v(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function w(O,S,A){return v(O),O<=0?f(O):S!==void 0?typeof A=="string"?f(O).fill(S,A):f(O).fill(S):f(O)}d.alloc=function(O,S,A){return w(O,S,A)};function k(O){return v(O),f(O<0?0:y(O)|0)}d.allocUnsafe=function(O){return k(O)},d.allocUnsafeSlow=function(O){return k(O)};function $(O,S){if((typeof S!="string"||S==="")&&(S="utf8"),!d.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const A=D(O,S)|0;let M=f(A);const z=M.write(O,S);return z!==A&&(M=M.slice(0,z)),M}function _(O){const S=O.length<0?0:y(O.length)|0,A=f(S);for(let M=0;M<S;M+=1)A[M]=O[M]&255;return A}function T(O){if(yt(O,s)){const S=new s(O);return b(S.buffer,S.byteOffset,S.byteLength)}return _(O)}function b(O,S,A){if(S<0||O.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<S+(A||0))throw new RangeError('"length" is outside of buffer bounds');let M;return S===void 0&&A===void 0?M=new s(O):A===void 0?M=new s(O,S):M=new s(O,S,A),Object.setPrototypeOf(M,d.prototype),M}function m(O){if(d.isBuffer(O)){const S=y(O.length)|0,A=f(S);return A.length===0||O.copy(A,0,0,S),A}if(O.length!==void 0)return typeof O.length!="number"||Y(O.length)?f(0):_(O);if(O.type==="Buffer"&&Array.isArray(O.data))return _(O.data)}function y(O){if(O>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return O|0}function p(O){return+O!=O&&(O=0),d.alloc(+O)}d.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==d.prototype},d.compare=function(S,A){if(yt(S,s)&&(S=d.from(S,S.offset,S.byteLength)),yt(A,s)&&(A=d.from(A,A.offset,A.byteLength)),!d.isBuffer(S)||!d.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===A)return 0;let M=S.length,z=A.length;for(let Z=0,se=Math.min(M,z);Z<se;++Z)if(S[Z]!==A[Z]){M=S[Z],z=A[Z];break}return M<z?-1:z<M?1:0},d.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(S,A){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return d.alloc(0);let M;if(A===void 0)for(A=0,M=0;M<S.length;++M)A+=S[M].length;const z=d.allocUnsafe(A);let Z=0;for(M=0;M<S.length;++M){let se=S[M];if(yt(se,s))Z+se.length>z.length?(d.isBuffer(se)||(se=d.from(se)),se.copy(z,Z)):s.prototype.set.call(z,se,Z);else if(d.isBuffer(se))se.copy(z,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=se.length}return z};function D(O,S){if(d.isBuffer(O))return O.length;if(o.isView(O)||yt(O,o))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const A=O.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&A===0)return 0;let z=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return dt(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return At(O).length;default:if(z)return M?-1:dt(O).length;S=(""+S).toLowerCase(),z=!0}}d.byteLength=D;function E(O,S,A){let M=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,S>>>=0,A<=S))return"";for(O||(O="utf8");;)switch(O){case"hex":return oe(this,S,A);case"utf8":case"utf-8":return he(this,S,A);case"ascii":return ge(this,S,A);case"latin1":case"binary":return V(this,S,A);case"base64":return ce(this,S,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,S,A);default:if(M)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),M=!0}}d.prototype._isBuffer=!0;function P(O,S,A){const M=O[S];O[S]=O[A],O[A]=M}d.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let A=0;A<S;A+=2)P(this,A,A+1);return this},d.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let A=0;A<S;A+=4)P(this,A,A+3),P(this,A+1,A+2);return this},d.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let A=0;A<S;A+=8)P(this,A,A+7),P(this,A+1,A+6),P(this,A+2,A+5),P(this,A+3,A+4);return this},d.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?he(this,0,S):E.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(S){if(!d.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:d.compare(this,S)===0},d.prototype.inspect=function(){let S="";const A=e.INSPECT_MAX_BYTES;return S=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(S+=" ... "),"<Buffer "+S+">"},r&&(d.prototype[r]=d.prototype.inspect),d.prototype.compare=function(S,A,M,z,Z){if(yt(S,s)&&(S=d.from(S,S.offset,S.byteLength)),!d.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(A===void 0&&(A=0),M===void 0&&(M=S?S.length:0),z===void 0&&(z=0),Z===void 0&&(Z=this.length),A<0||M>S.length||z<0||Z>this.length)throw new RangeError("out of range index");if(z>=Z&&A>=M)return 0;if(z>=Z)return-1;if(A>=M)return 1;if(A>>>=0,M>>>=0,z>>>=0,Z>>>=0,this===S)return 0;let se=Z-z,Ee=M-A;const je=Math.min(se,Ee),Pe=this.slice(z,Z),xe=S.slice(A,M);for(let Ce=0;Ce<je;++Ce)if(Pe[Ce]!==xe[Ce]){se=Pe[Ce],Ee=xe[Ce];break}return se<Ee?-1:Ee<se?1:0};function C(O,S,A,M,z){if(O.length===0)return-1;if(typeof A=="string"?(M=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,Y(A)&&(A=z?0:O.length-1),A<0&&(A=O.length+A),A>=O.length){if(z)return-1;A=O.length-1}else if(A<0)if(z)A=0;else return-1;if(typeof S=="string"&&(S=d.from(S,M)),d.isBuffer(S))return S.length===0?-1:R(O,S,A,M,z);if(typeof S=="number")return S=S&255,typeof s.prototype.indexOf=="function"?z?s.prototype.indexOf.call(O,S,A):s.prototype.lastIndexOf.call(O,S,A):R(O,[S],A,M,z);throw new TypeError("val must be string, number or Buffer")}function R(O,S,A,M,z){let Z=1,se=O.length,Ee=S.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(O.length<2||S.length<2)return-1;Z=2,se/=2,Ee/=2,A/=2}function je(xe,Ce){return Z===1?xe[Ce]:xe.readUInt16BE(Ce*Z)}let Pe;if(z){let xe=-1;for(Pe=A;Pe<se;Pe++)if(je(O,Pe)===je(S,xe===-1?0:Pe-xe)){if(xe===-1&&(xe=Pe),Pe-xe+1===Ee)return xe*Z}else xe!==-1&&(Pe-=Pe-xe),xe=-1}else for(A+Ee>se&&(A=se-Ee),Pe=A;Pe>=0;Pe--){let xe=!0;for(let Ce=0;Ce<Ee;Ce++)if(je(O,Pe+Ce)!==je(S,Ce)){xe=!1;break}if(xe)return Pe}return-1}d.prototype.includes=function(S,A,M){return this.indexOf(S,A,M)!==-1},d.prototype.indexOf=function(S,A,M){return C(this,S,A,M,!0)},d.prototype.lastIndexOf=function(S,A,M){return C(this,S,A,M,!1)};function I(O,S,A,M){A=Number(A)||0;const z=O.length-A;M?(M=Number(M),M>z&&(M=z)):M=z;const Z=S.length;M>Z/2&&(M=Z/2);let se;for(se=0;se<M;++se){const Ee=parseInt(S.substr(se*2,2),16);if(Y(Ee))return se;O[A+se]=Ee}return se}function F(O,S,A,M){return Xt(dt(S,O.length-A),O,A,M)}function j(O,S,A,M){return Xt(Ke(S),O,A,M)}function Q(O,S,A,M){return Xt(At(S),O,A,M)}function ae(O,S,A,M){return Xt(Ft(S,O.length-A),O,A,M)}d.prototype.write=function(S,A,M,z){if(A===void 0)z="utf8",M=this.length,A=0;else if(M===void 0&&typeof A=="string")z=A,M=this.length,A=0;else if(isFinite(A))A=A>>>0,isFinite(M)?(M=M>>>0,z===void 0&&(z="utf8")):(z=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Z=this.length-A;if((M===void 0||M>Z)&&(M=Z),S.length>0&&(M<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let se=!1;for(;;)switch(z){case"hex":return I(this,S,A,M);case"utf8":case"utf-8":return F(this,S,A,M);case"ascii":case"latin1":case"binary":return j(this,S,A,M);case"base64":return Q(this,S,A,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,S,A,M);default:if(se)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),se=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(O,S,A){return S===0&&A===O.length?t.fromByteArray(O):t.fromByteArray(O.slice(S,A))}function he(O,S,A){A=Math.min(O.length,A);const M=[];let z=S;for(;z<A;){const Z=O[z];let se=null,Ee=Z>239?4:Z>223?3:Z>191?2:1;if(z+Ee<=A){let je,Pe,xe,Ce;switch(Ee){case 1:Z<128&&(se=Z);break;case 2:je=O[z+1],(je&192)===128&&(Ce=(Z&31)<<6|je&63,Ce>127&&(se=Ce));break;case 3:je=O[z+1],Pe=O[z+2],(je&192)===128&&(Pe&192)===128&&(Ce=(Z&15)<<12|(je&63)<<6|Pe&63,Ce>2047&&(Ce<55296||Ce>57343)&&(se=Ce));break;case 4:je=O[z+1],Pe=O[z+2],xe=O[z+3],(je&192)===128&&(Pe&192)===128&&(xe&192)===128&&(Ce=(Z&15)<<18|(je&63)<<12|(Pe&63)<<6|xe&63,Ce>65535&&Ce<1114112&&(se=Ce))}}se===null?(se=65533,Ee=1):se>65535&&(se-=65536,M.push(se>>>10&1023|55296),se=56320|se&1023),M.push(se),z+=Ee}return Ye(M)}const Te=4096;function Ye(O){const S=O.length;if(S<=Te)return String.fromCharCode.apply(String,O);let A="",M=0;for(;M<S;)A+=String.fromCharCode.apply(String,O.slice(M,M+=Te));return A}function ge(O,S,A){let M="";A=Math.min(O.length,A);for(let z=S;z<A;++z)M+=String.fromCharCode(O[z]&127);return M}function V(O,S,A){let M="";A=Math.min(O.length,A);for(let z=S;z<A;++z)M+=String.fromCharCode(O[z]);return M}function oe(O,S,A){const M=O.length;(!S||S<0)&&(S=0),(!A||A<0||A>M)&&(A=M);let z="";for(let Z=S;Z<A;++Z)z+=B[O[Z]];return z}function re(O,S,A){const M=O.slice(S,A);let z="";for(let Z=0;Z<M.length-1;Z+=2)z+=String.fromCharCode(M[Z]+M[Z+1]*256);return z}d.prototype.slice=function(S,A){const M=this.length;S=~~S,A=A===void 0?M:~~A,S<0?(S+=M,S<0&&(S=0)):S>M&&(S=M),A<0?(A+=M,A<0&&(A=0)):A>M&&(A=M),A<S&&(A=S);const z=this.subarray(S,A);return Object.setPrototypeOf(z,d.prototype),z};function q(O,S,A){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+S>A)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(S,A,M){S=S>>>0,A=A>>>0,M||q(S,A,this.length);let z=this[S],Z=1,se=0;for(;++se<A&&(Z*=256);)z+=this[S+se]*Z;return z},d.prototype.readUintBE=d.prototype.readUIntBE=function(S,A,M){S=S>>>0,A=A>>>0,M||q(S,A,this.length);let z=this[S+--A],Z=1;for(;A>0&&(Z*=256);)z+=this[S+--A]*Z;return z},d.prototype.readUint8=d.prototype.readUInt8=function(S,A){return S=S>>>0,A||q(S,1,this.length),this[S]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(S,A){return S=S>>>0,A||q(S,2,this.length),this[S]|this[S+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(S,A){return S=S>>>0,A||q(S,2,this.length),this[S]<<8|this[S+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(S,A){return S=S>>>0,A||q(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(S,A){return S=S>>>0,A||q(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},d.prototype.readBigUInt64LE=x(function(S){S=S>>>0,Re(S,"offset");const A=this[S],M=this[S+7];(A===void 0||M===void 0)&&qe(S,this.length-8);const z=A+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,Z=this[++S]+this[++S]*2**8+this[++S]*2**16+M*2**24;return BigInt(z)+(BigInt(Z)<<BigInt(32))}),d.prototype.readBigUInt64BE=x(function(S){S=S>>>0,Re(S,"offset");const A=this[S],M=this[S+7];(A===void 0||M===void 0)&&qe(S,this.length-8);const z=A*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],Z=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+M;return(BigInt(z)<<BigInt(32))+BigInt(Z)}),d.prototype.readIntLE=function(S,A,M){S=S>>>0,A=A>>>0,M||q(S,A,this.length);let z=this[S],Z=1,se=0;for(;++se<A&&(Z*=256);)z+=this[S+se]*Z;return Z*=128,z>=Z&&(z-=Math.pow(2,8*A)),z},d.prototype.readIntBE=function(S,A,M){S=S>>>0,A=A>>>0,M||q(S,A,this.length);let z=A,Z=1,se=this[S+--z];for(;z>0&&(Z*=256);)se+=this[S+--z]*Z;return Z*=128,se>=Z&&(se-=Math.pow(2,8*A)),se},d.prototype.readInt8=function(S,A){return S=S>>>0,A||q(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},d.prototype.readInt16LE=function(S,A){S=S>>>0,A||q(S,2,this.length);const M=this[S]|this[S+1]<<8;return M&32768?M|4294901760:M},d.prototype.readInt16BE=function(S,A){S=S>>>0,A||q(S,2,this.length);const M=this[S+1]|this[S]<<8;return M&32768?M|4294901760:M},d.prototype.readInt32LE=function(S,A){return S=S>>>0,A||q(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},d.prototype.readInt32BE=function(S,A){return S=S>>>0,A||q(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},d.prototype.readBigInt64LE=x(function(S){S=S>>>0,Re(S,"offset");const A=this[S],M=this[S+7];(A===void 0||M===void 0)&&qe(S,this.length-8);const z=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(M<<24);return(BigInt(z)<<BigInt(32))+BigInt(A+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),d.prototype.readBigInt64BE=x(function(S){S=S>>>0,Re(S,"offset");const A=this[S],M=this[S+7];(A===void 0||M===void 0)&&qe(S,this.length-8);const z=(A<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(z)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+M)}),d.prototype.readFloatLE=function(S,A){return S=S>>>0,A||q(S,4,this.length),n.read(this,S,!0,23,4)},d.prototype.readFloatBE=function(S,A){return S=S>>>0,A||q(S,4,this.length),n.read(this,S,!1,23,4)},d.prototype.readDoubleLE=function(S,A){return S=S>>>0,A||q(S,8,this.length),n.read(this,S,!0,52,8)},d.prototype.readDoubleBE=function(S,A){return S=S>>>0,A||q(S,8,this.length),n.read(this,S,!1,52,8)};function X(O,S,A,M,z,Z){if(!d.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>z||S<Z)throw new RangeError('"value" argument is out of bounds');if(A+M>O.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(S,A,M,z){if(S=+S,A=A>>>0,M=M>>>0,!z){const Ee=Math.pow(2,8*M)-1;X(this,S,A,M,Ee,0)}let Z=1,se=0;for(this[A]=S&255;++se<M&&(Z*=256);)this[A+se]=S/Z&255;return A+M},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(S,A,M,z){if(S=+S,A=A>>>0,M=M>>>0,!z){const Ee=Math.pow(2,8*M)-1;X(this,S,A,M,Ee,0)}let Z=M-1,se=1;for(this[A+Z]=S&255;--Z>=0&&(se*=256);)this[A+Z]=S/se&255;return A+M},d.prototype.writeUint8=d.prototype.writeUInt8=function(S,A,M){return S=+S,A=A>>>0,M||X(this,S,A,1,255,0),this[A]=S&255,A+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(S,A,M){return S=+S,A=A>>>0,M||X(this,S,A,2,65535,0),this[A]=S&255,this[A+1]=S>>>8,A+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(S,A,M){return S=+S,A=A>>>0,M||X(this,S,A,2,65535,0),this[A]=S>>>8,this[A+1]=S&255,A+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(S,A,M){return S=+S,A=A>>>0,M||X(this,S,A,4,4294967295,0),this[A+3]=S>>>24,this[A+2]=S>>>16,this[A+1]=S>>>8,this[A]=S&255,A+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(S,A,M){return S=+S,A=A>>>0,M||X(this,S,A,4,4294967295,0),this[A]=S>>>24,this[A+1]=S>>>16,this[A+2]=S>>>8,this[A+3]=S&255,A+4};function fe(O,S,A,M,z){Se(S,M,z,O,A,7);let Z=Number(S&BigInt(4294967295));O[A++]=Z,Z=Z>>8,O[A++]=Z,Z=Z>>8,O[A++]=Z,Z=Z>>8,O[A++]=Z;let se=Number(S>>BigInt(32)&BigInt(4294967295));return O[A++]=se,se=se>>8,O[A++]=se,se=se>>8,O[A++]=se,se=se>>8,O[A++]=se,A}function $e(O,S,A,M,z){Se(S,M,z,O,A,7);let Z=Number(S&BigInt(4294967295));O[A+7]=Z,Z=Z>>8,O[A+6]=Z,Z=Z>>8,O[A+5]=Z,Z=Z>>8,O[A+4]=Z;let se=Number(S>>BigInt(32)&BigInt(4294967295));return O[A+3]=se,se=se>>8,O[A+2]=se,se=se>>8,O[A+1]=se,se=se>>8,O[A]=se,A+8}d.prototype.writeBigUInt64LE=x(function(S,A=0){return fe(this,S,A,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=x(function(S,A=0){return $e(this,S,A,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(S,A,M,z){if(S=+S,A=A>>>0,!z){const je=Math.pow(2,8*M-1);X(this,S,A,M,je-1,-je)}let Z=0,se=1,Ee=0;for(this[A]=S&255;++Z<M&&(se*=256);)S<0&&Ee===0&&this[A+Z-1]!==0&&(Ee=1),this[A+Z]=(S/se>>0)-Ee&255;return A+M},d.prototype.writeIntBE=function(S,A,M,z){if(S=+S,A=A>>>0,!z){const je=Math.pow(2,8*M-1);X(this,S,A,M,je-1,-je)}let Z=M-1,se=1,Ee=0;for(this[A+Z]=S&255;--Z>=0&&(se*=256);)S<0&&Ee===0&&this[A+Z+1]!==0&&(Ee=1),this[A+Z]=(S/se>>0)-Ee&255;return A+M},d.prototype.writeInt8=function(S,A,M){return S=+S,A=A>>>0,M||X(this,S,A,1,127,-128),S<0&&(S=255+S+1),this[A]=S&255,A+1},d.prototype.writeInt16LE=function(S,A,M){return S=+S,A=A>>>0,M||X(this,S,A,2,32767,-32768),this[A]=S&255,this[A+1]=S>>>8,A+2},d.prototype.writeInt16BE=function(S,A,M){return S=+S,A=A>>>0,M||X(this,S,A,2,32767,-32768),this[A]=S>>>8,this[A+1]=S&255,A+2},d.prototype.writeInt32LE=function(S,A,M){return S=+S,A=A>>>0,M||X(this,S,A,4,2147483647,-2147483648),this[A]=S&255,this[A+1]=S>>>8,this[A+2]=S>>>16,this[A+3]=S>>>24,A+4},d.prototype.writeInt32BE=function(S,A,M){return S=+S,A=A>>>0,M||X(this,S,A,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[A]=S>>>24,this[A+1]=S>>>16,this[A+2]=S>>>8,this[A+3]=S&255,A+4},d.prototype.writeBigInt64LE=x(function(S,A=0){return fe(this,S,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=x(function(S,A=0){return $e(this,S,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ke(O,S,A,M,z,Z){if(A+M>O.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function Fe(O,S,A,M,z){return S=+S,A=A>>>0,z||ke(O,S,A,4),n.write(O,S,A,M,23,4),A+4}d.prototype.writeFloatLE=function(S,A,M){return Fe(this,S,A,!0,M)},d.prototype.writeFloatBE=function(S,A,M){return Fe(this,S,A,!1,M)};function we(O,S,A,M,z){return S=+S,A=A>>>0,z||ke(O,S,A,8),n.write(O,S,A,M,52,8),A+8}d.prototype.writeDoubleLE=function(S,A,M){return we(this,S,A,!0,M)},d.prototype.writeDoubleBE=function(S,A,M){return we(this,S,A,!1,M)},d.prototype.copy=function(S,A,M,z){if(!d.isBuffer(S))throw new TypeError("argument should be a Buffer");if(M||(M=0),!z&&z!==0&&(z=this.length),A>=S.length&&(A=S.length),A||(A=0),z>0&&z<M&&(z=M),z===M||S.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),S.length-A<z-M&&(z=S.length-A+M);const Z=z-M;return this===S&&typeof s.prototype.copyWithin=="function"?this.copyWithin(A,M,z):s.prototype.set.call(S,this.subarray(M,z),A),Z},d.prototype.fill=function(S,A,M,z){if(typeof S=="string"){if(typeof A=="string"?(z=A,A=0,M=this.length):typeof M=="string"&&(z=M,M=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!d.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(S.length===1){const se=S.charCodeAt(0);(z==="utf8"&&se<128||z==="latin1")&&(S=se)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(A<0||this.length<A||this.length<M)throw new RangeError("Out of range index");if(M<=A)return this;A=A>>>0,M=M===void 0?this.length:M>>>0,S||(S=0);let Z;if(typeof S=="number")for(Z=A;Z<M;++Z)this[Z]=S;else{const se=d.isBuffer(S)?S:d.from(S,z),Ee=se.length;if(Ee===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(Z=0;Z<M-A;++Z)this[Z+A]=se[Z%Ee]}return this};const U={};function J(O,S,A){U[O]=class extends A{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(O,S){return`The "${O}" argument must be of type number. Received type ${typeof S}`},TypeError),J("ERR_OUT_OF_RANGE",function(O,S,A){let M=`The value of "${O}" is out of range.`,z=A;return Number.isInteger(A)&&Math.abs(A)>2**32?z=de(String(A)):typeof A=="bigint"&&(z=String(A),(A>BigInt(2)**BigInt(32)||A<-(BigInt(2)**BigInt(32)))&&(z=de(z)),z+="n"),M+=` It must be ${S}. Received ${z}`,M},RangeError);function de(O){let S="",A=O.length;const M=O[0]==="-"?1:0;for(;A>=M+4;A-=3)S=`_${O.slice(A-3,A)}${S}`;return`${O.slice(0,A)}${S}`}function ne(O,S,A){Re(S,"offset"),(O[S]===void 0||O[S+A]===void 0)&&qe(S,O.length-(A+1))}function Se(O,S,A,M,z,Z){if(O>A||O<S){const se=typeof S=="bigint"?"n":"";let Ee;throw S===0||S===BigInt(0)?Ee=`>= 0${se} and < 2${se} ** ${(Z+1)*8}${se}`:Ee=`>= -(2${se} ** ${(Z+1)*8-1}${se}) and < 2 ** ${(Z+1)*8-1}${se}`,new U.ERR_OUT_OF_RANGE("value",Ee,O)}ne(M,z,Z)}function Re(O,S){if(typeof O!="number")throw new U.ERR_INVALID_ARG_TYPE(S,"number",O)}function qe(O,S,A){throw Math.floor(O)!==O?(Re(O,A),new U.ERR_OUT_OF_RANGE("offset","an integer",O)):S<0?new U.ERR_BUFFER_OUT_OF_BOUNDS:new U.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,O)}const Rt=/[^+/0-9A-Za-z-_]/g;function Tt(O){if(O=O.split("=")[0],O=O.trim().replace(Rt,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function dt(O,S){S=S||1/0;let A;const M=O.length;let z=null;const Z=[];for(let se=0;se<M;++se){if(A=O.charCodeAt(se),A>55295&&A<57344){if(!z){if(A>56319){(S-=3)>-1&&Z.push(239,191,189);continue}else if(se+1===M){(S-=3)>-1&&Z.push(239,191,189);continue}z=A;continue}if(A<56320){(S-=3)>-1&&Z.push(239,191,189),z=A;continue}A=(z-55296<<10|A-56320)+65536}else z&&(S-=3)>-1&&Z.push(239,191,189);if(z=null,A<128){if((S-=1)<0)break;Z.push(A)}else if(A<2048){if((S-=2)<0)break;Z.push(A>>6|192,A&63|128)}else if(A<65536){if((S-=3)<0)break;Z.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((S-=4)<0)break;Z.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return Z}function Ke(O){const S=[];for(let A=0;A<O.length;++A)S.push(O.charCodeAt(A)&255);return S}function Ft(O,S){let A,M,z;const Z=[];for(let se=0;se<O.length&&!((S-=2)<0);++se)A=O.charCodeAt(se),M=A>>8,z=A%256,Z.push(z),Z.push(M);return Z}function At(O){return t.toByteArray(Tt(O))}function Xt(O,S,A,M){let z;for(z=0;z<M&&!(z+A>=S.length||z>=O.length);++z)S[z+A]=O[z];return z}function yt(O,S){return O instanceof S||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===S.name}function Y(O){return O!==O}const B=function(){const O="0123456789abcdef",S=new Array(256);for(let A=0;A<16;++A){const M=A*16;for(let z=0;z<16;++z)S[M+z]=O[A]+O[z]}return S}();function x(O){return typeof BigInt>"u"?W:O}function W(){throw new Error("BigInt not supported")}})(J0);const Jr=J0.Buffer,Jh={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Jr=="function")return Jr.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,s){const o=n;let u;if(typeof Jr=="function")u=o instanceof Jr?o.toString("base64"):Jr.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);u=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=tt.BLOCK_LITERAL),t!==tt.QUOTE_DOUBLE){const c=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),f=Math.ceil(u.length/c),d=new Array(f);for(let h=0,v=0;h<f;++h,v+=c)d[h]=u.substr(v,c);u=d.join(t===tt.BLOCK_LITERAL?`
`:" ")}return Uh({comment:e,type:t,value:u},r,i,s)}};function X0(e,t){if(sn(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!wt(r)){if(Jt(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new Nn(new tt(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=i}e.items[n]=wt(r)?r:new Nn(r)}}else t("Expected a sequence for this tag");return e}function Z0(e,t,n){const{replacer:r}=n,i=new No(e);i.tag="tag:yaml.org,2002:pairs";let s=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(s++),o));let u,c;if(Array.isArray(o))if(o.length===2)u=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const f=Object.keys(o);if(f.length===1)u=f[0],c=o[u];else throw new TypeError(`Expected { key: value } tuple: ${o}`)}else u=o;i.items.push(Hh(u,c,n))}return i}const Qh={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:X0,createNode:Z0};class Io extends No{constructor(){super(),this.add=Or.prototype.add.bind(this),this.delete=Or.prototype.delete.bind(this),this.get=Or.prototype.get.bind(this),this.has=Or.prototype.has.bind(this),this.set=Or.prototype.set.bind(this),this.tag=Io.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n?.onCreate&&n.onCreate(r);for(const i of this.items){let s,o;if(wt(i)?(s=Yr(i.key,"",n),o=Yr(i.value,s,n)):s=Yr(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}}Io.tag="tag:yaml.org,2002:omap";const Xh={collection:"seq",identify:e=>e instanceof Map,nodeClass:Io,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=X0(e,t),r=[];for(const{key:i}of n.items)Je(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Io,n)},createNode(e,t,n){const r=Z0(e,t,n),i=new Io;return i.items=r.items,i}};function ev({value:e,source:t},n){return t&&(e?tv:nv).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const tv={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new tt(!0),stringify:ev},nv={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new tt(!1),stringify:ev},NT={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Pr},RT={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Pr(e)}},FT={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new tt(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Pr},Xa=e=>typeof e=="bigint"||Number.isInteger(e);function Wc(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return i==="-"?BigInt(-1)*o:o}const s=parseInt(e,n);return i==="-"?-1*s:s}function Zh(e,t,n){const{value:r}=e;if(Xa(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Pr(e)}const IT={identify:Xa,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>Wc(e,2,2,n),stringify:e=>Zh(e,2,"0b")},MT={identify:Xa,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>Wc(e,1,8,n),stringify:e=>Zh(e,8,"0")},LT={identify:Xa,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>Wc(e,0,10,n),stringify:Pr},jT={identify:Xa,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>Wc(e,2,16,n),stringify:e=>Zh(e,16,"0x")};class Mo extends Or{constructor(t){super(t),this.tag=Mo.tag}add(t){let n;wt(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Nn(t.key,null):n=new Nn(t,null),Fs(this.items,n.key)||this.items.push(n)}get(t,n){const r=Fs(this.items,t);return!n&&wt(r)?Je(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Fs(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Nn(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}}Mo.tag="tag:yaml.org,2002:set";const ep={collection:"map",identify:e=>e instanceof Set,nodeClass:Mo,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(Jt(e)){if(e.hasAllNullValues(!0))return Object.assign(new Mo,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:r}=n,i=new Mo(e);if(t&&Symbol.iterator in Object(t))for(let s of t)typeof r=="function"&&(s=r.call(t,s,s)),i.items.push(Hh(s,null,n));return i}};function tp(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=o=>t?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,u)=>o*i(60)+i(u),i(0));return n==="-"?i(-1)*s:s}function rv(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return Pr(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),s=[t%i];return t<60?s.unshift(0):(t=(t-s[0])/i,s.unshift(t%i),t>=60&&(t=(t-s[0])/i,s.unshift(t))),r+s.map(o=>o<10?"0"+String(o):String(o)).join(":").replace(/000000\d*$/,"")}const iv={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>tp(e,n),stringify:rv},sv={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>tp(e,!1),stringify:rv},Uc={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Uc.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,s,o,u]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let f=Date.UTC(n,r-1,i,s||0,o||0,u||0,c);const d=t[8];if(d&&d!=="Z"){let h=tp(d,!1);Math.abs(h)<30&&(h*=60),f-=6e4*h}return new Date(f)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},ov=[Po,Ro,Lc,jc,tv,nv,IT,MT,LT,jT,NT,RT,FT,Jh,Xh,Qh,ep,iv,sv,Uc],av=new Map([["core",DT],["failsafe",[Po,Ro,Lc]],["json",ET],["yaml11",ov],["yaml-1.1",ov]]),uv={binary:Jh,bool:Kh,float:V0,floatExp:U0,floatNaN:W0,floatTime:sv,int:z0,intHex:Y0,intOct:K0,intTime:iv,map:Po,null:jc,omap:Xh,pairs:Qh,seq:Ro,set:ep,timestamp:Uc},xT={"tag:yaml.org,2002:binary":Jh,"tag:yaml.org,2002:omap":Xh,"tag:yaml.org,2002:pairs":Qh,"tag:yaml.org,2002:set":ep,"tag:yaml.org,2002:timestamp":Uc};function np(e,t){let n=av.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(av.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=uv[r];if(i)return i;const s=Object.keys(uv).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${s}`)})}const qT=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class rp{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:u}){this.compat=Array.isArray(t)?np(t,"compat"):t?np(null,t):null,this.merge=!!r,this.name=typeof s=="string"&&s||"core",this.knownTags=i?xT:{},this.tags=np(n,this.name),this.toStringOptions=u??null,Object.defineProperty(this,Gi,{value:Po}),Object.defineProperty(this,yi,{value:Lc}),Object.defineProperty(this,Ao,{value:Ro}),this.sortMapEntries=typeof o=="function"?o:o===!0?qT:null}clone(){const t=Object.create(rp.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function BT(e,t){const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const c=e.directives.toString(e);c?(n.push(c),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=L0(e,t),{commentString:s}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const c=s(e.commentBefore);n.unshift(vi(c,""))}let o=!1,u=null;if(e.contents){if($t(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const d=s(e.contents.commentBefore);n.push(vi(d,""))}i.forceBlockIndent=!!e.comment,u=e.contents.comment}const c=u?void 0:()=>o=!0;let f=Rs(e.contents,i,()=>u=null,c);u&&(f+=Ji(f,"",s(u))),(f[0]==="|"||f[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${f}`:n.push(f)}else n.push(Rs(e.contents,i));if(e.directives?.docEnd)if(e.comment){const c=s(e.comment);c.includes(`
`)?(n.push("..."),n.push(vi(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=e.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||u)&&n[n.length-1]!==""&&n.push(""),n.push(vi(s(c),"")))}return n.join(`
`)+`
`}function Za(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const o=r[i],u=Za(e,r,String(i),o);u===void 0?delete r[i]:u!==o&&(r[i]=u)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),o=Za(e,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(const i of Array.from(r)){const s=Za(e,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const o=Za(e,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return e.call(t,n,r)}class eu{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,lr,{value:jh});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Pn({version:o}),this.setSchema(o,r),t===void 0?this.contents=null:this.contents=this.createNode(t,i,r)}clone(){const t=Object.create(eu.prototype,{[lr]:{value:jh}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=$t(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Lo(this.contents)&&this.contents.add(t)}addIn(t,n){Lo(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=N0(this);t.anchor=!n||r.has(n)?R0(n||"a",r):n}return new qh(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const _=b=>typeof b=="number"||b instanceof String||b instanceof Number,T=n.filter(_).map(String);T.length>0&&(n=n.concat(T)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:u,keepUndefined:c,onTagObj:f,tag:d}=r??{},{onAnchor:h,setAnchors:v,sourceObjects:w}=sT(this,o||"a"),k={aliasDuplicateObjects:s??!0,keepUndefined:c??!1,onAnchor:h,onTagObj:f,replacer:i,schema:this.schema,sourceObjects:w},$=Ga(t,d,k);return u&&Qt($)&&($.flow=!0),v(),$}createPair(t,n,r={}){const i=this.createNode(t,null,r),s=this.createNode(n,null,r);return new Nn(i,s)}delete(t){return Lo(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Ja(t)?this.contents==null?!1:(this.contents=null,!0):Lo(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Qt(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Ja(t)?!n&&Je(this.contents)?this.contents.value:this.contents:Qt(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Qt(this.contents)?this.contents.has(t):!1}hasIn(t){return Ja(t)?this.contents!==void 0:Qt(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Ac(this.schema,[t],n):Lo(this.contents)&&this.contents.set(t,n)}setIn(t,n){Ja(t)?this.contents=n:this.contents==null?this.contents=Ac(this.schema,Array.from(t),n):Lo(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Pn({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Pn({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new rp(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:o}={}){const u={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:Rs},c=Yr(this.contents,n??"",u);if(typeof s=="function")for(const{count:f,res:d}of u.anchors.values())s(d,f);return typeof o=="function"?Za(o,{"":c},"",c):c}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return BT(this,t)}}function Lo(e){if(Qt(e))return!0;throw new Error("Expected a YAML collection as document contents")}class cv extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class tu extends cv{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class WT extends cv{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const lv=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(u=>t.linePos(u));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const u=Math.min(s-39,o.length-79);o="…"+o.substring(u),s-=u-1}if(o.length>80&&(o=o.substring(0,79)+"…"),r>1&&/^ *$/.test(o.substring(0,s))){let u=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);u.length>80&&(u=u.substring(0,79)+`…
`),o=u+o}if(/[^ ]/.test(o)){let u=1;const c=n.linePos[1];c&&c.line===r&&c.col>i&&(u=Math.max(1,Math.min(c.col-i,80-s)));const f=" ".repeat(s)+"^".repeat(u);n.message+=`:

${o}
${f}
`}};function jo(e,{flow:t,indicator:n,next:r,offset:i,onError:s,startOnNewline:o}){let u=!1,c=o,f=o,d="",h="",v=!1,w=!1,k=!1,$=null,_=null,T=null,b=null,m=null;for(const D of e)switch(k&&(D.type!=="space"&&D.type!=="newline"&&D.type!=="comma"&&s(D.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),k=!1),D.type){case"space":!t&&c&&n!=="doc-start"&&D.source[0]==="	"&&s(D,"TAB_AS_INDENT","Tabs are not allowed as indentation"),f=!0;break;case"comment":{f||s(D,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const E=D.source.substring(1)||" ";d?d+=h+E:d=E,h="",c=!1;break}case"newline":c?d?d+=D.source:u=!0:h+=D.source,c=!0,v=!0,($||_)&&(w=!0),f=!0;break;case"anchor":$&&s(D,"MULTIPLE_ANCHORS","A node can have at most one anchor"),D.source.endsWith(":")&&s(D.offset+D.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),$=D,m===null&&(m=D.offset),c=!1,f=!1,k=!0;break;case"tag":{_&&s(D,"MULTIPLE_TAGS","A node can have at most one tag"),_=D,m===null&&(m=D.offset),c=!1,f=!1,k=!0;break}case n:($||_)&&s(D,"BAD_PROP_ORDER",`Anchors and tags must be after the ${D.source} indicator`),b&&s(D,"UNEXPECTED_TOKEN",`Unexpected ${D.source} in ${t??"collection"}`),b=D,c=!1,f=!1;break;case"comma":if(t){T&&s(D,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),T=D,c=!1,f=!1;break}default:s(D,"UNEXPECTED_TOKEN",`Unexpected ${D.type} token`),c=!1,f=!1}const y=e[e.length-1],p=y?y.offset+y.source.length:i;return k&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:T,found:b,spaceBefore:u,comment:d,hasNewline:v,hasNewlineAfterProp:w,anchor:$,tag:_,end:p,start:m??p}}function nu(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(nu(t.key)||nu(t.value))return!0}return!1;default:return!0}}function ip(e,t,n){if(t?.type==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&nu(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function fv(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(s,o)=>s===o||Je(s)&&Je(o)&&s.value===o.value&&!(s.value==="<<"&&e.schema.merge);return t.some(s=>i(s.key,n))}const dv="All mapping items must start at the same column";function UT({composeNode:e,composeEmptyNode:t},n,r,i){const s=new Or(n.schema);n.atRoot&&(n.atRoot=!1);let o=r.offset,u=null;for(const c of r.items){const{start:f,key:d,sep:h,value:v}=c,w=jo(f,{indicator:"explicit-key-ind",next:d??h?.[0],offset:o,onError:i,startOnNewline:!0}),k=!w.found;if(k){if(d&&(d.type==="block-seq"?i(o,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==r.indent&&i(o,"BAD_INDENT",dv)),!w.anchor&&!w.tag&&!h){u=w.end,w.comment&&(s.comment?s.comment+=`
`+w.comment:s.comment=w.comment);continue}(w.hasNewlineAfterProp||nu(d))&&i(d??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else w.found?.indent!==r.indent&&i(o,"BAD_INDENT",dv);const $=w.end,_=d?e(n,d,w,i):t(n,$,f,null,w,i);n.schema.compat&&ip(r.indent,d,i),fv(n,s.items,_)&&i($,"DUPLICATE_KEY","Map keys must be unique");const T=jo(h??[],{indicator:"map-value-ind",next:v,offset:_.range[2],onError:i,startOnNewline:!d||d.type==="block-scalar"});if(o=T.end,T.found){k&&(v?.type==="block-map"&&!T.hasNewline&&i(o,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&w.start<T.found.offset-1024&&i(_.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const b=v?e(n,v,T,i):t(n,o,h,null,T,i);n.schema.compat&&ip(r.indent,v,i),o=b.range[2];const m=new Nn(_,b);n.options.keepSourceTokens&&(m.srcToken=c),s.items.push(m)}else{k&&i(_.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),T.comment&&(_.comment?_.comment+=`
`+T.comment:_.comment=T.comment);const b=new Nn(_);n.options.keepSourceTokens&&(b.srcToken=c),s.items.push(b)}}return u&&u<o&&i(u,"IMPOSSIBLE","Map comment with trailing content"),s.range=[r.offset,o,u??o],s}function VT({composeNode:e,composeEmptyNode:t},n,r,i){const s=new No(n.schema);n.atRoot&&(n.atRoot=!1);let o=r.offset,u=null;for(const{start:c,value:f}of r.items){const d=jo(c,{indicator:"seq-item-ind",next:f,offset:o,onError:i,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||f)f&&f.type==="block-seq"?i(d.end,"BAD_INDENT","All sequence items must start at the same column"):i(o,"MISSING_CHAR","Sequence item without - indicator");else{u=d.end,d.comment&&(s.comment=d.comment);continue}const h=f?e(n,f,d,i):t(n,d.end,c,null,d,i);n.schema.compat&&ip(r.indent,f,i),o=h.range[2],s.items.push(h)}return s.range=[r.offset,o,u??o],s}function ru(e,t,n,r){let i="";if(e){let s=!1,o="";for(const u of e){const{source:c,type:f}=u;switch(f){case"space":s=!0;break;case"comment":{n&&!s&&r(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=c.substring(1)||" ";i?i+=o+d:i=d,o="";break}case"newline":i&&(o+=c),s=!0;break;default:r(u,"UNEXPECTED_TOKEN",`Unexpected ${f} at node end`)}t+=c.length}}return{comment:i,offset:t}}const sp="Block collections are not allowed within flow collections",op=e=>e&&(e.type==="block-map"||e.type==="block-seq");function HT({composeNode:e,composeEmptyNode:t},n,r,i){const s=r.start.source==="{",o=s?"flow map":"flow sequence",u=s?new Or(n.schema):new No(n.schema);u.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1);let f=r.offset+r.start.source.length;for(let k=0;k<r.items.length;++k){const $=r.items[k],{start:_,key:T,sep:b,value:m}=$,y=jo(_,{flow:o,indicator:"explicit-key-ind",next:T??b?.[0],offset:f,onError:i,startOnNewline:!1});if(!y.found){if(!y.anchor&&!y.tag&&!b&&!m){k===0&&y.comma?i(y.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):k<r.items.length-1&&i(y.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),y.comment&&(u.comment?u.comment+=`
`+y.comment:u.comment=y.comment),f=y.end;continue}!s&&n.options.strict&&nu(T)&&i(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(k===0)y.comma&&i(y.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(y.comma||i(y.start,"MISSING_CHAR",`Missing , between ${o} items`),y.comment){let p="";e:for(const D of _)switch(D.type){case"comma":case"space":break;case"comment":p=D.source.substring(1);break e;default:break e}if(p){let D=u.items[u.items.length-1];wt(D)&&(D=D.value??D.key),D.comment?D.comment+=`
`+p:D.comment=p,y.comment=y.comment.substring(p.length+1)}}if(!s&&!b&&!y.found){const p=m?e(n,m,y,i):t(n,y.end,b,null,y,i);u.items.push(p),f=p.range[2],op(m)&&i(p.range,"BLOCK_IN_FLOW",sp)}else{const p=y.end,D=T?e(n,T,y,i):t(n,p,_,null,y,i);op(T)&&i(D.range,"BLOCK_IN_FLOW",sp);const E=jo(b??[],{flow:o,indicator:"map-value-ind",next:m,offset:D.range[2],onError:i,startOnNewline:!1});if(E.found){if(!s&&!y.found&&n.options.strict){if(b)for(const R of b){if(R===E.found)break;if(R.type==="newline"){i(R,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}y.start<E.found.offset-1024&&i(E.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else m&&("source"in m&&m.source&&m.source[0]===":"?i(m,"MISSING_CHAR",`Missing space after : in ${o}`):i(E.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const P=m?e(n,m,E,i):E.found?t(n,E.end,b,null,E,i):null;P?op(m)&&i(P.range,"BLOCK_IN_FLOW",sp):E.comment&&(D.comment?D.comment+=`
`+E.comment:D.comment=E.comment);const C=new Nn(D,P);if(n.options.keepSourceTokens&&(C.srcToken=$),s){const R=u;fv(n,R.items,D)&&i(p,"DUPLICATE_KEY","Map keys must be unique"),R.items.push(C)}else{const R=new Or(n.schema);R.flow=!0,R.items.push(C),u.items.push(R)}f=P?P.range[2]:E.end}}const d=s?"}":"]",[h,...v]=r.end;let w=f;if(h&&h.source===d)w=h.offset+h.source.length;else{const k=o[0].toUpperCase()+o.substring(1),$=c?`${k} must end with a ${d}`:`${k} in block collection must be sufficiently indented and end with a ${d}`;i(f,c?"MISSING_CHAR":"BAD_INDENT",$),h&&h.source.length!==1&&v.unshift(h)}if(v.length>0){const k=ru(v,w,n.options.strict,i);k.comment&&(u.comment?u.comment+=`
`+k.comment:u.comment=k.comment),u.range=[r.offset,w,k.offset]}else u.range=[r.offset,w,w];return u}function KT(e,t,n,r,i){let s;switch(n.type){case"block-map":{s=UT(e,t,n,i);break}case"block-seq":{s=VT(e,t,n,i);break}case"flow-collection":{s=HT(e,t,n,i);break}}if(!r)return s;const o=t.directives.tagName(r.source,v=>i(r,"TAG_RESOLVE_FAILED",v));if(!o)return s;const u=s.constructor;if(o==="!"||o===u.tagName)return s.tag=u.tagName,s;const c=Jt(s)?"map":"seq";let f=t.schema.tags.find(v=>v.collection===c&&v.tag===o);if(!f){const v=t.schema.knownTags[o];if(v&&v.collection===c)t.schema.tags.push(Object.assign({},v,{default:!1})),f=v;else return i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),s.tag=o,s}const d=f.resolve(s,v=>i(r,"TAG_RESOLVE_FAILED",v),t.options),h=$t(d)?d:new tt(d);return h.range=s.range,h.tag=o,f?.format&&(h.format=f.format),h}function zT(e,t,n){const r=e.offset,i=YT(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const s=i.mode===">"?tt.BLOCK_FOLDED:tt.BLOCK_LITERAL,o=e.source?GT(e.source):[];let u=o.length;for(let $=o.length-1;$>=0;--$){const _=o[$][1];if(_===""||_==="\r")u=$;else break}if(u===0){const $=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let _=r+i.length;return e.source&&(_+=e.source.length),{value:$,type:s,comment:i.comment,range:[r,_,_]}}let c=e.indent+i.indent,f=e.offset+i.length,d=0;for(let $=0;$<u;++$){const[_,T]=o[$];if(T===""||T==="\r")i.indent===0&&_.length>c&&(c=_.length);else{_.length<c&&n(f+_.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(c=_.length),d=$;break}f+=_.length+T.length+1}for(let $=o.length-1;$>=u;--$)o[$][0].length>c&&(u=$+1);let h="",v="",w=!1;for(let $=0;$<d;++$)h+=o[$][0].slice(c)+`
`;for(let $=d;$<u;++$){let[_,T]=o[$];f+=_.length+T.length+1;const b=T[T.length-1]==="\r";if(b&&(T=T.slice(0,-1)),T&&_.length<c){const y=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(f-T.length-(b?2:1),"BAD_INDENT",y),_=""}s===tt.BLOCK_LITERAL?(h+=v+_.slice(c)+T,v=`
`):_.length>c||T[0]==="	"?(v===" "?v=`
`:!w&&v===`
`&&(v=`

`),h+=v+_.slice(c)+T,v=`
`,w=!0):T===""?v===`
`?h+=`
`:v=`
`:(h+=v+T,v=" ",w=!1)}switch(i.chomp){case"-":break;case"+":for(let $=u;$<o.length;++$)h+=`
`+o[$][0].slice(c);h[h.length-1]!==`
`&&(h+=`
`);break;default:h+=`
`}const k=r+i.length+e.source.length;return{value:h,type:s,comment:i.comment,range:[r,k,k]}}function YT({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],s=i[0];let o=0,u="",c=-1;for(let v=1;v<i.length;++v){const w=i[v];if(!u&&(w==="-"||w==="+"))u=w;else{const k=Number(w);!o&&k?o=k:c===-1&&(c=e+v)}}c!==-1&&r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let f=!1,d="",h=i.length;for(let v=1;v<t.length;++v){const w=t[v];switch(w.type){case"space":f=!0;case"newline":h+=w.source.length;break;case"comment":n&&!f&&r(w,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),h+=w.source.length,d=w.source.substring(1);break;case"error":r(w,"UNEXPECTED_TOKEN",w.message),h+=w.source.length;break;default:{const k=`Unexpected token in block scalar header: ${w.type}`;r(w,"UNEXPECTED_TOKEN",k);const $=w.source;$&&typeof $=="string"&&(h+=$.length)}}}return{mode:s,indent:o,chomp:u,comment:d,length:h}}function GT(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)s.push([t[o],t[o+1]]);return s}function JT(e,t,n){const{offset:r,type:i,source:s,end:o}=e;let u,c;const f=(v,w,k)=>n(r+v,w,k);switch(i){case"scalar":u=tt.PLAIN,c=QT(s,f);break;case"single-quoted-scalar":u=tt.QUOTE_SINGLE,c=XT(s,f);break;case"double-quoted-scalar":u=tt.QUOTE_DOUBLE,c=ZT(s,f);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const d=r+s.length,h=ru(o,d,t,n);return{value:c,type:u,comment:h.comment,range:[r,d,h.offset]}}function QT(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),hv(e)}function XT(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),hv(e.slice(1,-1)).replace(/''/g,"'")}function hv(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],s=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),o=n.lastIndex;const u=/[ \t]*(.*)/sy;return u.lastIndex=o,r=u.exec(e),i+s+(r?.[1]??"")}function ZT(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:s,offset:o}=eA(e,r);n+=s,r=o}else if(i==="\\"){let s=e[++r];const o=tA[s];if(o)n+=o;else if(s===`
`)for(s=e[r+1];s===" "||s==="	";)s=e[++r+1];else if(s==="\r"&&e[r+1]===`
`)for(s=e[++r+1];s===" "||s==="	";)s=e[++r+1];else if(s==="x"||s==="u"||s==="U"){const u={x:2,u:4,U:8}[s];n+=nA(e,r+1,u,t),r+=u}else{const u=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),n+=u}}else if(i===" "||i==="	"){const s=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>s?e.slice(s,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function eA(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const tA={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function nA(e,t,n,r){const i=e.substr(t,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const u=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),u}return String.fromCodePoint(o)}function pv(e,t,n,r){const{value:i,type:s,comment:o,range:u}=t.type==="block-scalar"?zT(t,e.options.strict,r):JT(t,e.options.strict,r),c=n?e.directives.tagName(n.source,h=>r(n,"TAG_RESOLVE_FAILED",h)):null,f=n&&c?rA(e.schema,i,c,n,r):t.type==="scalar"?iA(e,i,t,r):e.schema[yi];let d;try{const h=f.resolve(i,v=>r(n??t,"TAG_RESOLVE_FAILED",v),e.options);d=Je(h)?h:new tt(h)}catch(h){const v=h instanceof Error?h.message:String(h);r(n??t,"TAG_RESOLVE_FAILED",v),d=new tt(i)}return d.range=u,d.source=i,s&&(d.type=s),c&&(d.tag=c),f.format&&(d.format=f.format),o&&(d.comment=o),d}function rA(e,t,n,r,i){if(n==="!")return e[yi];const s=[];for(const u of e.tags)if(!u.collection&&u.tag===n)if(u.default&&u.test)s.push(u);else return u;for(const u of s)if(u.test?.test(t))return u;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[yi])}function iA({directives:e,schema:t},n,r,i){const s=t.tags.find(o=>o.default&&o.test?.test(n))||t[yi];if(t.compat){const o=t.compat.find(u=>u.default&&u.test?.test(n))??t[yi];if(s.tag!==o.tag){const u=e.tagString(s.tag),c=e.tagString(o.tag),f=`Value may be parsed as either ${u} or ${c}`;i(r,"TAG_RESOLVE_FAILED",f,!0)}}return s}function sA(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];i?.type==="space";)e+=i.source.length,i=t[++r];break}}return e}const oA={composeNode:mv,composeEmptyNode:ap};function mv(e,t,n,r){const{spaceBefore:i,comment:s,anchor:o,tag:u}=n;let c,f=!0;switch(t.type){case"alias":c=aA(e,t,r),(o||u)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=pv(e,t,u,r),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=KT(oA,e,t,u,r),o&&(c.anchor=o.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),c=ap(e,t.offset,void 0,null,n,r),f=!1}}return o&&c.anchor===""&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),s&&(t.type==="scalar"&&t.source===""?c.comment=s:c.commentBefore=s),e.options.keepSourceTokens&&f&&(c.srcToken=t),c}function ap(e,t,n,r,{spaceBefore:i,comment:s,anchor:o,tag:u,end:c},f){const d={type:"scalar",offset:sA(t,n,r),indent:-1,source:""},h=pv(e,d,u,f);return o&&(h.anchor=o.source.substring(1),h.anchor===""&&f(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(h.spaceBefore=!0),s&&(h.comment=s,h.range[2]=c),h}function aA({options:e},{offset:t,source:n,end:r},i){const s=new qh(n.substring(1));s.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,u=ru(r,o,e.strict,i);return s.range=[t,o,u.offset],u.comment&&(s.comment=u.comment),s}function uA(e,t,{offset:n,start:r,value:i,end:s},o){const u=Object.assign({_directives:t},e),c=new eu(void 0,u),f={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},d=jo(r,{indicator:"doc-start",next:i??s?.[0],offset:n,onError:o,startOnNewline:!0});d.found&&(c.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!d.hasNewline&&o(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?mv(f,i,d,o):ap(f,d.end,r,null,d,o);const h=c.contents.range[2],v=ru(s,h,!1,o);return v.comment&&(c.comment=v.comment),c.range=[n,h,v.offset],c}function iu(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function gv(e){let t="",n=!1,r=!1;for(let i=0;i<e.length;++i){const s=e[i];switch(s[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":e[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class yv{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{const o=iu(n);s?this.warnings.push(new WT(o,r,i)):this.errors.push(new tu(o,r,i))},this.directives=new Pn({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=gv(this.prelude);if(r){const s=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!s)t.commentBefore=r;else if(Qt(s)&&!s.flow&&s.items.length>0){let o=s.items[0];wt(o)&&(o=o.key);const u=o.commentBefore;o.commentBefore=u?`${r}
${u}`:r}else{const o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:gv(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const s=iu(t);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=uA(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new tu(iu(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new tu(iu(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=ru(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new tu(iu(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new eu(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const vv=e=>"type"in e?Vc(e):Hc(e);function Vc(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=Vc(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=Hc(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=Hc(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=Hc(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function Hc({start:e,key:t,sep:n,value:r}){let i="";for(const s of e)i+=s.source;if(t&&(i+=Vc(t)),n)for(const s of n)i+=s.source;return r&&(i+=Vc(r)),i}const up=Symbol("break visit"),cA=Symbol("skip children"),bv=Symbol("remove item");function Is(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Dv(Object.freeze([]),e,t)}Is.BREAK=up,Is.SKIP=cA,Is.REMOVE=bv,Is.itemAtPath=(e,t)=>{let n=e;for(const[r,i]of t){const s=n?.[r];if(s&&"items"in s)n=s.items[i];else return}return n},Is.parentCollection=(e,t)=>{const n=Is.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n?.[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Dv(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const s=t[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){const u=Dv(Object.freeze(e.concat([[i,o]])),s.items[o],n);if(typeof u=="number")o=u-1;else{if(u===up)return up;u===bv&&(s.items.splice(o,1),o-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const wv="\uFEFF",_v="",Ev="",cp="",lA=e=>!!e&&"items"in e,lp=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function fA(e){switch(e){case wv:return"byte-order-mark";case _v:return"doc-mode";case Ev:return"flow-error-end";case cp:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function dr(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Sv="0123456789ABCDEFabcdef".split(""),dA="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),fp=",[]{}".split(""),hA=` ,[]{}
\r	`.split(""),dp=e=>!e||hA.includes(e);class pA{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&dr(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===wv&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length;const r=t.indexOf("#");if(r!==-1){const s=t[r-1];(s===" "||s==="	")&&(n=r-1)}for(;;){const s=t[n-1];if(s===" "||s==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield _v,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&dr(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&dr(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!dr(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&dr(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(dp),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&dr(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Ev,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(dp),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||dr(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>dr(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const s=this.buffer[i+1];if(!s&&!this.atEnd)return this.setNext("block-scalar");if(s===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,s=this.buffer[i];s==="\r"&&(s=this.buffer[--i]);const o=i;for(;s===" "||s==="	";)s=this.buffer[--i];if(s===`
`&&i>=this.pos&&i+1+n>o)t=i;else break}while(!0);return yield cp,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const s=this.buffer[r+1];if(dr(s)||t&&s===",")break;n=r}else if(dr(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||t&&fp.includes(s))break;if(i===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&fp.includes(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield cp,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(dp))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(dr(n)||t&&fp.includes(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!dr(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(dA.includes(n))n=this.buffer[++t];else if(n==="%"&&Sv.includes(this.buffer[t+1])&&Sv.includes(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class $v{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const s=n+r>>1;this.lineStarts[s]<t?n=s+1:r=s}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function Nr(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function kv(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Tv(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Kc(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function xo(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function Av(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!Nr(t.start,"explicit-key-ind")&&!Nr(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Tv(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class hp{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new pA,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=fA(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Av(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!Nr(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&kv(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{kv(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Kc(this.peek(2)),r=xo(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const r=!this.onKeyLine&&this.indent===t.indent&&n.sep;let i=[];if(r&&n.sep&&!n.value){const s=[];for(let o=0;o<n.sep.length;++o){const u=n.sep[o];switch(u.type){case"newline":s.push(o);break;case"space":break;case"comment":u.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(i=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":r||n.value?(i.push(this.sourceToken),t.items.push({start:i}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!Nr(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):r||n.value?(i.push(this.sourceToken),t.items.push({start:i})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(Nr(n.start,"explicit-key-ind"))if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Nr(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(Tv(n.key)&&!Nr(n.sep,"newline")){const s=xo(n.start),o=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:o,sep:u}]})}else i.length>0?n.sep=n.sep.concat(i,this.sourceToken):n.sep.push(this.sourceToken);else if(Nr(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=xo(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||r?t.items.push({start:i,key:null,sep:[this.sourceToken]}):Nr(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);r||n.value?(t.items.push({start:i,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){r&&s.type!=="block-seq"&&Nr(n.start,"explicit-key-ind")&&t.items.push({start:i}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||Nr(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const r=this.startBlockValue(t);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=Kc(r),s=xo(i);Av(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const u={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:s,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=u}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Kc(t),r=xo(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Kc(t),r=xo(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function mA(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new $v||null,prettyErrors:t}}function gA(e,t={}){const{lineCounter:n,prettyErrors:r}=mA(t),i=new hp(n?.addNewLine),s=new yv(t);let o=null;for(const u of s.compose(i.parse(e),!0,e.length))if(!o)o=u;else if(o.options.logLevel!=="silent"){o.errors.push(new tu(u.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(lv(e,n)),o.warnings.forEach(lv(e,n))),o}function yA(e,t,n){let r;const i=gA(e,n);if(!i)return null;if(i.warnings.forEach(s=>j0(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function vA(e,t,n){let r=null;if(Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return new eu(e,r,n).toString(n)}var pp,Cv;function bA(){if(Cv)return pp;Cv=1;function e(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function t(i,s){for(var o="",u=0,c=-1,f=0,d,h=0;h<=i.length;++h){if(h<i.length)d=i.charCodeAt(h);else{if(d===47)break;d=47}if(d===47){if(!(c===h-1||f===1))if(c!==h-1&&f===2){if(o.length<2||u!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var v=o.lastIndexOf("/");if(v!==o.length-1){v===-1?(o="",u=0):(o=o.slice(0,v),u=o.length-1-o.lastIndexOf("/")),c=h,f=0;continue}}else if(o.length===2||o.length===1){o="",u=0,c=h,f=0;continue}}s&&(o.length>0?o+="/..":o="..",u=2)}else o.length>0?o+="/"+i.slice(c+1,h):o=i.slice(c+1,h),u=h-c-1;c=h,f=0}else d===46&&f!==-1?++f:f=-1}return o}function n(i,s){var o=s.dir||s.root,u=s.base||(s.name||"")+(s.ext||"");return o?o===s.root?o+u:o+i+u:u}var r={resolve:function(){for(var s="",o=!1,u,c=arguments.length-1;c>=-1&&!o;c--){var f;c>=0?f=arguments[c]:(u===void 0&&(u=Cs.cwd()),f=u),e(f),f.length!==0&&(s=f+"/"+s,o=f.charCodeAt(0)===47)}return s=t(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=t(s,!o),s.length===0&&!o&&(s="."),s.length>0&&u&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var u=arguments[o];e(u),u.length>0&&(s===void 0?s=u:s+="/"+u)}return s===void 0?".":r.normalize(s)},relative:function(s,o){if(e(s),e(o),s===o||(s=r.resolve(s),o=r.resolve(o),s===o))return"";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var c=s.length,f=c-u,d=1;d<o.length&&o.charCodeAt(d)===47;++d);for(var h=o.length,v=h-d,w=f<v?f:v,k=-1,$=0;$<=w;++$){if($===w){if(v>w){if(o.charCodeAt(d+$)===47)return o.slice(d+$+1);if($===0)return o.slice(d+$)}else f>w&&(s.charCodeAt(u+$)===47?k=$:$===0&&(k=0));break}var _=s.charCodeAt(u+$),T=o.charCodeAt(d+$);if(_!==T)break;_===47&&(k=$)}var b="";for($=u+k+1;$<=c;++$)($===c||s.charCodeAt($)===47)&&(b.length===0?b+="..":b+="/..");return b.length>0?b+o.slice(d+k):(d+=k,o.charCodeAt(d)===47&&++d,o.slice(d))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),u=o===47,c=-1,f=!0,d=s.length-1;d>=1;--d)if(o=s.charCodeAt(d),o===47){if(!f){c=d;break}}else f=!1;return c===-1?u?"/":".":u&&c===1?"//":s.slice(0,c)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var u=0,c=-1,f=!0,d;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var h=o.length-1,v=-1;for(d=s.length-1;d>=0;--d){var w=s.charCodeAt(d);if(w===47){if(!f){u=d+1;break}}else v===-1&&(f=!1,v=d+1),h>=0&&(w===o.charCodeAt(h)?--h===-1&&(c=d):(h=-1,c=v))}return u===c?c=v:c===-1&&(c=s.length),s.slice(u,c)}else{for(d=s.length-1;d>=0;--d)if(s.charCodeAt(d)===47){if(!f){u=d+1;break}}else c===-1&&(f=!1,c=d+1);return c===-1?"":s.slice(u,c)}},extname:function(s){e(s);for(var o=-1,u=0,c=-1,f=!0,d=0,h=s.length-1;h>=0;--h){var v=s.charCodeAt(h);if(v===47){if(!f){u=h+1;break}continue}c===-1&&(f=!1,c=h+1),v===46?o===-1?o=h:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||c===-1||d===0||d===1&&o===c-1&&o===u+1?"":s.slice(o,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var u=s.charCodeAt(0),c=u===47,f;c?(o.root="/",f=1):f=0;for(var d=-1,h=0,v=-1,w=!0,k=s.length-1,$=0;k>=f;--k){if(u=s.charCodeAt(k),u===47){if(!w){h=k+1;break}continue}v===-1&&(w=!1,v=k+1),u===46?d===-1?d=k:$!==1&&($=1):d!==-1&&($=-1)}return d===-1||v===-1||$===0||$===1&&d===v-1&&d===h+1?v!==-1&&(h===0&&c?o.base=o.name=s.slice(1,v):o.base=o.name=s.slice(h,v)):(h===0&&c?(o.name=s.slice(1,d),o.base=s.slice(1,v)):(o.name=s.slice(h,d),o.base=s.slice(h,v)),o.ext=s.slice(d,v)),h>0?o.dir=s.slice(0,h-1):c&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,pp=r,pp}var Ms=bA();function zc(e,t){if(e===t)return!0;if(e==null||t===null||t===void 0||typeof e!=typeof t||typeof e!="object"||Array.isArray(e)!==Array.isArray(t))return!1;let n,r;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!zc(e[n],t[n]))return!1}else{const i=[];for(r in e)i.push(r);i.sort();const s=[];for(r in t)s.push(r);if(s.sort(),!zc(i,s))return!1;for(n=0;n<i.length;n++)if(!zc(e[i[n]],t[i[n]]))return!1}return!0}function hr(e){return typeof e=="number"}function Ls(e){return typeof e<"u"}function qo(e){return typeof e=="boolean"}function Bo(e){return typeof e=="string"}function DA(e){return Symbol.iterator in Object(e)}function mp(e){const t=e.type&&e.closestTitle;return e.title?e.title:e.$id?Ov(e.$id):e.$ref||e._$ref?Ov(e.$ref||e._$ref):Array.isArray(e.type)?e.type.join(" | "):t?e.type.concat("(",e.closestTitle,")"):e.type||e.closestTitle}function Ov(e){const t=e.match(/^(?:.*\/)?(.*?)(?:\.schema\.json)?$/);let n=!!t&&t[1];return n||(n="typeNotFound",console.error(`$ref (${e}) not parsed properly`)),n}function Pv(e,t){const n=Qn.parse(t);let r=Ms.basename(n.fsPath);return Ms.extname(n.fsPath)||(r+=".json"),Object.getOwnPropertyDescriptor(e,"name")?Object.getOwnPropertyDescriptor(e,"name").value+` (${r})`:e.title?e.description?e.title+" - "+e.description+` (${r})`:e.title+` (${r})`:r}function wA(e){return e.type!=="object"&&!gp(e)}function gp(e){return!!(e.anyOf||e.allOf||e.oneOf)}Ki.loadMessageBundle();var _A=Ki.loadMessageBundle(),EA=function(){function e(t,n){this.jsonSchemaService=t,this.promise=n,this.validationEnabled=!0}return e.prototype.configure=function(t){t&&(this.validationEnabled=t.validate!==!1,this.commentSeverity=t.allowComments?void 0:Ge.Error)},e.prototype.doValidation=function(t,n,r,i){var s=this;if(!this.validationEnabled)return this.promise.resolve([]);var o=[],u={},c=function(h){var v=h.range.start.line+" "+h.range.start.character+" "+h.message;u[v]||(u[v]=!0,o.push(h))},f=function(h){var v=r?.trailingCommas?Yc(r.trailingCommas):Ge.Error,w=r?.comments?Yc(r.comments):s.commentSeverity,k=r?.schemaValidation?Yc(r.schemaValidation):Ge.Warning,$=r?.schemaRequest?Yc(r.schemaRequest):Ge.Warning;if(h){if(h.errors.length&&n.root&&$){var _=n.root,T=_.type==="object"?_.properties[0]:void 0;if(T&&T.keyNode.value==="$schema"){var b=T.valueNode||T,m=Be.create(t.positionAt(b.offset),t.positionAt(b.offset+b.length));c(An.create(m,h.errors[0],$,Bn.SchemaResolveError))}else{var m=Be.create(t.positionAt(_.offset),t.positionAt(_.offset+1));c(An.create(m,h.errors[0],$,Bn.SchemaResolveError))}}else if(k){var y=n.validate(t,h.schema,k);y&&y.forEach(c)}Nv(h.schema)&&(w=void 0),Rv(h.schema)&&(v=void 0)}for(var p=0,D=n.syntaxErrors;p<D.length;p++){var E=D[p];if(E.code===Bn.TrailingComma){if(typeof v!="number")continue;E.severity=v}c(E)}if(typeof w=="number"){var P=_A("InvalidCommentToken","Comments are not permitted in JSON.");n.comments.forEach(function(C){c(An.create(C,P,w,Bn.CommentNotPermitted))})}return o};if(i){var d=i.id||"schemaservice://untitled/"+SA++;return this.jsonSchemaService.resolveSchemaContent(new Cr(i),d,{}).then(function(h){return f(h)})}return this.jsonSchemaService.getSchemaForResource(t.uri,n).then(function(h){return f(h)})},e}(),SA=0;function Nv(e){if(e&&typeof e=="object"){if(To(e.allowComments))return e.allowComments;if(e.allOf)for(var t=0,n=e.allOf;t<n.length;t++){var r=n[t],i=Nv(r);if(To(i))return i}}}function Rv(e){if(e&&typeof e=="object"){if(To(e.allowTrailingCommas))return e.allowTrailingCommas;var t=e;if(To(t.allowsTrailingCommas))return t.allowsTrailingCommas;if(e.allOf)for(var n=0,r=e.allOf;n<r.length;n++){var i=r[n],s=Rv(i);if(To(s))return s}}}function Yc(e){switch(e){case"error":return Ge.Error;case"warning":return Ge.Warning;case"ignore":return}}var Fv=48,$A=57,kA=65,Gc=97,TA=102;function on(e){return e<Fv?0:e<=$A?e-Fv:(e<Gc&&(e+=Gc-kA),e>=Gc&&e<=TA?e-Gc+10:0)}function AA(e){if(e[0]==="#")switch(e.length){case 4:return{red:on(e.charCodeAt(1))*17/255,green:on(e.charCodeAt(2))*17/255,blue:on(e.charCodeAt(3))*17/255,alpha:1};case 5:return{red:on(e.charCodeAt(1))*17/255,green:on(e.charCodeAt(2))*17/255,blue:on(e.charCodeAt(3))*17/255,alpha:on(e.charCodeAt(4))*17/255};case 7:return{red:(on(e.charCodeAt(1))*16+on(e.charCodeAt(2)))/255,green:(on(e.charCodeAt(3))*16+on(e.charCodeAt(4)))/255,blue:(on(e.charCodeAt(5))*16+on(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(on(e.charCodeAt(1))*16+on(e.charCodeAt(2)))/255,green:(on(e.charCodeAt(3))*16+on(e.charCodeAt(4)))/255,blue:(on(e.charCodeAt(5))*16+on(e.charCodeAt(6)))/255,alpha:(on(e.charCodeAt(7))*16+on(e.charCodeAt(8)))/255}}}var CA=function(){function e(t){this.schemaService=t}return e.prototype.findDocumentSymbols=function(t,n,r){var i=this;r===void 0&&(r={resultLimit:Number.MAX_VALUE});var s=n.root;if(!s)return[];var o=r.resultLimit||Number.MAX_VALUE,u=t.uri;if((u==="vscode://defaultsettings/keybindings.json"||Fh(u.toLowerCase(),"/user/keybindings.json"))&&s.type==="array"){for(var c=[],f=0,d=s.items;f<d.length;f++){var h=d[f];if(h.type==="object")for(var v=0,w=h.properties;v<w.length;v++){var k=w[v];if(k.keyNode.value==="key"&&k.valueNode){var $=_s.create(t.uri,Qi(t,h));if(c.push({name:Sc(k.valueNode),kind:Tr.Function,location:$}),o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(u),c}}}return c}for(var _=[{node:s,containerName:""}],T=0,b=!1,m=[],y=function(D,E){D.type==="array"?D.items.forEach(function(P){P&&_.push({node:P,containerName:E})}):D.type==="object"&&D.properties.forEach(function(P){var C=P.valueNode;if(C)if(o>0){o--;var R=_s.create(t.uri,Qi(t,P)),I=E?E+"."+P.keyNode.value:P.keyNode.value;m.push({name:i.getKeyLabel(P),kind:i.getSymbolKind(C.type),location:R,containerName:E}),_.push({node:C,containerName:I})}else b=!0})};T<_.length;){var p=_[T++];y(p.node,p.containerName)}return b&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(u),m},e.prototype.findDocumentSymbols2=function(t,n,r){var i=this;r===void 0&&(r={resultLimit:Number.MAX_VALUE});var s=n.root;if(!s)return[];var o=r.resultLimit||Number.MAX_VALUE,u=t.uri;if((u==="vscode://defaultsettings/keybindings.json"||Fh(u.toLowerCase(),"/user/keybindings.json"))&&s.type==="array"){for(var c=[],f=0,d=s.items;f<d.length;f++){var h=d[f];if(h.type==="object")for(var v=0,w=h.properties;v<w.length;v++){var k=w[v];if(k.keyNode.value==="key"&&k.valueNode){var $=Qi(t,h),_=Qi(t,k.keyNode);if(c.push({name:Sc(k.valueNode),kind:Tr.Function,range:$,selectionRange:_}),o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(u),c}}}return c}for(var T=[],b=[{node:s,result:T}],m=0,y=!1,p=function(E,P){E.type==="array"?E.items.forEach(function(C,R){if(C)if(o>0){o--;var I=Qi(t,C),F=I,j=String(R),Q={name:j,kind:i.getSymbolKind(C.type),range:I,selectionRange:F,children:[]};P.push(Q),b.push({result:Q.children,node:C})}else y=!0}):E.type==="object"&&E.properties.forEach(function(C){var R=C.valueNode;if(R)if(o>0){o--;var I=Qi(t,C),F=Qi(t,C.keyNode),j=[],Q={name:i.getKeyLabel(C),kind:i.getSymbolKind(R.type),range:I,selectionRange:F,children:j,detail:i.getDetail(R)};P.push(Q),b.push({result:j,node:R})}else y=!0})};m<b.length;){var D=b[m++];p(D.node,D.result)}return y&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(u),T},e.prototype.getSymbolKind=function(t){switch(t){case"object":return Tr.Module;case"string":return Tr.String;case"number":return Tr.Number;case"array":return Tr.Array;case"boolean":return Tr.Boolean;default:return Tr.Variable}},e.prototype.getKeyLabel=function(t){var n=t.keyNode.value;return n&&(n=n.replace(/[\n]/g,"↵")),n&&n.trim()?n:'"'+n+'"'},e.prototype.getDetail=function(t){if(t){if(t.type==="boolean"||t.type==="number"||t.type==="null"||t.type==="string")return String(t.value);if(t.type==="array")return t.children.length?void 0:"[]";if(t.type==="object")return t.children.length?void 0:"{}"}},e.prototype.findDocumentColors=function(t,n,r){return this.schemaService.getSchemaForResource(t.uri,n).then(function(i){var s=[];if(i)for(var o=r&&typeof r.resultLimit=="number"?r.resultLimit:Number.MAX_VALUE,u=n.getMatchingSchemas(i.schema),c={},f=0,d=u;f<d.length;f++){var h=d[f];if(!h.inverted&&h.schema&&(h.schema.format==="color"||h.schema.format==="color-hex")&&h.node&&h.node.type==="string"){var v=String(h.node.offset);if(!c[v]){var w=AA(Sc(h.node));if(w){var k=Qi(t,h.node);s.push({color:w,range:k})}if(c[v]=!0,o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(t.uri),s}}}return s})},e.prototype.getColorPresentations=function(t,n,r,i){var s=[],o=Math.round(r.red*255),u=Math.round(r.green*255),c=Math.round(r.blue*255);function f(h){var v=h.toString(16);return v.length!==2?"0"+v:v}var d;return r.alpha===1?d="#"+f(o)+f(u)+f(c):d="#"+f(o)+f(u)+f(c)+f(Math.round(r.alpha*255)),s.push({label:d,textEdit:Pt.replace(i,JSON.stringify(d))}),s},e}();function Qi(e,t){return Be.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length))}var ze=Ki.loadMessageBundle(),Iv={schemas:{"http://json-schema.org/schema#":{$ref:"http://json-schema.org/draft-07/schema#"},"http://json-schema.org/draft-04/schema#":{$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},OA={id:ze("schema.json.id","A unique identifier for the schema."),$schema:ze("schema.json.$schema","The schema to verify this document against."),title:ze("schema.json.title","A descriptive title of the element."),description:ze("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:ze("schema.json.default","A default value. Used by suggestions."),multipleOf:ze("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:ze("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:ze("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:ze("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:ze("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:ze("schema.json.maxLength","The maximum length of a string."),minLength:ze("schema.json.minLength","The minimum length of a string."),pattern:ze("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:ze("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:ze("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:ze("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:ze("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:ze("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:ze("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:ze("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:ze("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:ze("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:ze("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:ze("schema.json.properties","A map of property names to schemas for each property."),patternProperties:ze("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:ze("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:ze("schema.json.enum","The set of literal values that are valid."),type:ze("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:ze("schema.json.format","Describes the format expected for the value."),allOf:ze("schema.json.allOf","An array of schemas, all of which must match."),anyOf:ze("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:ze("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:ze("schema.json.not","A schema which must not match."),$id:ze("schema.json.$id","A unique identifier for the schema."),$ref:ze("schema.json.$ref","Reference a definition hosted on any location."),$comment:ze("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:ze("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:ze("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:ze("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:ze("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:ze("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:ze("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:ze("schema.json.contentEncoding","Describes the content encoding of a string property."),if:ze("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:ze("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:ze("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(var PA in Iv.schemas){var yp=Iv.schemas[PA];for(var su in yp.properties){var vp=yp.properties[su];typeof vp=="boolean"&&(vp=yp.properties[su]={});var Mv=OA[su];Mv?vp.description=Mv:console.log(su+": localize('schema.json."+su+`', "")`)}}function NA(e,t){var n=[];return t.visit(function(r){var i;if(r.type==="property"&&r.keyNode.value==="$ref"&&((i=r.valueNode)===null||i===void 0?void 0:i.type)==="string"){var s=r.valueNode.value,o=FA(t,s);if(o){var u=e.positionAt(o.offset);n.push({target:e.uri+"#"+(u.line+1)+","+(u.character+1),range:RA(e,r.valueNode)})}}return!0}),Promise.resolve(n)}function RA(e,t){return Be.create(e.positionAt(t.offset+1),e.positionAt(t.offset+t.length-1))}function FA(e,t){var n=IA(t);return n?bp(n,e.root):null}function bp(e,t){if(!t)return null;if(e.length===0)return t;var n=e.shift();if(t&&t.type==="object"){var r=t.properties.find(function(o){return o.keyNode.value===n});return r?bp(e,r.valueNode):null}else if(t&&t.type==="array"&&n.match(/^(0|[1-9][0-9]*)$/)){var i=Number.parseInt(n),s=t.items[i];return s?bp(e,s):null}return null}function IA(e){return e==="#"?[]:e[0]!=="#"||e[1]!=="/"?null:e.substring(2).split(/\//).map(MA)}function MA(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Jc(e,t){for(const n of t.documents)if(n.internalDocument&&n.internalDocument.range[0]<=e&&n.internalDocument.range[2]>=e)return n;return t.documents.length===1?t.documents[0]:null}function Lv(e){const t=["mapping","scalar","sequence"];return e?e.filter(n=>{if(typeof n=="string"){const r=n.split(" "),i=r[1]&&r[1].toLowerCase()||"scalar";return i==="map"?!1:t.indexOf(i)!==-1}return!1}):[]}function jv(e,t){if(!t||!e||t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--)if(e[n]!==t[n])return!1;return!0}function LA(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=Math.max(n,r),s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}const ct=Ki.loadMessageBundle(),Dp="Property {0} is not allowed.",jA={"color-hex":{errorMessage:ct("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:ct("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:ct("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:ct("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:ct("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},ipv4:{errorMessage:ct("ipv4FormatWarning","String does not match IPv4 format."),pattern:/^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)\.?\b){4}$/},ipv6:{errorMessage:ct("ipv6FormatWarning","String does not match IPv6 format."),pattern:/^([0-9a-f]|:){1,4}(:([0-9a-f]{0,4})*){1,7}$/i}},Qc="YAML",xv="yaml-schema: ";var Rn;(function(e){e.missingRequiredPropWarning="missingRequiredPropWarning",e.typeMismatchWarning="typeMismatchWarning",e.constWarning="constWarning"})(Rn||(Rn={}));const xA={[Rn.missingRequiredPropWarning]:'Missing property "{0}".',[Rn.typeMismatchWarning]:'Incorrect type. Expected "{0}".',[Rn.constWarning]:"Value must be {0}."};class js{constructor(t,n,r,i){this.offset=r,this.length=i,this.parent=t,this.internalNode=n}getNodeFromOffsetEndInclusive(t){const n=[],r=u=>{if(t>=u.offset&&t<=u.offset+u.length){const c=u.children;for(let f=0;f<c.length&&c[f].offset<=t;f++){const d=r(c[f]);d&&n.push(d)}return u}return null},i=r(this);let s=Number.MAX_VALUE,o=null;for(const u of n){const c=u.length+u.offset-t+(t-u.offset);c<s&&(o=u,s=c)}return o||i}get children(){return[]}toString(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")}}class qA extends js{constructor(t,n,r,i){super(t,n,r,i),this.type="null",this.value=null}}class BA extends js{constructor(t,n,r,i,s,o){super(t,n,s,o),this.type="boolean",this.value=r,this.source=i}}class WA extends js{constructor(t,n,r,i){super(t,n,r,i),this.type="array",this.items=[]}get children(){return this.items}}class UA extends js{constructor(t,n,r,i){super(t,n,r,i),this.type="number",this.isInteger=!0,this.value=Number.NaN}}class Xc extends js{constructor(t,n,r,i){super(t,n,r,i),this.type="string",this.value=""}}class VA extends js{constructor(t,n,r,i){super(t,n,r,i),this.type="property",this.colonOffset=-1}get children(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]}}class HA extends js{constructor(t,n,r,i){super(t,n,r,i),this.type="object",this.properties=[]}get children(){return this.properties}}function Fn(e){if(e!==void 0)return qo(e)?e?{}:{not:{}}:(typeof e!="object"&&(console.warn(`Wrong schema: ${JSON.stringify(e)}, it MUST be an Object or Boolean`),e={type:e}),e)}var qv;(function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"})(qv||(qv={}));class wp{constructor(t=-1,n=null){this.focusOffset=t,this.exclude=n,this.schemas=[]}add(t){this.schemas.push(t)}merge(t){this.schemas.push(...t.schemas)}include(t){return(this.focusOffset===-1||Bv(t,this.focusOffset))&&t!==this.exclude}newSub(){return new wp(-1,this.exclude)}}class ou{constructor(){}get schemas(){return[]}add(t){}merge(t){}include(t){return!0}newSub(){return this}}ou.instance=new ou;class Wn{constructor(t){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,t?this.enumValues=[]:this.enumValues=null}hasProblems(){return!!this.problems.length}mergeAll(t){for(const n of t)this.merge(n)}merge(t){this.problems=this.problems.concat(t.problems)}mergeEnumValues(t){if(!this.enumValueMatch&&!t.enumValueMatch&&this.enumValues&&t.enumValues){this.enumValues=this.enumValues.concat(t.enumValues);for(const n of this.problems)n.code===Bn.EnumValueMismatch&&(n.message=ct("enumWarning","Value is not accepted. Valid values: {0}.",[...new Set(this.enumValues)].map(r=>JSON.stringify(r)).join(", ")))}}mergeWarningGeneric(t,n){if(this.problems?.length)for(const r of n){const i=this.problems.filter(s=>s.problemType===r);for(const s of i){const o=t.problems?.find(u=>u.problemType===r&&s.location.offset===u.location.offset&&(r!==Rn.missingRequiredPropWarning||jv(u.problemArgs,s.problemArgs)));o&&(o.problemArgs?.length&&(o.problemArgs.filter(u=>!s.problemArgs.includes(u)).forEach(u=>s.problemArgs.push(u)),s.message=Zc(s.problemType,s.problemArgs)),this.mergeSources(o,s))}}}mergePropertyMatch(t){this.merge(t),this.propertiesMatches++,(t.enumValueMatch||!t.hasProblems()&&t.propertiesMatches)&&this.propertiesValueMatches++,t.enumValueMatch&&t.enumValues&&this.primaryValueMatches++}mergeSources(t,n){const r=t.source.replace(xv,"");n.source.includes(r)||(n.source=n.source+" | "+r),n.schemaUri.includes(t.schemaUri[0])||(n.schemaUri=n.schemaUri.concat(t.schemaUri))}compareGeneric(t){const n=this.hasProblems();return n!==t.hasProblems()?n?-1:1:this.enumValueMatch!==t.enumValueMatch?t.enumValueMatch?-1:1:this.propertiesValueMatches!==t.propertiesValueMatches?this.propertiesValueMatches-t.propertiesValueMatches:this.primaryValueMatches!==t.primaryValueMatches?this.primaryValueMatches-t.primaryValueMatches:this.propertiesMatches-t.propertiesMatches}compareKubernetes(t){const n=this.hasProblems();return this.propertiesMatches!==t.propertiesMatches?this.propertiesMatches-t.propertiesMatches:this.enumValueMatch!==t.enumValueMatch?t.enumValueMatch?-1:1:this.primaryValueMatches!==t.primaryValueMatches?this.primaryValueMatches-t.primaryValueMatches:this.propertiesValueMatches!==t.propertiesValueMatches?this.propertiesValueMatches-t.propertiesValueMatches:n!==t.hasProblems()?n?-1:1:this.propertiesMatches-t.propertiesMatches}}function au(e){switch(e.type){case"array":return e.children.map(au);case"object":{const t=Object.create(null);for(let n=0,r=e.children;n<r.length;n++){const i=r[n],s=i.children[1];s&&(t[i.children[0].value]=au(s))}return t}case"null":case"string":case"number":return e.value;case"boolean":return e.source;default:return}}function Bv(e,t,n=!1){return t>=e.offset&&t<=e.offset+e.length||n&&t===e.offset+e.length}function Wv(e,t,n){if(n===void 0&&(n=!1),Bv(e,t,n)){const r=e.children;if(Array.isArray(r))for(let i=0;i<r.length&&r[i].offset<=t;i++){const s=Wv(r[i],t,n);if(s)return s}return e}}class KA{constructor(t,n=[],r=[]){this.root=t,this.syntaxErrors=n,this.comments=r}getNodeFromOffset(t,n=!1){if(this.root)return Wv(this.root,t,n)}getNodeFromOffsetEndInclusive(t){return this.root&&this.root.getNodeFromOffsetEndInclusive(t)}visit(t){if(this.root){const n=r=>{let i=t(r);const s=r.children;if(Array.isArray(s))for(let o=0;o<s.length&&i;o++)i=n(s[o]);return i};n(this.root)}}validate(t,n){if(this.root&&n){const r=new Wn(this.isKubernetes);return mn(this.root,n,n,r,ou.instance,{isKubernetes:this.isKubernetes,disableAdditionalProperties:this.disableAdditionalProperties,uri:this.uri}),r.problems.map(i=>{const s=Be.create(t.positionAt(i.location.offset),t.positionAt(i.location.offset+i.location.length)),o=An.create(s,i.message,i.severity,i.code?i.code:Bn.Undefined,i.source);return o.data={schemaUri:i.schemaUri,...i.data},o})}return null}getMatchingSchemas(t,n=-1,r=null,i){const s=new wp(n,r);return this.root&&t&&mn(this.root,t,t,new Wn(this.isKubernetes),s,{isKubernetes:this.isKubernetes,disableAdditionalProperties:this.disableAdditionalProperties,uri:this.uri,callFromAutoComplete:i}),s.schemas}}function mn(e,t,n,r,i,s){const{isKubernetes:o,callFromAutoComplete:u}=s;if(!e||typeof t!="object")return;switch(t.url||(t.url=n.url),t.closestTitle=t.title||n.closestTitle,e.type){case"object":v(e,t,r,i);break;case"array":h(e,t,r,i);break;case"string":d(e,t,r);break;case"number":f(e,t,r);break;case"property":return mn(e.valueNode,t,t,r,i,s)}c(),i.add({node:e,schema:t});function c(){function $(p){return e.type===p||p==="integer"&&e.type==="number"&&e.isInteger}if(Array.isArray(t.type))t.type.some($)||r.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,message:t.errorMessage||ct("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",t.type.join(", ")),source:_t(t,n),schemaUri:Et(t,n)});else if(t.type&&!$(t.type)){const p=t.type==="object"?mp(t):t.type;r.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,message:t.errorMessage||Zc(Rn.typeMismatchWarning,[p]),source:_t(t,n),schemaUri:Et(t,n),problemType:Rn.typeMismatchWarning,problemArgs:[p]})}if(Array.isArray(t.allOf))for(const p of t.allOf)mn(e,Fn(p),t,r,i,s);const _=Fn(t.not);if(_){const p=new Wn(o),D=i.newSub();mn(e,_,t,p,D,s),p.hasProblems()||r.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,message:ct("notSchemaWarning","Matches a schema that is not allowed."),source:_t(t,n),schemaUri:Et(t,n)});for(const E of D.schemas)E.inverted=!E.inverted,i.add(E)}const T=(p,D)=>{const E=[],P=[],C=[];let R=null;for(const I of p){const F={...Fn(I)},j=new Wn(o),Q=i.newSub();mn(e,F,t,j,Q,s),(!j.hasProblems()||u)&&(E.push(F),P.push(F),j.propertiesMatches===0&&C.push(F),F.format&&P.pop()),R?o?R=w(j,R,F,Q):R=k(e,D,j,R,F,Q):R={schema:F,validationResult:j,matchingSchemas:Q}}return P.length>1&&(P.length>1||C.length===0)&&D&&r.problems.push({location:{offset:e.offset,length:1},severity:Ge.Warning,message:ct("oneOfWarning","Matches multiple schemas when only one must validate."),source:_t(t,n),schemaUri:Et(t,n)}),R!==null&&(r.merge(R.validationResult),r.propertiesMatches+=R.validationResult.propertiesMatches,r.propertiesValueMatches+=R.validationResult.propertiesValueMatches,r.enumValueMatch=r.enumValueMatch||R.validationResult.enumValueMatch,R.validationResult.enumValues?.length&&(r.enumValues=(r.enumValues||[]).concat(R.validationResult.enumValues)),i.merge(R.matchingSchemas)),E.length};Array.isArray(t.anyOf)&&T(t.anyOf,!1),Array.isArray(t.oneOf)&&T(t.oneOf,!0);const b=(p,D)=>{const E=new Wn(o),P=i.newSub();mn(e,Fn(p),D,E,P,s),r.merge(E),r.propertiesMatches+=E.propertiesMatches,r.propertiesValueMatches+=E.propertiesValueMatches,i.merge(P)},m=(p,D,E,P)=>{const C=Fn(p),R=new Wn(o),I=i.newSub();mn(e,C,D,R,I,s),i.merge(I);const{filePatternAssociation:F}=C;F&&(new CO(F).matchesPattern(s.uri)||R.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,message:ct("ifFilePatternAssociation",`filePatternAssociation '${F}' does not match with doc uri '${s.uri}'.`),source:_t(t,D),schemaUri:Et(t,D)})),R.hasProblems()?P&&b(P,D):E&&b(E,D)},y=Fn(t.if);if(y&&m(y,t,Fn(t.then),Fn(t.else)),Array.isArray(t.enum)){const p=au(e);let D=!1;for(const E of t.enum)if(p===E||u&&Bo(p)&&Bo(E)&&p&&E.startsWith(p)){D=!0;break}r.enumValues=t.enum,r.enumValueMatch=D,D||r.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,code:Bn.EnumValueMismatch,message:t.errorMessage||ct("enumWarning","Value is not accepted. Valid values: {0}.",t.enum.map(E=>JSON.stringify(E)).join(", ")),source:_t(t,n),schemaUri:Et(t,n),data:{values:t.enum}})}if(Ls(t.const)){const p=au(e);!zc(p,t.const)&&!(u&&Bo(p)&&Bo(t.const)&&t.const.startsWith(p))?(r.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,code:Bn.EnumValueMismatch,problemType:Rn.constWarning,message:t.errorMessage||Zc(Rn.constWarning,[JSON.stringify(t.const)]),source:_t(t,n),schemaUri:Et(t,n),problemArgs:[JSON.stringify(t.const)],data:{values:[t.const]}}),r.enumValueMatch=!1):r.enumValueMatch=!0,r.enumValues=[t.const]}t.deprecationMessage&&e.parent&&r.problems.push({location:{offset:e.parent.offset,length:e.parent.length},severity:Ge.Warning,message:t.deprecationMessage,source:_t(t,n),schemaUri:Et(t,n)})}function f($,_,T){const b=$.value;hr(_.multipleOf)&&LA(b,_.multipleOf)!==0&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("multipleOfWarning","Value is not divisible by {0}.",_.multipleOf),source:_t(_,n),schemaUri:Et(_,n)});function m(C,R){if(hr(R))return R;if(qo(R)&&R)return C}function y(C,R){if(!qo(R)||!R)return C}const p=m(_.minimum,_.exclusiveMinimum);hr(p)&&b<=p&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",p),source:_t(_,n),schemaUri:Et(_,n)});const D=m(_.maximum,_.exclusiveMaximum);hr(D)&&b>=D&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",D),source:_t(_,n),schemaUri:Et(_,n)});const E=y(_.minimum,_.exclusiveMinimum);hr(E)&&b<E&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("minimumWarning","Value is below the minimum of {0}.",E),source:_t(_,n),schemaUri:Et(_,n)});const P=y(_.maximum,_.exclusiveMaximum);hr(P)&&b>P&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("maximumWarning","Value is above the maximum of {0}.",P),source:_t(_,n),schemaUri:Et(_,n)})}function d($,_,T){if(hr(_.minLength)&&$.value.length<_.minLength&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("minLengthWarning","String is shorter than the minimum length of {0}.",_.minLength),source:_t(_,n),schemaUri:Et(_,n)}),hr(_.maxLength)&&$.value.length>_.maxLength&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("maxLengthWarning","String is longer than the maximum length of {0}.",_.maxLength),source:_t(_,n),schemaUri:Et(_,n)}),Bo(_.pattern)&&(C0(_.pattern).test($.value)||T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:_.patternErrorMessage||_.errorMessage||ct("patternWarning",'String does not match the pattern of "{0}".',_.pattern),source:_t(_,n),schemaUri:Et(_,n)})),_.format)switch(_.format){case"uri":case"uri-reference":{let b;if(!$.value)b=ct("uriEmpty","URI expected.");else try{!Qn.parse($.value).scheme&&_.format==="uri"&&(b=ct("uriSchemeMissing","URI with a scheme is expected."))}catch(m){b=m.message}b&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:_.patternErrorMessage||_.errorMessage||ct("uriFormatWarning","String is not a URI: {0}",b),source:_t(_,n),schemaUri:Et(_,n)})}break;case"color-hex":case"date-time":case"date":case"time":case"email":case"ipv4":case"ipv6":{const b=jA[_.format];(!$.value||!b.pattern.test($.value))&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:_.patternErrorMessage||_.errorMessage||b.errorMessage,source:_t(_,n),schemaUri:Et(_,n)})}break}}function h($,_,T,b){if(Array.isArray(_.items)){const y=_.items;for(let p=0;p<y.length;p++){const D=y[p],E=Fn(D),P=new Wn(o),C=$.items[p];C?(mn(C,E,_,P,b,s),T.mergePropertyMatch(P),T.mergeEnumValues(P)):$.items.length>=y.length&&T.propertiesValueMatches++}if($.items.length>y.length)if(typeof _.additionalItems=="object")for(let p=y.length;p<$.items.length;p++){const D=new Wn(o);mn($.items[p],_.additionalItems,_,D,b,s),T.mergePropertyMatch(D),T.mergeEnumValues(D)}else _.additionalItems===!1&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",y.length),source:_t(_,n),schemaUri:Et(_,n)})}else{const y=Fn(_.items);if(y){const p=new Wn(o);$.items.forEach(D=>{if(y.oneOf&&y.oneOf.length===1){const E=y.oneOf[0],P={...Fn(E)};P.title=_.title,P.closestTitle=_.closestTitle,mn(D,P,_,p,b,s),T.mergePropertyMatch(p),T.mergeEnumValues(p)}else mn(D,y,_,p,b,s),T.mergePropertyMatch(p),T.mergeEnumValues(p)})}}const m=Fn(_.contains);if(m&&($.items.some(p=>{const D=new Wn(o);return mn(p,m,_,D,ou.instance,s),!D.hasProblems()})||T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:_.errorMessage||ct("requiredItemMissingWarning","Array does not contain required item."),source:_t(_,n),schemaUri:Et(_,n)})),hr(_.minItems)&&$.items.length<_.minItems&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("minItemsWarning","Array has too few items. Expected {0} or more.",_.minItems),source:_t(_,n),schemaUri:Et(_,n)}),hr(_.maxItems)&&$.items.length>_.maxItems&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("maxItemsWarning","Array has too many items. Expected {0} or fewer.",_.maxItems),source:_t(_,n),schemaUri:Et(_,n)}),_.uniqueItems===!0){const y=au($);y.some((D,E)=>E!==y.lastIndexOf(D))&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("uniqueItemsWarning","Array has duplicate items."),source:_t(_,n),schemaUri:Et(_,n)})}}function v($,_,T,b){const m=Object.create(null),y=[],p=[...$.properties];for(;p.length>0;){const P=p.pop(),C=P.keyNode.value;if(C==="<<"&&P.valueNode)switch(P.valueNode.type){case"object":{p.push(...P.valueNode.properties);break}case"array":{P.valueNode.items.forEach(R=>{R&&DA(R.properties)&&p.push(...R.properties)});break}}else m[C]=P.valueNode,y.push(C)}if(Array.isArray(_.required)){for(const P of _.required)if(m[P]===void 0){const C=$.parent&&$.parent.type==="property"&&$.parent.keyNode,R=C?{offset:C.offset,length:C.length}:{offset:$.offset,length:1};T.problems.push({location:R,severity:Ge.Warning,message:Zc(Rn.missingRequiredPropWarning,[P]),source:_t(_,n),schemaUri:Et(_,n),problemArgs:[P],problemType:Rn.missingRequiredPropWarning})}}const D=P=>{let C=y.indexOf(P);for(;C>=0;)y.splice(C,1),C=y.indexOf(P)};if(_.properties)for(const P of Object.keys(_.properties)){D(P);const C=_.properties[P],R=m[P];if(R)if(qo(C))if(C)T.propertiesMatches++,T.propertiesValueMatches++;else{const I=R.parent;T.problems.push({location:{offset:I.keyNode.offset,length:I.keyNode.length},severity:Ge.Warning,message:_.errorMessage||ct("DisallowedExtraPropWarning",Dp,P),source:_t(_,n),schemaUri:Et(_,n)})}else{C.url=_.url??n.url;const I=new Wn(o);mn(R,C,_,I,b,s),T.mergePropertyMatch(I),T.mergeEnumValues(I)}}if(_.patternProperties)for(const P of Object.keys(_.patternProperties)){const C=C0(P);for(const R of y.slice(0))if(C.test(R)){D(R);const I=m[R];if(I){const F=_.patternProperties[P];if(qo(F))if(F)T.propertiesMatches++,T.propertiesValueMatches++;else{const j=I.parent;T.problems.push({location:{offset:j.keyNode.offset,length:j.keyNode.length},severity:Ge.Warning,message:_.errorMessage||ct("DisallowedExtraPropWarning",Dp,R),source:_t(_,n),schemaUri:Et(_,n)})}else{const j=new Wn(o);mn(I,F,_,j,b,s),T.mergePropertyMatch(j),T.mergeEnumValues(j)}}}}if(typeof _.additionalProperties=="object")for(const P of y){const C=m[P];if(C){const R=new Wn(o);mn(C,_.additionalProperties,_,R,b,s),T.mergePropertyMatch(R),T.mergeEnumValues(R)}}else if((_.additionalProperties===!1||_.type==="object"&&_.additionalProperties===void 0&&s.disableAdditionalProperties===!0)&&y.length>0){const P=_.properties&&Object.keys(_.properties).filter(C=>!m[C]);for(const C of y){const R=m[C];if(R){let I=null;R.type!=="property"?(I=R.parent,I.type==="object"&&(I=I.properties[0])):I=R;const F={location:{offset:I.keyNode.offset,length:I.keyNode.length},severity:Ge.Warning,code:Bn.PropertyExpected,message:_.errorMessage||ct("DisallowedExtraPropWarning",Dp,C),source:_t(_,n),schemaUri:Et(_,n)};P?.length&&(F.data={properties:P}),T.problems.push(F)}}}if(hr(_.maxProperties)&&$.properties.length>_.maxProperties&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("MaxPropWarning","Object has more properties than limit of {0}.",_.maxProperties),source:_t(_,n),schemaUri:Et(_,n)}),hr(_.minProperties)&&$.properties.length<_.minProperties&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("MinPropWarning","Object has fewer properties than the required number of {0}",_.minProperties),source:_t(_,n),schemaUri:Et(_,n)}),_.dependencies){for(const P of Object.keys(_.dependencies))if(m[P]){const R=_.dependencies[P];if(Array.isArray(R))for(const I of R)m[I]?T.propertiesValueMatches++:T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",I,P),source:_t(_,n),schemaUri:Et(_,n)});else{const I=Fn(R);if(I){const F=new Wn(o);mn($,I,_,F,b,s),T.mergePropertyMatch(F),T.mergeEnumValues(F)}}}}const E=Fn(_.propertyNames);if(E)for(const P of $.properties){const C=P.keyNode;C&&mn(C,E,_,T,ou.instance,s)}}function w($,_,T,b){const m=$.compareKubernetes(_.validationResult);return m>0?_={schema:T,validationResult:$,matchingSchemas:b}:m===0&&(_.matchingSchemas.merge(b),_.validationResult.mergeEnumValues($)),_}function k($,_,T,b,m,y){if(!_&&!T.hasProblems()&&(!b.validationResult.hasProblems()||u))b.matchingSchemas.merge(y),b.validationResult.propertiesMatches+=T.propertiesMatches,b.validationResult.propertiesValueMatches+=T.propertiesValueMatches;else{const p=T.compareGeneric(b.validationResult);p>0||p===0&&_&&b.schema.type==="object"&&$.type!=="null"&&$.type!==b.schema.type?b={schema:m,validationResult:T,matchingSchemas:y}:p===0&&(b.matchingSchemas.merge(y),b.validationResult.mergeEnumValues(T),b.validationResult.mergeWarningGeneric(T,[Rn.missingRequiredPropWarning,Rn.typeMismatchWarning,Rn.constWarning]))}return b}}function _t(e,t){if(e){let n;if(e.title)n=e.title;else if(e.closestTitle)n=e.closestTitle;else if(t.closestTitle)n=t.closestTitle;else{const r=e.url??t.url;if(r){const i=Qn.parse(r);i.scheme==="file"&&(n=i.fsPath),n=i.toString()}}if(n)return`${xv}${n}`}return Qc}function Et(e,t){const n=e.url??t.url;return n?[n]:[]}function Zc(e,t){return ct(e,xA[e],t.join(" | "))}const zA=1e3;let _p=0;const Ep=new Set;function Wo(e,t,n,r){if(e||(_p=0),!t)return null;if(Jt(t))return YA(t,e,n,r);if(wt(t))return GA(t,e,n,r);if(sn(t))return JA(t,e,n,r);if(Je(t))return QA(t,e);if(zr(t)&&!Ep.has(t)&&_p<zA){Ep.add(t);const i=XA(t,e,n,r);return Ep.delete(t),i}else return}function YA(e,t,n,r){let i;e.flow&&!e.range?i=ZA(e):i=e.range;const s=new HA(t,e,...Uv(i,r));for(const o of e.items)wt(o)&&s.properties.push(Wo(s,o,n,r));return s}function GA(e,t,n,r){const i=e.key,s=e.value,o=i.range[0];let u=i.range[1],c=i.range[2];s&&(u=s.range[1],c=s.range[2]);const f=new VA(t,e,...Uv([o,u,c],r));if(zr(i)){const d=new Xc(t,i,...Xi(i.range));d.value=i.source,f.keyNode=d}else f.keyNode=Wo(f,i,n,r);return f.valueNode=Wo(f,s,n,r),f}function JA(e,t,n,r){const i=new WA(t,e,...Xi(e.range));for(const s of e.items)if($t(s)){const o=Wo(i,s,n,r);o&&i.children.push(o)}return i}function QA(e,t){if(e.value===null)return new qA(t,e,...Xi(e.range));switch(typeof e.value){case"string":{const n=new Xc(t,e,...Xi(e.range));return n.value=e.value,n}case"boolean":return new BA(t,e,e.value,e.source,...Xi(e.range));case"number":{const n=new UA(t,e,...Xi(e.range));return n.value=e.value,n.isInteger=Number.isInteger(n.value),n}default:{const n=new Xc(t,e,...Xi(e.range));return n.value=e.source,n}}}function XA(e,t,n,r){_p++;const i=e.resolve(n);if(i)return Wo(t,i,n,r);{const s=new Xc(t,e,...Xi(e.range));return s.value=e.source,s}}function Xi(e){return[e[0],e[1]-e[0]]}function Uv(e,t){const n=t.linePos(e[0]),r=t.linePos(e[1]),i=[e[0],e[1]-e[0]];return n.line!==r.line&&(t.lineStarts.length!==r.line||r.col===1)&&i[1]--,i}function ZA(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(const r of e.items)wt(r)&&($t(r.key)&&r.key.range&&r.key.range[0]<=t&&(t=r.key.range[0]),$t(r.value)&&r.value.range&&r.value.range[2]>=n&&(n=r.value.range[2]));return[t,n,n]}function eC(e,t){let n;if(Lt(e,(r,i,s)=>{if(i===t)return n=s[s.length-1],Lt.BREAK}),!kc(n))return n}function tC(e){if(e.items.length>1)return!1;const t=e.items[0];return Je(t.key)&&Je(t.value)&&t.key.value===""&&!t.value.value}function nC(e,t){for(const[n,r]of e.items.entries())if(t===r)return n}function rC(e,t){let n=!1;for(const r of e){if(r.type==="document")Sp([],r,i=>{if(Vv(i)&&i.value?.type==="comment"){if(r.offset<=t&&i.value.source.length+i.value.offset>=t)return n=!0,Lt.BREAK}else if(i.type==="comment"&&i.offset<=t&&i.offset+i.source.length>=t)return n=!0,Lt.BREAK});else if(r.type==="comment"&&r.offset<=t&&r.source.length+r.offset>=t)return!0;if(n)break}return n}function Vv(e){return e.start!==void 0}function Sp(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const s of["key","value"]){const o=t[s];if(o&&"items"in o){for(let u=0;u<o.items.length;++u){const c=Sp(Object.freeze(e.concat([[s,u]])),o.items[u],n);if(typeof c=="number")u=c-1;else{if(c===Lt.BREAK)return Lt.BREAK;c===Lt.REMOVE&&(o.items.splice(u,1),u-=1)}}typeof r=="function"&&s==="key"&&(r=r(t,e))}}const i=t.sep;if(i)for(let s=0;s<i.length;++s){const o=Sp(Object.freeze(e),i[s],n);if(typeof o=="number")s=o-1;else{if(o===Lt.BREAK)return Lt.BREAK;o===Lt.REMOVE&&(i.items.splice(s,1),s-=1)}}return typeof r=="function"?r(t,e):r}class el extends KA{constructor(t){super(null,[]),this.lineCounter=t}clone(){const t=new el(this.lineCounter);return t.isKubernetes=this.isKubernetes,t.disableAdditionalProperties=this.disableAdditionalProperties,t.uri=this.uri,t.currentDocIndex=this.currentDocIndex,t._lineComments=this.lineComments.slice(),t.internalDocument=this._internalDocument.clone(),t}collectLineComments(){this._lineComments=[],this._internalDocument.commentBefore&&this._internalDocument.commentBefore.split(`
`).forEach(n=>this._lineComments.push(`#${n}`)),Lt(this.internalDocument,(t,n)=>{n?.commentBefore&&(n?.commentBefore.split(`
`)).forEach(i=>this._lineComments.push(`#${i}`)),n?.comment&&this._lineComments.push(`#${n.comment}`)}),this._internalDocument.comment&&this._lineComments.push(`#${this._internalDocument.comment}`)}updateFromInternalDocument(){this.root=Wo(null,this._internalDocument.contents,this._internalDocument,this.lineCounter)}set internalDocument(t){this._internalDocument=t,this.updateFromInternalDocument()}get internalDocument(){return this._internalDocument}get lineComments(){return this._lineComments||this.collectLineComments(),this._lineComments}set lineComments(t){this._lineComments=t}get errors(){return this.internalDocument.errors.map(Kv)}get warnings(){return this.internalDocument.warnings.map(Kv)}getNodeFromPosition(t,n,r){const i=n.getPosition(t),s=n.getLineContent(i.line);if(s.trim().length===0)return[this.findClosestNode(t,n,r),!0];const u=s.substring(i.character).match(/^([ ]+)\n?$/),c=!!u,f=u?.[1].length;let d;return Lt(this.internalDocument,(h,v)=>{if(!v)return;const w=v.range;if(!w)return;const k=()=>c&&t+f===w[2]&&Je(v)&&v.value===null;if(w[0]<=t&&w[1]>=t||k())d=v;else return Lt.SKIP}),[d,!1]}findClosestNode(t,n,r){let i=this.internalDocument.range[2],s=this.internalDocument.range[0],o;Lt(this.internalDocument,(d,h)=>{if(!h)return;const v=h.range;if(!v)return;const w=v[1]-t;s<=v[0]&&w<=0&&Math.abs(w)<=i&&(i=Math.abs(w),s=v[0],o=h)});const u=n.getPosition(t),c=n.getLineContent(u.line),f=Jk(c,u.character);return Je(o)&&o.value===null||f===u.character&&(o=this.getProperParentByIndentation(f,o,n,"",r)),o}getProperParentByIndentation(t,n,r,i,s,o){if(!n)return this.internalDocument.contents;if(s=s||2,$t(n)&&n.range){const u=r.getPosition(n.range[0]),c=r.getLineContent(u.line);if(i=i===""?c.trim():i,i.startsWith("-")&&t===s&&i===c.trim()&&(u.character+=t),u.character>t&&u.character>0){const f=this.getParent(n);if(f)return this.getProperParentByIndentation(t,f,r,i,s,o)}else if(u.character<t){const f=this.getParent(n);if(wt(f)&&$t(f.value))return f.value;if(wt(o)&&$t(o.value))return o.value}else return n}else if(wt(n)){o=n;const u=this.getParent(n);return this.getProperParentByIndentation(t,u,r,i,s,o)}return n}getParent(t){return eC(this.internalDocument,t)}}class Hv{constructor(t,n){this.documents=t,this.tokens=n,this.errors=[],this.warnings=[]}}class iC{constructor(){this.cache=new Map}getYamlDocument(t,n,r=!1){return this.ensureCache(t,n??tl,r),this.cache.get(t.uri).document}clear(){this.cache.clear()}ensureCache(t,n,r){const i=t.uri;this.cache.has(i)||this.cache.set(i,{version:-1,document:new Hv([],[]),parserOptions:tl});const s=this.cache.get(i);if(s.version!==t.version||n.customTags&&!jv(s.parserOptions.customTags,n.customTags)){let o=t.getText();r&&!/\S/.test(o)&&(o=`{${o}}`);const u=uC(o,n,t);s.document=u,s.version=t.version,s.parserOptions=n}}}const pr=new iC;function Kv(e){return{message:e.message,location:{start:e.pos[0],end:e.pos[1],toLineEnd:!0},severity:1,code:Bn.Undefined}}class sC{constructor(t,n){this.tag=t,this.type=n}get collection(){if(this.type==="mapping")return"map";if(this.type==="sequence")return"seq"}resolve(t){if(Jt(t)&&this.type==="mapping"||sn(t)&&this.type==="sequence"||typeof t=="string"&&this.type==="scalar")return t}}class oC{constructor(){this.tag="!include",this.type="scalar"}resolve(t,n){if(t&&t.length>0&&t.trim())return t;n("!include without value")}}function aC(e){const t=[],n=Lv(e);for(const r of n){const i=r.split(" "),s=i[0],o=i[1]&&i[1].toLowerCase()||"scalar";t.push(new sC(s,o))}return t.push(new oC),t}class xs{constructor(t){this.doc=t}getLineCount(){return this.doc.lineCount}getLineLength(t){const n=this.doc.getLineOffsets();return t>=n.length?this.doc.getText().length:t<0?0:(t+1<n.length?n[t+1]:this.doc.getText().length)-n[t]}getLineContent(t){const n=this.doc.getLineOffsets();if(t>=n.length)return this.doc.getText();if(t<0)return"";const r=t+1<n.length?n[t+1]:this.doc.getText().length;return this.doc.getText().substring(n[t],r)}getLineCharCode(t,n){return this.doc.getText(Be.create(t-1,n,t-1,n+1)).charCodeAt(0)}getText(t){return this.doc.getText(t)}getPosition(t){return this.doc.positionAt(t)}}const tl={customTags:[],yamlVersion:"1.2"};function uC(e,t=tl,n){const r={strict:!1,customTags:aC(t.customTags),version:t.yamlVersion??tl.yamlVersion,keepSourceTokens:!0},i=new yv(r),s=new $v;let o=!1;if(n){const v=new xs(n),w=v.getPosition(e.length);o=v.getLineContent(w.line).trim().length===0}const c=(o?new hp:new hp(s.addNewLine)).parse(e),f=Array.from(c),d=i.compose(f,!0,e.length),h=Array.from(d,v=>cC(v,s));return new Hv(h,f)}function cC(e,t){const n=new el(t);return n.internalDocument=e,n}function lC(e){if(e instanceof el){const t=e.lineComments.find(n=>$p(n));if(t!=null){const n=t.match(/\$schema=\S+/g);if(n!==null&&n.length>=1)return n.length>=2&&console.log("Several $schema attributes have been found on the yaml-language-server modeline. The first one will be picked."),n[0].substring(8)}}}function $p(e){const t=e.match(/^#\s+yaml-language-server\s*:/g);return t!==null&&t.length===1}var nl={exports:{}},kp={},bi={},qs={},Tp={},Ap={},Cp={},zv;function rl(){return zv||(zv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(b){if(super(),!e.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((m,y)=>`${m}${y}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((m,y)=>(y instanceof n&&(m[y.str]=(m[y.str]||0)+1),m),{})}}e._Code=r,e.nil=new r("");function i(T,...b){const m=[T[0]];let y=0;for(;y<b.length;)u(m,b[y]),m.push(T[++y]);return new r(m)}e._=i;const s=new r("+");function o(T,...b){const m=[w(T[0])];let y=0;for(;y<b.length;)m.push(s),u(m,b[y]),m.push(s,w(T[++y]));return c(m),new r(m)}e.str=o;function u(T,b){b instanceof r?T.push(...b._items):b instanceof n?T.push(b):T.push(h(b))}e.addCodeArg=u;function c(T){let b=1;for(;b<T.length-1;){if(T[b]===s){const m=f(T[b-1],T[b+1]);if(m!==void 0){T.splice(b-1,3,m);continue}T[b++]="+"}b++}}function f(T,b){if(b==='""')return T;if(T==='""')return b;if(typeof T=="string")return b instanceof n||T[T.length-1]!=='"'?void 0:typeof b!="string"?`${T.slice(0,-1)}${b}"`:b[0]==='"'?T.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(T instanceof n))return`"${T}${b.slice(1)}`}function d(T,b){return b.emptyStr()?T:T.emptyStr()?b:o`${T}${b}`}e.strConcat=d;function h(T){return typeof T=="number"||typeof T=="boolean"||T===null?T:w(Array.isArray(T)?T.join(","):T)}function v(T){return new r(w(T))}e.stringify=v;function w(T){return JSON.stringify(T).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=w;function k(T){return typeof T=="string"&&e.IDENTIFIER.test(T)?new r(`.${T}`):i`[${T}]`}e.getProperty=k;function $(T){if(typeof T=="string"&&e.IDENTIFIER.test(T))return new r(`${T}`);throw new Error(`CodeGen: invalid export name: ${T}, use explicit $id name mapping`)}e.getEsmExportName=$;function _(T){return new r(T.toString())}e.regexpCode=_}(Cp)),Cp}var Op={},Yv;function Gv(){return Yv||(Yv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=rl();class n extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var r;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:f,parent:d}={}){this._names={},this._prefixes=f,this._parent=d}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const d=this._names[f]||this._nameGroup(f);return`${f}${d.index++}`}_nameGroup(f){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=i;class s extends t.Name{constructor(f,d){super(d),this.prefix=f}setValue(f,{property:d,itemIndex:h}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class u extends i{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?o:t.nil}}get(){return this._scope}name(f){return new s(f,this._newName(f))}value(f,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(f),{prefix:w}=v,k=(h=d.key)!==null&&h!==void 0?h:d.ref;let $=this._values[w];if($){const b=$.get(k);if(b)return b}else $=this._values[w]=new Map;$.set(k,v);const _=this._scope[w]||(this._scope[w]=[]),T=_.length;return _[T]=d.ref,v.setValue(d,{property:w,itemIndex:T}),v}getValue(f,d){const h=this._values[f];if(h)return h.get(d)}scopeRefs(f,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${f}${h.scopePath}`})}scopeCode(f=this._values,d,h){return this._reduceValues(f,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},d,h)}_reduceValues(f,d,h={},v){let w=t.nil;for(const k in f){const $=f[k];if(!$)continue;const _=h[k]=h[k]||new Map;$.forEach(T=>{if(_.has(T))return;_.set(T,r.Started);let b=d(T);if(b){const m=this.opts.es5?e.varKinds.var:e.varKinds.const;w=(0,t._)`${w}${m} ${T} = ${b};${this.opts._n}`}else if(b=v?.(T))w=(0,t._)`${w}${b}${this.opts._n}`;else throw new n(T);_.set(T,r.Completed)})}return w}}e.ValueScope=u}(Op)),Op}var Jv;function Qe(){return Jv||(Jv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=rl(),n=Gv();var r=rl();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Gv();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(q,X){return this}}class o extends s{constructor(q,X,fe){super(),this.varKind=q,this.name=X,this.rhs=fe}render({es5:q,_n:X}){const fe=q?n.varKinds.var:this.varKind,$e=this.rhs===void 0?"":` = ${this.rhs}`;return`${fe} ${this.name}${$e};`+X}optimizeNames(q,X){if(q[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,q,X)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends s{constructor(q,X,fe){super(),this.lhs=q,this.rhs=X,this.sideEffects=fe}render({_n:q}){return`${this.lhs} = ${this.rhs};`+q}optimizeNames(q,X){if(!(this.lhs instanceof t.Name&&!q[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,q,X),this}get names(){const q=this.lhs instanceof t.Name?{}:{...this.lhs.names};return j(q,this.rhs)}}class c extends u{constructor(q,X,fe,$e){super(q,fe,$e),this.op=X}render({_n:q}){return`${this.lhs} ${this.op}= ${this.rhs};`+q}}class f extends s{constructor(q){super(),this.label=q,this.names={}}render({_n:q}){return`${this.label}:`+q}}class d extends s{constructor(q){super(),this.label=q,this.names={}}render({_n:q}){return`break${this.label?` ${this.label}`:""};`+q}}class h extends s{constructor(q){super(),this.error=q}render({_n:q}){return`throw ${this.error};`+q}get names(){return this.error.names}}class v extends s{constructor(q){super(),this.code=q}render({_n:q}){return`${this.code};`+q}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(q,X){return this.code=Q(this.code,q,X),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class w extends s{constructor(q=[]){super(),this.nodes=q}render(q){return this.nodes.reduce((X,fe)=>X+fe.render(q),"")}optimizeNodes(){const{nodes:q}=this;let X=q.length;for(;X--;){const fe=q[X].optimizeNodes();Array.isArray(fe)?q.splice(X,1,...fe):fe?q[X]=fe:q.splice(X,1)}return q.length>0?this:void 0}optimizeNames(q,X){const{nodes:fe}=this;let $e=fe.length;for(;$e--;){const ke=fe[$e];ke.optimizeNames(q,X)||(ae(q,ke.names),fe.splice($e,1))}return fe.length>0?this:void 0}get names(){return this.nodes.reduce((q,X)=>F(q,X.names),{})}}class k extends w{render(q){return"{"+q._n+super.render(q)+"}"+q._n}}class $ extends w{}class _ extends k{}_.kind="else";class T extends k{constructor(q,X){super(X),this.condition=q}render(q){let X=`if(${this.condition})`+super.render(q);return this.else&&(X+="else "+this.else.render(q)),X}optimizeNodes(){super.optimizeNodes();const q=this.condition;if(q===!0)return this.nodes;let X=this.else;if(X){const fe=X.optimizeNodes();X=this.else=Array.isArray(fe)?new _(fe):fe}if(X)return q===!1?X instanceof T?X:X.nodes:this.nodes.length?this:new T(ce(q),X instanceof T?[X]:X.nodes);if(!(q===!1||!this.nodes.length))return this}optimizeNames(q,X){var fe;if(this.else=(fe=this.else)===null||fe===void 0?void 0:fe.optimizeNames(q,X),!!(super.optimizeNames(q,X)||this.else))return this.condition=Q(this.condition,q,X),this}get names(){const q=super.names;return j(q,this.condition),this.else&&F(q,this.else.names),q}}T.kind="if";class b extends k{}b.kind="for";class m extends b{constructor(q){super(),this.iteration=q}render(q){return`for(${this.iteration})`+super.render(q)}optimizeNames(q,X){if(super.optimizeNames(q,X))return this.iteration=Q(this.iteration,q,X),this}get names(){return F(super.names,this.iteration.names)}}class y extends b{constructor(q,X,fe,$e){super(),this.varKind=q,this.name=X,this.from=fe,this.to=$e}render(q){const X=q.es5?n.varKinds.var:this.varKind,{name:fe,from:$e,to:ke}=this;return`for(${X} ${fe}=${$e}; ${fe}<${ke}; ${fe}++)`+super.render(q)}get names(){const q=j(super.names,this.from);return j(q,this.to)}}class p extends b{constructor(q,X,fe,$e){super(),this.loop=q,this.varKind=X,this.name=fe,this.iterable=$e}render(q){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(q)}optimizeNames(q,X){if(super.optimizeNames(q,X))return this.iterable=Q(this.iterable,q,X),this}get names(){return F(super.names,this.iterable.names)}}class D extends k{constructor(q,X,fe){super(),this.name=q,this.args=X,this.async=fe}render(q){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(q)}}D.kind="func";class E extends w{render(q){return"return "+super.render(q)}}E.kind="return";class P extends k{render(q){let X="try"+super.render(q);return this.catch&&(X+=this.catch.render(q)),this.finally&&(X+=this.finally.render(q)),X}optimizeNodes(){var q,X;return super.optimizeNodes(),(q=this.catch)===null||q===void 0||q.optimizeNodes(),(X=this.finally)===null||X===void 0||X.optimizeNodes(),this}optimizeNames(q,X){var fe,$e;return super.optimizeNames(q,X),(fe=this.catch)===null||fe===void 0||fe.optimizeNames(q,X),($e=this.finally)===null||$e===void 0||$e.optimizeNames(q,X),this}get names(){const q=super.names;return this.catch&&F(q,this.catch.names),this.finally&&F(q,this.finally.names),q}}class C extends k{constructor(q){super(),this.error=q}render(q){return`catch(${this.error})`+super.render(q)}}C.kind="catch";class R extends k{render(q){return"finally"+super.render(q)}}R.kind="finally";class I{constructor(q,X={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...X,_n:X.lines?`
`:""},this._extScope=q,this._scope=new n.Scope({parent:q}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(q){return this._scope.name(q)}scopeName(q){return this._extScope.name(q)}scopeValue(q,X){const fe=this._extScope.value(q,X);return(this._values[fe.prefix]||(this._values[fe.prefix]=new Set)).add(fe),fe}getScopeValue(q,X){return this._extScope.getValue(q,X)}scopeRefs(q){return this._extScope.scopeRefs(q,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(q,X,fe,$e){const ke=this._scope.toName(X);return fe!==void 0&&$e&&(this._constants[ke.str]=fe),this._leafNode(new o(q,ke,fe)),ke}const(q,X,fe){return this._def(n.varKinds.const,q,X,fe)}let(q,X,fe){return this._def(n.varKinds.let,q,X,fe)}var(q,X,fe){return this._def(n.varKinds.var,q,X,fe)}assign(q,X,fe){return this._leafNode(new u(q,X,fe))}add(q,X){return this._leafNode(new c(q,e.operators.ADD,X))}code(q){return typeof q=="function"?q():q!==t.nil&&this._leafNode(new v(q)),this}object(...q){const X=["{"];for(const[fe,$e]of q)X.length>1&&X.push(","),X.push(fe),(fe!==$e||this.opts.es5)&&(X.push(":"),(0,t.addCodeArg)(X,$e));return X.push("}"),new t._Code(X)}if(q,X,fe){if(this._blockNode(new T(q)),X&&fe)this.code(X).else().code(fe).endIf();else if(X)this.code(X).endIf();else if(fe)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(q){return this._elseNode(new T(q))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(T,_)}_for(q,X){return this._blockNode(q),X&&this.code(X).endFor(),this}for(q,X){return this._for(new m(q),X)}forRange(q,X,fe,$e,ke=this.opts.es5?n.varKinds.var:n.varKinds.let){const Fe=this._scope.toName(q);return this._for(new y(ke,Fe,X,fe),()=>$e(Fe))}forOf(q,X,fe,$e=n.varKinds.const){const ke=this._scope.toName(q);if(this.opts.es5){const Fe=X instanceof t.Name?X:this.var("_arr",X);return this.forRange("_i",0,(0,t._)`${Fe}.length`,we=>{this.var(ke,(0,t._)`${Fe}[${we}]`),fe(ke)})}return this._for(new p("of",$e,ke,X),()=>fe(ke))}forIn(q,X,fe,$e=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(q,(0,t._)`Object.keys(${X})`,fe);const ke=this._scope.toName(q);return this._for(new p("in",$e,ke,X),()=>fe(ke))}endFor(){return this._endBlockNode(b)}label(q){return this._leafNode(new f(q))}break(q){return this._leafNode(new d(q))}return(q){const X=new E;if(this._blockNode(X),this.code(q),X.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(q,X,fe){if(!X&&!fe)throw new Error('CodeGen: "try" without "catch" and "finally"');const $e=new P;if(this._blockNode($e),this.code(q),X){const ke=this.name("e");this._currNode=$e.catch=new C(ke),X(ke)}return fe&&(this._currNode=$e.finally=new R,this.code(fe)),this._endBlockNode(C,R)}throw(q){return this._leafNode(new h(q))}block(q,X){return this._blockStarts.push(this._nodes.length),q&&this.code(q).endBlock(X),this}endBlock(q){const X=this._blockStarts.pop();if(X===void 0)throw new Error("CodeGen: not in self-balancing block");const fe=this._nodes.length-X;if(fe<0||q!==void 0&&fe!==q)throw new Error(`CodeGen: wrong number of nodes: ${fe} vs ${q} expected`);return this._nodes.length=X,this}func(q,X=t.nil,fe,$e){return this._blockNode(new D(q,X,fe)),$e&&this.code($e).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(q=1){for(;q-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(q){return this._currNode.nodes.push(q),this}_blockNode(q){this._currNode.nodes.push(q),this._nodes.push(q)}_endBlockNode(q,X){const fe=this._currNode;if(fe instanceof q||X&&fe instanceof X)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${X?`${q.kind}/${X.kind}`:q.kind}"`)}_elseNode(q){const X=this._currNode;if(!(X instanceof T))throw new Error('CodeGen: "else" without "if"');return this._currNode=X.else=q,this}get _root(){return this._nodes[0]}get _currNode(){const q=this._nodes;return q[q.length-1]}set _currNode(q){const X=this._nodes;X[X.length-1]=q}}e.CodeGen=I;function F(re,q){for(const X in q)re[X]=(re[X]||0)+(q[X]||0);return re}function j(re,q){return q instanceof t._CodeOrName?F(re,q.names):re}function Q(re,q,X){if(re instanceof t.Name)return fe(re);if(!$e(re))return re;return new t._Code(re._items.reduce((ke,Fe)=>(Fe instanceof t.Name&&(Fe=fe(Fe)),Fe instanceof t._Code?ke.push(...Fe._items):ke.push(Fe),ke),[]));function fe(ke){const Fe=X[ke.str];return Fe===void 0||q[ke.str]!==1?ke:(delete q[ke.str],Fe)}function $e(ke){return ke instanceof t._Code&&ke._items.some(Fe=>Fe instanceof t.Name&&q[Fe.str]===1&&X[Fe.str]!==void 0)}}function ae(re,q){for(const X in q)re[X]=(re[X]||0)-(q[X]||0)}function ce(re){return typeof re=="boolean"||typeof re=="number"||re===null?!re:(0,t._)`!${oe(re)}`}e.not=ce;const he=V(e.operators.AND);function Te(...re){return re.reduce(he)}e.and=Te;const Ye=V(e.operators.OR);function ge(...re){return re.reduce(Ye)}e.or=ge;function V(re){return(q,X)=>q===t.nil?X:X===t.nil?q:(0,t._)`${oe(q)} ${re} ${oe(X)}`}function oe(re){return re instanceof t.Name?re:(0,t._)`(${re})`}}(Ap)),Ap}var st={},Qv;function lt(){if(Qv)return st;Qv=1,Object.defineProperty(st,"__esModule",{value:!0}),st.checkStrictMode=st.getErrorPath=st.Type=st.useFunc=st.setEvaluated=st.evaluatedPropsToName=st.mergeEvaluated=st.eachItem=st.unescapeJsonPointer=st.escapeJsonPointer=st.escapeFragment=st.unescapeFragment=st.schemaRefOrVal=st.schemaHasRulesButRef=st.schemaHasRules=st.checkUnknownRules=st.alwaysValidSchema=st.toHash=void 0;const e=Qe(),t=rl();function n(p){const D={};for(const E of p)D[E]=!0;return D}st.toHash=n;function r(p,D){return typeof D=="boolean"?D:Object.keys(D).length===0?!0:(i(p,D),!s(D,p.self.RULES.all))}st.alwaysValidSchema=r;function i(p,D=p.schema){const{opts:E,self:P}=p;if(!E.strictSchema||typeof D=="boolean")return;const C=P.RULES.keywords;for(const R in D)C[R]||y(p,`unknown keyword: "${R}"`)}st.checkUnknownRules=i;function s(p,D){if(typeof p=="boolean")return!p;for(const E in p)if(D[E])return!0;return!1}st.schemaHasRules=s;function o(p,D){if(typeof p=="boolean")return!p;for(const E in p)if(E!=="$ref"&&D.all[E])return!0;return!1}st.schemaHasRulesButRef=o;function u({topSchemaRef:p,schemaPath:D},E,P,C){if(!C){if(typeof E=="number"||typeof E=="boolean")return E;if(typeof E=="string")return(0,e._)`${E}`}return(0,e._)`${p}${D}${(0,e.getProperty)(P)}`}st.schemaRefOrVal=u;function c(p){return h(decodeURIComponent(p))}st.unescapeFragment=c;function f(p){return encodeURIComponent(d(p))}st.escapeFragment=f;function d(p){return typeof p=="number"?`${p}`:p.replace(/~/g,"~0").replace(/\//g,"~1")}st.escapeJsonPointer=d;function h(p){return p.replace(/~1/g,"/").replace(/~0/g,"~")}st.unescapeJsonPointer=h;function v(p,D){if(Array.isArray(p))for(const E of p)D(E);else D(p)}st.eachItem=v;function w({mergeNames:p,mergeToName:D,mergeValues:E,resultToName:P}){return(C,R,I,F)=>{const j=I===void 0?R:I instanceof e.Name?(R instanceof e.Name?p(C,R,I):D(C,R,I),I):R instanceof e.Name?(D(C,I,R),R):E(R,I);return F===e.Name&&!(j instanceof e.Name)?P(C,j):j}}st.mergeEvaluated={props:w({mergeNames:(p,D,E)=>p.if((0,e._)`${E} !== true && ${D} !== undefined`,()=>{p.if((0,e._)`${D} === true`,()=>p.assign(E,!0),()=>p.assign(E,(0,e._)`${E} || {}`).code((0,e._)`Object.assign(${E}, ${D})`))}),mergeToName:(p,D,E)=>p.if((0,e._)`${E} !== true`,()=>{D===!0?p.assign(E,!0):(p.assign(E,(0,e._)`${E} || {}`),$(p,E,D))}),mergeValues:(p,D)=>p===!0?!0:{...p,...D},resultToName:k}),items:w({mergeNames:(p,D,E)=>p.if((0,e._)`${E} !== true && ${D} !== undefined`,()=>p.assign(E,(0,e._)`${D} === true ? true : ${E} > ${D} ? ${E} : ${D}`)),mergeToName:(p,D,E)=>p.if((0,e._)`${E} !== true`,()=>p.assign(E,D===!0?!0:(0,e._)`${E} > ${D} ? ${E} : ${D}`)),mergeValues:(p,D)=>p===!0?!0:Math.max(p,D),resultToName:(p,D)=>p.var("items",D)})};function k(p,D){if(D===!0)return p.var("props",!0);const E=p.var("props",(0,e._)`{}`);return D!==void 0&&$(p,E,D),E}st.evaluatedPropsToName=k;function $(p,D,E){Object.keys(E).forEach(P=>p.assign((0,e._)`${D}${(0,e.getProperty)(P)}`,!0))}st.setEvaluated=$;const _={};function T(p,D){return p.scopeValue("func",{ref:D,code:_[D.code]||(_[D.code]=new t._Code(D.code))})}st.useFunc=T;var b;(function(p){p[p.Num=0]="Num",p[p.Str=1]="Str"})(b||(st.Type=b={}));function m(p,D,E){if(p instanceof e.Name){const P=D===b.Num;return E?P?(0,e._)`"[" + ${p} + "]"`:(0,e._)`"['" + ${p} + "']"`:P?(0,e._)`"/" + ${p}`:(0,e._)`"/" + ${p}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,e.getProperty)(p).toString():"/"+d(p)}st.getErrorPath=m;function y(p,D,E=p.opts.strictSchema){if(E){if(D=`strict mode: ${D}`,E===!0)throw new Error(D);p.self.logger.warn(D)}}return st.checkStrictMode=y,st}var il={},Xv;function Rr(){if(Xv)return il;Xv=1,Object.defineProperty(il,"__esModule",{value:!0});const e=Qe(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return il.default=t,il}var Zv;function sl(){return Zv||(Zv=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Qe(),n=lt(),r=Rr();e.keywordError={message:({keyword:_})=>(0,t.str)`must pass "${_}" keyword validation`},e.keyword$DataError={message:({keyword:_,schemaType:T})=>T?(0,t.str)`"${_}" keyword must be ${T} ($data)`:(0,t.str)`"${_}" keyword is invalid ($data)`};function i(_,T=e.keywordError,b,m){const{it:y}=_,{gen:p,compositeRule:D,allErrors:E}=y,P=h(_,T,b);m??(D||E)?c(p,P):f(y,(0,t._)`[${P}]`)}e.reportError=i;function s(_,T=e.keywordError,b){const{it:m}=_,{gen:y,compositeRule:p,allErrors:D}=m,E=h(_,T,b);c(y,E),p||D||f(m,r.default.vErrors)}e.reportExtraError=s;function o(_,T){_.assign(r.default.errors,T),_.if((0,t._)`${r.default.vErrors} !== null`,()=>_.if(T,()=>_.assign((0,t._)`${r.default.vErrors}.length`,T),()=>_.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function u({gen:_,keyword:T,schemaValue:b,data:m,errsCount:y,it:p}){if(y===void 0)throw new Error("ajv implementation error");const D=_.name("err");_.forRange("i",y,r.default.errors,E=>{_.const(D,(0,t._)`${r.default.vErrors}[${E}]`),_.if((0,t._)`${D}.instancePath === undefined`,()=>_.assign((0,t._)`${D}.instancePath`,(0,t.strConcat)(r.default.instancePath,p.errorPath))),_.assign((0,t._)`${D}.schemaPath`,(0,t.str)`${p.errSchemaPath}/${T}`),p.opts.verbose&&(_.assign((0,t._)`${D}.schema`,b),_.assign((0,t._)`${D}.data`,m))})}e.extendErrors=u;function c(_,T){const b=_.const("err",T);_.if((0,t._)`${r.default.vErrors} === null`,()=>_.assign(r.default.vErrors,(0,t._)`[${b}]`),(0,t._)`${r.default.vErrors}.push(${b})`),_.code((0,t._)`${r.default.errors}++`)}function f(_,T){const{gen:b,validateName:m,schemaEnv:y}=_;y.$async?b.throw((0,t._)`new ${_.ValidationError}(${T})`):(b.assign((0,t._)`${m}.errors`,T),b.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(_,T,b){const{createErrors:m}=_.it;return m===!1?(0,t._)`{}`:v(_,T,b)}function v(_,T,b={}){const{gen:m,it:y}=_,p=[w(y,b),k(_,b)];return $(_,T,p),m.object(...p)}function w({errorPath:_},{instancePath:T}){const b=T?(0,t.str)`${_}${(0,n.getErrorPath)(T,n.Type.Str)}`:_;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,b)]}function k({keyword:_,it:{errSchemaPath:T}},{schemaPath:b,parentSchema:m}){let y=m?T:(0,t.str)`${T}/${_}`;return b&&(y=(0,t.str)`${y}${(0,n.getErrorPath)(b,n.Type.Str)}`),[d.schemaPath,y]}function $(_,{params:T,message:b},m){const{keyword:y,data:p,schemaValue:D,it:E}=_,{opts:P,propertyName:C,topSchemaRef:R,schemaPath:I}=E;m.push([d.keyword,y],[d.params,typeof T=="function"?T(_):T||(0,t._)`{}`]),P.messages&&m.push([d.message,typeof b=="function"?b(_):b]),P.verbose&&m.push([d.schema,D],[d.parentSchema,(0,t._)`${R}${I}`],[r.default.data,p]),C&&m.push([d.propertyName,C])}}(Tp)),Tp}var eb;function fC(){if(eb)return qs;eb=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.boolOrEmptySchema=qs.topBoolOrEmptySchema=void 0;const e=sl(),t=Qe(),n=Rr(),r={message:"boolean schema is false"};function i(u){const{gen:c,schema:f,validateName:d}=u;f===!1?o(u,!1):typeof f=="object"&&f.$async===!0?c.return(n.default.data):(c.assign((0,t._)`${d}.errors`,null),c.return(!0))}qs.topBoolOrEmptySchema=i;function s(u,c){const{gen:f,schema:d}=u;d===!1?(f.var(c,!1),o(u)):f.var(c,!0)}qs.boolOrEmptySchema=s;function o(u,c){const{gen:f,data:d}=u,h={gen:f,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u};(0,e.reportError)(h,r,void 0,c)}return qs}var wn={},Bs={},tb;function nb(){if(tb)return Bs;tb=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.getRules=Bs.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}Bs.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Bs.getRules=r,Bs}var Di={},rb;function ib(){if(rb)return Di;rb=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.shouldUseRule=Di.shouldUseGroup=Di.schemaHasRulesForType=void 0;function e({schema:r,self:i},s){const o=i.RULES.types[s];return o&&o!==!0&&t(r,o)}Di.schemaHasRulesForType=e;function t(r,i){return i.rules.some(s=>n(r,s))}Di.shouldUseGroup=t;function n(r,i){var s;return r[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(o=>r[o]!==void 0))}return Di.shouldUseRule=n,Di}var sb;function ol(){if(sb)return wn;sb=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.reportTypeError=wn.checkDataTypes=wn.checkDataType=wn.coerceAndCheckDataType=wn.getJSONTypes=wn.getSchemaTypes=wn.DataType=void 0;const e=nb(),t=ib(),n=sl(),r=Qe(),i=lt();var s;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(s||(wn.DataType=s={}));function o(b){const m=u(b.type);if(m.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!m.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&m.push("null")}return m}wn.getSchemaTypes=o;function u(b){const m=Array.isArray(b)?b:b?[b]:[];if(m.every(e.isJSONType))return m;throw new Error("type must be JSONType or JSONType[]: "+m.join(","))}wn.getJSONTypes=u;function c(b,m){const{gen:y,data:p,opts:D}=b,E=d(m,D.coerceTypes),P=m.length>0&&!(E.length===0&&m.length===1&&(0,t.schemaHasRulesForType)(b,m[0]));if(P){const C=k(m,p,D.strictNumbers,s.Wrong);y.if(C,()=>{E.length?h(b,m,E):_(b)})}return P}wn.coerceAndCheckDataType=c;const f=new Set(["string","number","integer","boolean","null"]);function d(b,m){return m?b.filter(y=>f.has(y)||m==="array"&&y==="array"):[]}function h(b,m,y){const{gen:p,data:D,opts:E}=b,P=p.let("dataType",(0,r._)`typeof ${D}`),C=p.let("coerced",(0,r._)`undefined`);E.coerceTypes==="array"&&p.if((0,r._)`${P} == 'object' && Array.isArray(${D}) && ${D}.length == 1`,()=>p.assign(D,(0,r._)`${D}[0]`).assign(P,(0,r._)`typeof ${D}`).if(k(m,D,E.strictNumbers),()=>p.assign(C,D))),p.if((0,r._)`${C} !== undefined`);for(const I of y)(f.has(I)||I==="array"&&E.coerceTypes==="array")&&R(I);p.else(),_(b),p.endIf(),p.if((0,r._)`${C} !== undefined`,()=>{p.assign(D,C),v(b,C)});function R(I){switch(I){case"string":p.elseIf((0,r._)`${P} == "number" || ${P} == "boolean"`).assign(C,(0,r._)`"" + ${D}`).elseIf((0,r._)`${D} === null`).assign(C,(0,r._)`""`);return;case"number":p.elseIf((0,r._)`${P} == "boolean" || ${D} === null
              || (${P} == "string" && ${D} && ${D} == +${D})`).assign(C,(0,r._)`+${D}`);return;case"integer":p.elseIf((0,r._)`${P} === "boolean" || ${D} === null
              || (${P} === "string" && ${D} && ${D} == +${D} && !(${D} % 1))`).assign(C,(0,r._)`+${D}`);return;case"boolean":p.elseIf((0,r._)`${D} === "false" || ${D} === 0 || ${D} === null`).assign(C,!1).elseIf((0,r._)`${D} === "true" || ${D} === 1`).assign(C,!0);return;case"null":p.elseIf((0,r._)`${D} === "" || ${D} === 0 || ${D} === false`),p.assign(C,null);return;case"array":p.elseIf((0,r._)`${P} === "string" || ${P} === "number"
              || ${P} === "boolean" || ${D} === null`).assign(C,(0,r._)`[${D}]`)}}}function v({gen:b,parentData:m,parentDataProperty:y},p){b.if((0,r._)`${m} !== undefined`,()=>b.assign((0,r._)`${m}[${y}]`,p))}function w(b,m,y,p=s.Correct){const D=p===s.Correct?r.operators.EQ:r.operators.NEQ;let E;switch(b){case"null":return(0,r._)`${m} ${D} null`;case"array":E=(0,r._)`Array.isArray(${m})`;break;case"object":E=(0,r._)`${m} && typeof ${m} == "object" && !Array.isArray(${m})`;break;case"integer":E=P((0,r._)`!(${m} % 1) && !isNaN(${m})`);break;case"number":E=P();break;default:return(0,r._)`typeof ${m} ${D} ${b}`}return p===s.Correct?E:(0,r.not)(E);function P(C=r.nil){return(0,r.and)((0,r._)`typeof ${m} == "number"`,C,y?(0,r._)`isFinite(${m})`:r.nil)}}wn.checkDataType=w;function k(b,m,y,p){if(b.length===1)return w(b[0],m,y,p);let D;const E=(0,i.toHash)(b);if(E.array&&E.object){const P=(0,r._)`typeof ${m} != "object"`;D=E.null?P:(0,r._)`!${m} || ${P}`,delete E.null,delete E.array,delete E.object}else D=r.nil;E.number&&delete E.integer;for(const P in E)D=(0,r.and)(D,w(P,m,y,p));return D}wn.checkDataTypes=k;const $={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:m})=>typeof b=="string"?(0,r._)`{type: ${b}}`:(0,r._)`{type: ${m}}`};function _(b){const m=T(b);(0,n.reportError)(m,$)}wn.reportTypeError=_;function T(b){const{gen:m,data:y,schema:p}=b,D=(0,i.schemaRefOrVal)(b,p,"type");return{gen:m,keyword:"type",data:y,schema:p.type,schemaCode:D,schemaValue:D,parentSchema:p,params:{},it:b}}return wn}var uu={},ob;function dC(){if(ob)return uu;ob=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.assignDefaults=void 0;const e=Qe(),t=lt();function n(i,s){const{properties:o,items:u}=i.schema;if(s==="object"&&o)for(const c in o)r(i,c,o[c].default);else s==="array"&&Array.isArray(u)&&u.forEach((c,f)=>r(i,f,c.default))}uu.assignDefaults=n;function r(i,s,o){const{gen:u,compositeRule:c,data:f,opts:d}=i;if(o===void 0)return;const h=(0,e._)`${f}${(0,e.getProperty)(s)}`;if(c){(0,t.checkStrictMode)(i,`default is ignored for: ${h}`);return}let v=(0,e._)`${h} === undefined`;d.useDefaults==="empty"&&(v=(0,e._)`${v} || ${h} === null || ${h} === ""`),u.if(v,(0,e._)`${h} = ${(0,e.stringify)(o)}`)}return uu}var Fr={},kt={},ab;function Ir(){if(ab)return kt;ab=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.validateUnion=kt.validateArray=kt.usePattern=kt.callValidateCode=kt.schemaProperties=kt.allSchemaProperties=kt.noPropertyInData=kt.propertyInData=kt.isOwnProperty=kt.hasPropFunc=kt.reportMissingProp=kt.checkMissingProp=kt.checkReportMissingProp=void 0;const e=Qe(),t=lt(),n=Rr(),r=lt();function i(b,m){const{gen:y,data:p,it:D}=b;y.if(d(y,p,m,D.opts.ownProperties),()=>{b.setParams({missingProperty:(0,e._)`${m}`},!0),b.error()})}kt.checkReportMissingProp=i;function s({gen:b,data:m,it:{opts:y}},p,D){return(0,e.or)(...p.map(E=>(0,e.and)(d(b,m,E,y.ownProperties),(0,e._)`${D} = ${E}`)))}kt.checkMissingProp=s;function o(b,m){b.setParams({missingProperty:m},!0),b.error()}kt.reportMissingProp=o;function u(b){return b.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}kt.hasPropFunc=u;function c(b,m,y){return(0,e._)`${u(b)}.call(${m}, ${y})`}kt.isOwnProperty=c;function f(b,m,y,p){const D=(0,e._)`${m}${(0,e.getProperty)(y)} !== undefined`;return p?(0,e._)`${D} && ${c(b,m,y)}`:D}kt.propertyInData=f;function d(b,m,y,p){const D=(0,e._)`${m}${(0,e.getProperty)(y)} === undefined`;return p?(0,e.or)(D,(0,e.not)(c(b,m,y))):D}kt.noPropertyInData=d;function h(b){return b?Object.keys(b).filter(m=>m!=="__proto__"):[]}kt.allSchemaProperties=h;function v(b,m){return h(m).filter(y=>!(0,t.alwaysValidSchema)(b,m[y]))}kt.schemaProperties=v;function w({schemaCode:b,data:m,it:{gen:y,topSchemaRef:p,schemaPath:D,errorPath:E},it:P},C,R,I){const F=I?(0,e._)`${b}, ${m}, ${p}${D}`:m,j=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,E)],[n.default.parentData,P.parentData],[n.default.parentDataProperty,P.parentDataProperty],[n.default.rootData,n.default.rootData]];P.opts.dynamicRef&&j.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const Q=(0,e._)`${F}, ${y.object(...j)}`;return R!==e.nil?(0,e._)`${C}.call(${R}, ${Q})`:(0,e._)`${C}(${Q})`}kt.callValidateCode=w;const k=(0,e._)`new RegExp`;function $({gen:b,it:{opts:m}},y){const p=m.unicodeRegExp?"u":"",{regExp:D}=m.code,E=D(y,p);return b.scopeValue("pattern",{key:E.toString(),ref:E,code:(0,e._)`${D.code==="new RegExp"?k:(0,r.useFunc)(b,D)}(${y}, ${p})`})}kt.usePattern=$;function _(b){const{gen:m,data:y,keyword:p,it:D}=b,E=m.name("valid");if(D.allErrors){const C=m.let("valid",!0);return P(()=>m.assign(C,!1)),C}return m.var(E,!0),P(()=>m.break()),E;function P(C){const R=m.const("len",(0,e._)`${y}.length`);m.forRange("i",0,R,I=>{b.subschema({keyword:p,dataProp:I,dataPropType:t.Type.Num},E),m.if((0,e.not)(E),C)})}}kt.validateArray=_;function T(b){const{gen:m,schema:y,keyword:p,it:D}=b;if(!Array.isArray(y))throw new Error("ajv implementation error");if(y.some(R=>(0,t.alwaysValidSchema)(D,R))&&!D.opts.unevaluated)return;const P=m.let("valid",!1),C=m.name("_valid");m.block(()=>y.forEach((R,I)=>{const F=b.subschema({keyword:p,schemaProp:I,compositeRule:!0},C);m.assign(P,(0,e._)`${P} || ${C}`),b.mergeValidEvaluated(F,C)||m.if((0,e.not)(P))})),b.result(P,()=>b.reset(),()=>b.error(!0))}return kt.validateUnion=T,kt}var ub;function hC(){if(ub)return Fr;ub=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.validateKeywordUsage=Fr.validSchemaType=Fr.funcKeywordCode=Fr.macroKeywordCode=void 0;const e=Qe(),t=Rr(),n=Ir(),r=sl();function i(v,w){const{gen:k,keyword:$,schema:_,parentSchema:T,it:b}=v,m=w.macro.call(b.self,_,T,b),y=f(k,$,m);b.opts.validateSchema!==!1&&b.self.validateSchema(m,!0);const p=k.name("valid");v.subschema({schema:m,schemaPath:e.nil,errSchemaPath:`${b.errSchemaPath}/${$}`,topSchemaRef:y,compositeRule:!0},p),v.pass(p,()=>v.error(!0))}Fr.macroKeywordCode=i;function s(v,w){var k;const{gen:$,keyword:_,schema:T,parentSchema:b,$data:m,it:y}=v;c(y,w);const p=!m&&w.compile?w.compile.call(y.self,T,b,y):w.validate,D=f($,_,p),E=$.let("valid");v.block$data(E,P),v.ok((k=w.valid)!==null&&k!==void 0?k:E);function P(){if(w.errors===!1)I(),w.modifying&&o(v),F(()=>v.error());else{const j=w.async?C():R();w.modifying&&o(v),F(()=>u(v,j))}}function C(){const j=$.let("ruleErrs",null);return $.try(()=>I((0,e._)`await `),Q=>$.assign(E,!1).if((0,e._)`${Q} instanceof ${y.ValidationError}`,()=>$.assign(j,(0,e._)`${Q}.errors`),()=>$.throw(Q))),j}function R(){const j=(0,e._)`${D}.errors`;return $.assign(j,null),I(e.nil),j}function I(j=w.async?(0,e._)`await `:e.nil){const Q=y.opts.passContext?t.default.this:t.default.self,ae=!("compile"in w&&!m||w.schema===!1);$.assign(E,(0,e._)`${j}${(0,n.callValidateCode)(v,D,Q,ae)}`,w.modifying)}function F(j){var Q;$.if((0,e.not)((Q=w.valid)!==null&&Q!==void 0?Q:E),j)}}Fr.funcKeywordCode=s;function o(v){const{gen:w,data:k,it:$}=v;w.if($.parentData,()=>w.assign(k,(0,e._)`${$.parentData}[${$.parentDataProperty}]`))}function u(v,w){const{gen:k}=v;k.if((0,e._)`Array.isArray(${w})`,()=>{k.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${w} : ${t.default.vErrors}.concat(${w})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(v)},()=>v.error())}function c({schemaEnv:v},w){if(w.async&&!v.$async)throw new Error("async keyword in sync schema")}function f(v,w,k){if(k===void 0)throw new Error(`keyword "${w}" failed to compile`);return v.scopeValue("keyword",typeof k=="function"?{ref:k}:{ref:k,code:(0,e.stringify)(k)})}function d(v,w,k=!1){return!w.length||w.some($=>$==="array"?Array.isArray(v):$==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==$||k&&typeof v>"u")}Fr.validSchemaType=d;function h({schema:v,opts:w,self:k,errSchemaPath:$},_,T){if(Array.isArray(_.keyword)?!_.keyword.includes(T):_.keyword!==T)throw new Error("ajv implementation error");const b=_.dependencies;if(b?.some(m=>!Object.prototype.hasOwnProperty.call(v,m)))throw new Error(`parent schema must have dependencies of ${T}: ${b.join(",")}`);if(_.validateSchema&&!_.validateSchema(v[T])){const y=`keyword "${T}" value is invalid at path "${$}": `+k.errorsText(_.validateSchema.errors);if(w.validateSchema==="log")k.logger.error(y);else throw new Error(y)}}return Fr.validateKeywordUsage=h,Fr}var wi={},cb;function pC(){if(cb)return wi;cb=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.extendSubschemaMode=wi.extendSubschemaData=wi.getSubschema=void 0;const e=Qe(),t=lt();function n(s,{keyword:o,schemaProp:u,schema:c,schemaPath:f,errSchemaPath:d,topSchemaRef:h}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const v=s.schema[o];return u===void 0?{schema:v,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:v[u],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(u)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,t.escapeFragment)(u)}`}}if(c!==void 0){if(f===void 0||d===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:f,topSchemaRef:h,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}wi.getSubschema=n;function r(s,o,{dataProp:u,dataPropType:c,data:f,dataTypes:d,propertyName:h}){if(f!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=o;if(u!==void 0){const{errorPath:k,dataPathArr:$,opts:_}=o,T=v.let("data",(0,e._)`${o.data}${(0,e.getProperty)(u)}`,!0);w(T),s.errorPath=(0,e.str)`${k}${(0,t.getErrorPath)(u,c,_.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${u}`,s.dataPathArr=[...$,s.parentDataProperty]}if(f!==void 0){const k=f instanceof e.Name?f:v.let("data",f,!0);w(k),h!==void 0&&(s.propertyName=h)}d&&(s.dataTypes=d);function w(k){s.data=k,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,k]}}wi.extendSubschemaData=r;function i(s,{jtdDiscriminator:o,jtdMetadata:u,compositeRule:c,createErrors:f,allErrors:d}){c!==void 0&&(s.compositeRule=c),f!==void 0&&(s.createErrors=f),d!==void 0&&(s.allErrors=d),s.jtdDiscriminator=o,s.jtdMetadata=u}return wi.extendSubschemaMode=i,wi}var In={},Pp,lb;function fb(){return lb||(lb=1,Pp=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),Pp}var Np={exports:{}},db;function mC(){if(db)return Np.exports;db=1;var e=Np.exports=function(r,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var o=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};t(i,o,u,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,s,o,u,c,f,d,h,v){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,u,c,f,d,h,v);for(var w in o){var k=o[w];if(Array.isArray(k)){if(w in e.arrayKeywords)for(var $=0;$<k.length;$++)t(r,i,s,k[$],u+"/"+w+"/"+$,c,u,w,o,$)}else if(w in e.propsKeywords){if(k&&typeof k=="object")for(var _ in k)t(r,i,s,k[_],u+"/"+w+"/"+n(_),c,u,w,o,_)}else(w in e.keywords||r.allKeys&&!(w in e.skipKeywords))&&t(r,i,s,k,u+"/"+w,c,u,w,o)}s(o,u,c,f,d,h,v)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return Np.exports}var hb;function al(){if(hb)return In;hb=1,Object.defineProperty(In,"__esModule",{value:!0}),In.getSchemaRefs=In.resolveUrl=In.normalizeId=In._getFullPath=In.getFullPath=In.inlineRef=void 0;const e=lt(),t=fb(),n=mC(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i($,_=!0){return typeof $=="boolean"?!0:_===!0?!o($):_?u($)<=_:!1}In.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o($){for(const _ in $){if(s.has(_))return!0;const T=$[_];if(Array.isArray(T)&&T.some(o)||typeof T=="object"&&o(T))return!0}return!1}function u($){let _=0;for(const T in $){if(T==="$ref")return 1/0;if(_++,!r.has(T)&&(typeof $[T]=="object"&&(0,e.eachItem)($[T],b=>_+=u(b)),_===1/0))return 1/0}return _}function c($,_="",T){T!==!1&&(_=h(_));const b=$.parse(_);return f($,b)}In.getFullPath=c;function f($,_){return $.serialize(_).split("#")[0]+"#"}In._getFullPath=f;const d=/#\/?$/;function h($){return $?$.replace(d,""):""}In.normalizeId=h;function v($,_,T){return T=h(T),$.resolve(_,T)}In.resolveUrl=v;const w=/^[a-z_][-a-z0-9._]*$/i;function k($,_){if(typeof $=="boolean")return{};const{schemaId:T,uriResolver:b}=this.opts,m=h($[T]||_),y={"":m},p=c(b,m,!1),D={},E=new Set;return n($,{allKeys:!0},(R,I,F,j)=>{if(j===void 0)return;const Q=p+I;let ae=y[j];typeof R[T]=="string"&&(ae=ce.call(this,R[T])),he.call(this,R.$anchor),he.call(this,R.$dynamicAnchor),y[I]=ae;function ce(Te){const Ye=this.opts.uriResolver.resolve;if(Te=h(ae?Ye(ae,Te):Te),E.has(Te))throw C(Te);E.add(Te);let ge=this.refs[Te];return typeof ge=="string"&&(ge=this.refs[ge]),typeof ge=="object"?P(R,ge.schema,Te):Te!==h(Q)&&(Te[0]==="#"?(P(R,D[Te],Te),D[Te]=R):this.refs[Te]=Q),Te}function he(Te){if(typeof Te=="string"){if(!w.test(Te))throw new Error(`invalid anchor "${Te}"`);ce.call(this,`#${Te}`)}}}),D;function P(R,I,F){if(I!==void 0&&!t(R,I))throw C(F)}function C(R){return new Error(`reference "${R}" resolves to more than one schema`)}}return In.getSchemaRefs=k,In}var pb;function Uo(){if(pb)return bi;pb=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.getData=bi.KeywordCxt=bi.validateFunctionCode=void 0;const e=fC(),t=ol(),n=ib(),r=ol(),i=dC(),s=hC(),o=pC(),u=Qe(),c=Rr(),f=al(),d=lt(),h=sl();function v(U){if(p(U)&&(E(U),y(U))){_(U);return}w(U,()=>(0,e.topBoolOrEmptySchema)(U))}bi.validateFunctionCode=v;function w({gen:U,validateName:J,schema:de,schemaEnv:ne,opts:Se},Re){Se.code.es5?U.func(J,(0,u._)`${c.default.data}, ${c.default.valCxt}`,ne.$async,()=>{U.code((0,u._)`"use strict"; ${b(de,Se)}`),$(U,Se),U.code(Re)}):U.func(J,(0,u._)`${c.default.data}, ${k(Se)}`,ne.$async,()=>U.code(b(de,Se)).code(Re))}function k(U){return(0,u._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${U.dynamicRef?(0,u._)`, ${c.default.dynamicAnchors}={}`:u.nil}}={}`}function $(U,J){U.if(c.default.valCxt,()=>{U.var(c.default.instancePath,(0,u._)`${c.default.valCxt}.${c.default.instancePath}`),U.var(c.default.parentData,(0,u._)`${c.default.valCxt}.${c.default.parentData}`),U.var(c.default.parentDataProperty,(0,u._)`${c.default.valCxt}.${c.default.parentDataProperty}`),U.var(c.default.rootData,(0,u._)`${c.default.valCxt}.${c.default.rootData}`),J.dynamicRef&&U.var(c.default.dynamicAnchors,(0,u._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{U.var(c.default.instancePath,(0,u._)`""`),U.var(c.default.parentData,(0,u._)`undefined`),U.var(c.default.parentDataProperty,(0,u._)`undefined`),U.var(c.default.rootData,c.default.data),J.dynamicRef&&U.var(c.default.dynamicAnchors,(0,u._)`{}`)})}function _(U){const{schema:J,opts:de,gen:ne}=U;w(U,()=>{de.$comment&&J.$comment&&j(U),R(U),ne.let(c.default.vErrors,null),ne.let(c.default.errors,0),de.unevaluated&&T(U),P(U),Q(U)})}function T(U){const{gen:J,validateName:de}=U;U.evaluated=J.const("evaluated",(0,u._)`${de}.evaluated`),J.if((0,u._)`${U.evaluated}.dynamicProps`,()=>J.assign((0,u._)`${U.evaluated}.props`,(0,u._)`undefined`)),J.if((0,u._)`${U.evaluated}.dynamicItems`,()=>J.assign((0,u._)`${U.evaluated}.items`,(0,u._)`undefined`))}function b(U,J){const de=typeof U=="object"&&U[J.schemaId];return de&&(J.code.source||J.code.process)?(0,u._)`/*# sourceURL=${de} */`:u.nil}function m(U,J){if(p(U)&&(E(U),y(U))){D(U,J);return}(0,e.boolOrEmptySchema)(U,J)}function y({schema:U,self:J}){if(typeof U=="boolean")return!U;for(const de in U)if(J.RULES.all[de])return!0;return!1}function p(U){return typeof U.schema!="boolean"}function D(U,J){const{schema:de,gen:ne,opts:Se}=U;Se.$comment&&de.$comment&&j(U),I(U),F(U);const Re=ne.const("_errs",c.default.errors);P(U,Re),ne.var(J,(0,u._)`${Re} === ${c.default.errors}`)}function E(U){(0,d.checkUnknownRules)(U),C(U)}function P(U,J){if(U.opts.jtd)return ce(U,[],!1,J);const de=(0,t.getSchemaTypes)(U.schema),ne=(0,t.coerceAndCheckDataType)(U,de);ce(U,de,!ne,J)}function C(U){const{schema:J,errSchemaPath:de,opts:ne,self:Se}=U;J.$ref&&ne.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(J,Se.RULES)&&Se.logger.warn(`$ref: keywords ignored in schema at path "${de}"`)}function R(U){const{schema:J,opts:de}=U;J.default!==void 0&&de.useDefaults&&de.strictSchema&&(0,d.checkStrictMode)(U,"default is ignored in the schema root")}function I(U){const J=U.schema[U.opts.schemaId];J&&(U.baseId=(0,f.resolveUrl)(U.opts.uriResolver,U.baseId,J))}function F(U){if(U.schema.$async&&!U.schemaEnv.$async)throw new Error("async schema in sync schema")}function j({gen:U,schemaEnv:J,schema:de,errSchemaPath:ne,opts:Se}){const Re=de.$comment;if(Se.$comment===!0)U.code((0,u._)`${c.default.self}.logger.log(${Re})`);else if(typeof Se.$comment=="function"){const qe=(0,u.str)`${ne}/$comment`,Rt=U.scopeValue("root",{ref:J.root});U.code((0,u._)`${c.default.self}.opts.$comment(${Re}, ${qe}, ${Rt}.schema)`)}}function Q(U){const{gen:J,schemaEnv:de,validateName:ne,ValidationError:Se,opts:Re}=U;de.$async?J.if((0,u._)`${c.default.errors} === 0`,()=>J.return(c.default.data),()=>J.throw((0,u._)`new ${Se}(${c.default.vErrors})`)):(J.assign((0,u._)`${ne}.errors`,c.default.vErrors),Re.unevaluated&&ae(U),J.return((0,u._)`${c.default.errors} === 0`))}function ae({gen:U,evaluated:J,props:de,items:ne}){de instanceof u.Name&&U.assign((0,u._)`${J}.props`,de),ne instanceof u.Name&&U.assign((0,u._)`${J}.items`,ne)}function ce(U,J,de,ne){const{gen:Se,schema:Re,data:qe,allErrors:Rt,opts:Tt,self:dt}=U,{RULES:Ke}=dt;if(Re.$ref&&(Tt.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(Re,Ke))){Se.block(()=>$e(U,"$ref",Ke.all.$ref.definition));return}Tt.jtd||Te(U,J),Se.block(()=>{for(const At of Ke.rules)Ft(At);Ft(Ke.post)});function Ft(At){(0,n.shouldUseGroup)(Re,At)&&(At.type?(Se.if((0,r.checkDataType)(At.type,qe,Tt.strictNumbers)),he(U,At),J.length===1&&J[0]===At.type&&de&&(Se.else(),(0,r.reportTypeError)(U)),Se.endIf()):he(U,At),Rt||Se.if((0,u._)`${c.default.errors} === ${ne||0}`))}}function he(U,J){const{gen:de,schema:ne,opts:{useDefaults:Se}}=U;Se&&(0,i.assignDefaults)(U,J.type),de.block(()=>{for(const Re of J.rules)(0,n.shouldUseRule)(ne,Re)&&$e(U,Re.keyword,Re.definition,J.type)})}function Te(U,J){U.schemaEnv.meta||!U.opts.strictTypes||(Ye(U,J),U.opts.allowUnionTypes||ge(U,J),V(U,U.dataTypes))}function Ye(U,J){if(J.length){if(!U.dataTypes.length){U.dataTypes=J;return}J.forEach(de=>{re(U.dataTypes,de)||X(U,`type "${de}" not allowed by context "${U.dataTypes.join(",")}"`)}),q(U,J)}}function ge(U,J){J.length>1&&!(J.length===2&&J.includes("null"))&&X(U,"use allowUnionTypes to allow union type keyword")}function V(U,J){const de=U.self.RULES.all;for(const ne in de){const Se=de[ne];if(typeof Se=="object"&&(0,n.shouldUseRule)(U.schema,Se)){const{type:Re}=Se.definition;Re.length&&!Re.some(qe=>oe(J,qe))&&X(U,`missing type "${Re.join(",")}" for keyword "${ne}"`)}}}function oe(U,J){return U.includes(J)||J==="number"&&U.includes("integer")}function re(U,J){return U.includes(J)||J==="integer"&&U.includes("number")}function q(U,J){const de=[];for(const ne of U.dataTypes)re(J,ne)?de.push(ne):J.includes("integer")&&ne==="number"&&de.push("integer");U.dataTypes=de}function X(U,J){const de=U.schemaEnv.baseId+U.errSchemaPath;J+=` at "${de}" (strictTypes)`,(0,d.checkStrictMode)(U,J,U.opts.strictTypes)}class fe{constructor(J,de,ne){if((0,s.validateKeywordUsage)(J,de,ne),this.gen=J.gen,this.allErrors=J.allErrors,this.keyword=ne,this.data=J.data,this.schema=J.schema[ne],this.$data=de.$data&&J.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(J,this.schema,ne,this.$data),this.schemaType=de.schemaType,this.parentSchema=J.schema,this.params={},this.it=J,this.def=de,this.$data)this.schemaCode=J.gen.const("vSchema",we(this.$data,J));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,de.schemaType,de.allowUndefined))throw new Error(`${ne} value must be ${JSON.stringify(de.schemaType)}`);("code"in de?de.trackErrors:de.errors!==!1)&&(this.errsCount=J.gen.const("_errs",c.default.errors))}result(J,de,ne){this.failResult((0,u.not)(J),de,ne)}failResult(J,de,ne){this.gen.if(J),ne?ne():this.error(),de?(this.gen.else(),de(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(J,de){this.failResult((0,u.not)(J),void 0,de)}fail(J){if(J===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(J),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(J){if(!this.$data)return this.fail(J);const{schemaCode:de}=this;this.fail((0,u._)`${de} !== undefined && (${(0,u.or)(this.invalid$data(),J)})`)}error(J,de,ne){if(de){this.setParams(de),this._error(J,ne),this.setParams({});return}this._error(J,ne)}_error(J,de){(J?h.reportExtraError:h.reportError)(this,this.def.error,de)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(J){this.allErrors||this.gen.if(J)}setParams(J,de){de?Object.assign(this.params,J):this.params=J}block$data(J,de,ne=u.nil){this.gen.block(()=>{this.check$data(J,ne),de()})}check$data(J=u.nil,de=u.nil){if(!this.$data)return;const{gen:ne,schemaCode:Se,schemaType:Re,def:qe}=this;ne.if((0,u.or)((0,u._)`${Se} === undefined`,de)),J!==u.nil&&ne.assign(J,!0),(Re.length||qe.validateSchema)&&(ne.elseIf(this.invalid$data()),this.$dataError(),J!==u.nil&&ne.assign(J,!1)),ne.else()}invalid$data(){const{gen:J,schemaCode:de,schemaType:ne,def:Se,it:Re}=this;return(0,u.or)(qe(),Rt());function qe(){if(ne.length){if(!(de instanceof u.Name))throw new Error("ajv implementation error");const Tt=Array.isArray(ne)?ne:[ne];return(0,u._)`${(0,r.checkDataTypes)(Tt,de,Re.opts.strictNumbers,r.DataType.Wrong)}`}return u.nil}function Rt(){if(Se.validateSchema){const Tt=J.scopeValue("validate$data",{ref:Se.validateSchema});return(0,u._)`!${Tt}(${de})`}return u.nil}}subschema(J,de){const ne=(0,o.getSubschema)(this.it,J);(0,o.extendSubschemaData)(ne,this.it,J),(0,o.extendSubschemaMode)(ne,J);const Se={...this.it,...ne,items:void 0,props:void 0};return m(Se,de),Se}mergeEvaluated(J,de){const{it:ne,gen:Se}=this;ne.opts.unevaluated&&(ne.props!==!0&&J.props!==void 0&&(ne.props=d.mergeEvaluated.props(Se,J.props,ne.props,de)),ne.items!==!0&&J.items!==void 0&&(ne.items=d.mergeEvaluated.items(Se,J.items,ne.items,de)))}mergeValidEvaluated(J,de){const{it:ne,gen:Se}=this;if(ne.opts.unevaluated&&(ne.props!==!0||ne.items!==!0))return Se.if(de,()=>this.mergeEvaluated(J,u.Name)),!0}}bi.KeywordCxt=fe;function $e(U,J,de,ne){const Se=new fe(U,de,J);"code"in de?de.code(Se,ne):Se.$data&&de.validate?(0,s.funcKeywordCode)(Se,de):"macro"in de?(0,s.macroKeywordCode)(Se,de):(de.compile||de.validate)&&(0,s.funcKeywordCode)(Se,de)}const ke=/^\/(?:[^~]|~0|~1)*$/,Fe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function we(U,{dataLevel:J,dataNames:de,dataPathArr:ne}){let Se,Re;if(U==="")return c.default.rootData;if(U[0]==="/"){if(!ke.test(U))throw new Error(`Invalid JSON-pointer: ${U}`);Se=U,Re=c.default.rootData}else{const dt=Fe.exec(U);if(!dt)throw new Error(`Invalid JSON-pointer: ${U}`);const Ke=+dt[1];if(Se=dt[2],Se==="#"){if(Ke>=J)throw new Error(Tt("property/index",Ke));return ne[J-Ke]}if(Ke>J)throw new Error(Tt("data",Ke));if(Re=de[J-Ke],!Se)return Re}let qe=Re;const Rt=Se.split("/");for(const dt of Rt)dt&&(Re=(0,u._)`${Re}${(0,u.getProperty)((0,d.unescapeJsonPointer)(dt))}`,qe=(0,u._)`${qe} && ${Re}`);return qe;function Tt(dt,Ke){return`Cannot access ${dt} ${Ke} levels up, current level is ${J}`}}return bi.getData=we,bi}var ul={},mb;function cu(){if(mb)return ul;mb=1,Object.defineProperty(ul,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return ul.default=e,ul}var cl={},gb;function Vo(){if(gb)return cl;gb=1,Object.defineProperty(cl,"__esModule",{value:!0});const e=al();class t extends Error{constructor(r,i,s,o){super(o||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return cl.default=t,cl}var Xn={},yb;function ll(){if(yb)return Xn;yb=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.resolveSchema=Xn.getCompilingSchema=Xn.resolveRef=Xn.compileSchema=Xn.SchemaEnv=void 0;const e=Qe(),t=cu(),n=Rr(),r=al(),i=lt(),s=Uo();class o{constructor(T){var b;this.refs={},this.dynamicAnchors={};let m;typeof T.schema=="object"&&(m=T.schema),this.schema=T.schema,this.schemaId=T.schemaId,this.root=T.root||this,this.baseId=(b=T.baseId)!==null&&b!==void 0?b:(0,r.normalizeId)(m?.[T.schemaId||"$id"]),this.schemaPath=T.schemaPath,this.localRefs=T.localRefs,this.meta=T.meta,this.$async=m?.$async,this.refs={}}}Xn.SchemaEnv=o;function u(_){const T=d.call(this,_);if(T)return T;const b=(0,r.getFullPath)(this.opts.uriResolver,_.root.baseId),{es5:m,lines:y}=this.opts.code,{ownProperties:p}=this.opts,D=new e.CodeGen(this.scope,{es5:m,lines:y,ownProperties:p});let E;_.$async&&(E=D.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const P=D.scopeName("validate");_.validateName=P;const C={gen:D,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:D.scopeValue("schema",this.opts.code.source===!0?{ref:_.schema,code:(0,e.stringify)(_.schema)}:{ref:_.schema}),validateName:P,ValidationError:E,schema:_.schema,schemaEnv:_,rootId:b,baseId:_.baseId||b,schemaPath:e.nil,errSchemaPath:_.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let R;try{this._compilations.add(_),(0,s.validateFunctionCode)(C),D.optimize(this.opts.code.optimize);const I=D.toString();R=`${D.scopeRefs(n.default.scope)}return ${I}`,this.opts.code.process&&(R=this.opts.code.process(R,_));const j=new Function(`${n.default.self}`,`${n.default.scope}`,R)(this,this.scope.get());if(this.scope.value(P,{ref:j}),j.errors=null,j.schema=_.schema,j.schemaEnv=_,_.$async&&(j.$async=!0),this.opts.code.source===!0&&(j.source={validateName:P,validateCode:I,scopeValues:D._values}),this.opts.unevaluated){const{props:Q,items:ae}=C;j.evaluated={props:Q instanceof e.Name?void 0:Q,items:ae instanceof e.Name?void 0:ae,dynamicProps:Q instanceof e.Name,dynamicItems:ae instanceof e.Name},j.source&&(j.source.evaluated=(0,e.stringify)(j.evaluated))}return _.validate=j,_}catch(I){throw delete _.validate,delete _.validateName,R&&this.logger.error("Error compiling schema, function code:",R),I}finally{this._compilations.delete(_)}}Xn.compileSchema=u;function c(_,T,b){var m;b=(0,r.resolveUrl)(this.opts.uriResolver,T,b);const y=_.refs[b];if(y)return y;let p=v.call(this,_,b);if(p===void 0){const D=(m=_.localRefs)===null||m===void 0?void 0:m[b],{schemaId:E}=this.opts;D&&(p=new o({schema:D,schemaId:E,root:_,baseId:T}))}if(p!==void 0)return _.refs[b]=f.call(this,p)}Xn.resolveRef=c;function f(_){return(0,r.inlineRef)(_.schema,this.opts.inlineRefs)?_.schema:_.validate?_:u.call(this,_)}function d(_){for(const T of this._compilations)if(h(T,_))return T}Xn.getCompilingSchema=d;function h(_,T){return _.schema===T.schema&&_.root===T.root&&_.baseId===T.baseId}function v(_,T){let b;for(;typeof(b=this.refs[T])=="string";)T=b;return b||this.schemas[T]||w.call(this,_,T)}function w(_,T){const b=this.opts.uriResolver.parse(T),m=(0,r._getFullPath)(this.opts.uriResolver,b);let y=(0,r.getFullPath)(this.opts.uriResolver,_.baseId,void 0);if(Object.keys(_.schema).length>0&&m===y)return $.call(this,b,_);const p=(0,r.normalizeId)(m),D=this.refs[p]||this.schemas[p];if(typeof D=="string"){const E=w.call(this,_,D);return typeof E?.schema!="object"?void 0:$.call(this,b,E)}if(typeof D?.schema=="object"){if(D.validate||u.call(this,D),p===(0,r.normalizeId)(T)){const{schema:E}=D,{schemaId:P}=this.opts,C=E[P];return C&&(y=(0,r.resolveUrl)(this.opts.uriResolver,y,C)),new o({schema:E,schemaId:P,root:_,baseId:y})}return $.call(this,b,D)}}Xn.resolveSchema=w;const k=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function $(_,{baseId:T,schema:b,root:m}){var y;if(((y=_.fragment)===null||y===void 0?void 0:y[0])!=="/")return;for(const E of _.fragment.slice(1).split("/")){if(typeof b=="boolean")return;const P=b[(0,i.unescapeFragment)(E)];if(P===void 0)return;b=P;const C=typeof b=="object"&&b[this.opts.schemaId];!k.has(E)&&C&&(T=(0,r.resolveUrl)(this.opts.uriResolver,T,C))}let p;if(typeof b!="boolean"&&b.$ref&&!(0,i.schemaHasRulesButRef)(b,this.RULES)){const E=(0,r.resolveUrl)(this.opts.uriResolver,T,b.$ref);p=w.call(this,m,E)}const{schemaId:D}=this.opts;if(p=p||new o({schema:b,schemaId:D,root:m,baseId:T}),p.schema!==p.root.schema)return p}return Xn}var gC={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},fl={},lu={exports:{}},Rp,vb;function yC(){return vb||(vb=1,Rp={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Rp}var Fp,bb;function vC(){if(bb)return Fp;bb=1;const{HEX:e}=yC(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function n($){if(u($,".")<3)return{host:$,isIPV4:!1};const _=$.match(t)||[],[T]=_;return T?{host:o(T,"."),isIPV4:!0}:{host:$,isIPV4:!1}}function r($,_=!1){let T="",b=!0;for(const m of $){if(e[m]===void 0)return;m!=="0"&&b===!0&&(b=!1),b||(T+=m)}return _&&T.length===0&&(T="0"),T}function i($){let _=0;const T={error:!1,address:"",zone:""},b=[],m=[];let y=!1,p=!1,D=!1;function E(){if(m.length){if(y===!1){const P=r(m);if(P!==void 0)b.push(P);else return T.error=!0,!1}m.length=0}return!0}for(let P=0;P<$.length;P++){const C=$[P];if(!(C==="["||C==="]"))if(C===":"){if(p===!0&&(D=!0),!E())break;if(_++,b.push(":"),_>7){T.error=!0;break}P-1>=0&&$[P-1]===":"&&(p=!0);continue}else if(C==="%"){if(!E())break;y=!0}else{m.push(C);continue}}return m.length&&(y?T.zone=m.join(""):D?b.push(m.join("")):b.push(r(m))),T.address=b.join(""),T}function s($){if(u($,":")<2)return{host:$,isIPV6:!1};const _=i($);if(_.error)return{host:$,isIPV6:!1};{let T=_.address,b=_.address;return _.zone&&(T+="%"+_.zone,b+="%25"+_.zone),{host:T,escapedHost:b,isIPV6:!0}}}function o($,_){let T="",b=!0;const m=$.length;for(let y=0;y<m;y++){const p=$[y];p==="0"&&b?(y+1<=m&&$[y+1]===_||y+1===m)&&(T+=p,b=!1):(p===_?b=!0:b=!1,T+=p)}return T}function u($,_){let T=0;for(let b=0;b<$.length;b++)$[b]===_&&T++;return T}const c=/^\.\.?\//u,f=/^\/\.(?:\/|$)/u,d=/^\/\.\.(?:\/|$)/u,h=/^\/?(?:.|\n)*?(?=\/|$)/u;function v($){const _=[];for(;$.length;)if($.match(c))$=$.replace(c,"");else if($.match(f))$=$.replace(f,"/");else if($.match(d))$=$.replace(d,"/"),_.pop();else if($==="."||$==="..")$="";else{const T=$.match(h);if(T){const b=T[0];$=$.slice(b.length),_.push(b)}else throw new Error("Unexpected dot segment condition")}return _.join("")}function w($,_){const T=_!==!0?escape:unescape;return $.scheme!==void 0&&($.scheme=T($.scheme)),$.userinfo!==void 0&&($.userinfo=T($.userinfo)),$.host!==void 0&&($.host=T($.host)),$.path!==void 0&&($.path=T($.path)),$.query!==void 0&&($.query=T($.query)),$.fragment!==void 0&&($.fragment=T($.fragment)),$}function k($){const _=[];if($.userinfo!==void 0&&(_.push($.userinfo),_.push("@")),$.host!==void 0){let T=unescape($.host);const b=n(T);if(b.isIPV4)T=b.host;else{const m=s(b.host);m.isIPV6===!0?T=`[${m.escapedHost}]`:T=$.host}_.push(T)}return(typeof $.port=="number"||typeof $.port=="string")&&(_.push(":"),_.push(String($.port))),_.length?_.join(""):void 0}return Fp={recomposeAuthority:k,normalizeComponentEncoding:w,removeDotSegments:v,normalizeIPv4:n,normalizeIPv6:s,stringArrayToHexStripped:r},Fp}var Ip,Db;function bC(){if(Db)return Ip;Db=1;const e=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(b){return typeof b.secure=="boolean"?b.secure:String(b.scheme).toLowerCase()==="wss"}function r(b){return b.host||(b.error=b.error||"HTTP URIs must have a host."),b}function i(b){const m=String(b.scheme).toLowerCase()==="https";return(b.port===(m?443:80)||b.port==="")&&(b.port=void 0),b.path||(b.path="/"),b}function s(b){return b.secure=n(b),b.resourceName=(b.path||"/")+(b.query?"?"+b.query:""),b.path=void 0,b.query=void 0,b}function o(b){if((b.port===(n(b)?443:80)||b.port==="")&&(b.port=void 0),typeof b.secure=="boolean"&&(b.scheme=b.secure?"wss":"ws",b.secure=void 0),b.resourceName){const[m,y]=b.resourceName.split("?");b.path=m&&m!=="/"?m:void 0,b.query=y,b.resourceName=void 0}return b.fragment=void 0,b}function u(b,m){if(!b.path)return b.error="URN can not be parsed",b;const y=b.path.match(t);if(y){const p=m.scheme||b.scheme||"urn";b.nid=y[1].toLowerCase(),b.nss=y[2];const D=`${p}:${m.nid||b.nid}`,E=T[D];b.path=void 0,E&&(b=E.parse(b,m))}else b.error=b.error||"URN can not be parsed.";return b}function c(b,m){const y=m.scheme||b.scheme||"urn",p=b.nid.toLowerCase(),D=`${y}:${m.nid||p}`,E=T[D];E&&(b=E.serialize(b,m));const P=b,C=b.nss;return P.path=`${p||m.nid}:${C}`,m.skipEscape=!0,P}function f(b,m){const y=b;return y.uuid=y.nss,y.nss=void 0,!m.tolerant&&(!y.uuid||!e.test(y.uuid))&&(y.error=y.error||"UUID is not valid."),y}function d(b){const m=b;return m.nss=(b.uuid||"").toLowerCase(),m}const h={scheme:"http",domainHost:!0,parse:r,serialize:i},v={scheme:"https",domainHost:h.domainHost,parse:r,serialize:i},w={scheme:"ws",domainHost:!0,parse:s,serialize:o},k={scheme:"wss",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize},T={http:h,https:v,ws:w,wss:k,urn:{scheme:"urn",parse:u,serialize:c,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:f,serialize:d,skipNormalize:!0}};return Ip=T,Ip}var wb;function DC(){if(wb)return lu.exports;wb=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:n,recomposeAuthority:r,normalizeComponentEncoding:i}=vC(),s=bC();function o(_,T){return typeof _=="string"?_=d(k(_,T),T):typeof _=="object"&&(_=k(d(_,T),T)),_}function u(_,T,b){const m=Object.assign({scheme:"null"},b),y=c(k(_,m),k(T,m),m,!0);return d(y,{...m,skipEscape:!0})}function c(_,T,b,m){const y={};return m||(_=k(d(_,b),b),T=k(d(T,b),b)),b=b||{},!b.tolerant&&T.scheme?(y.scheme=T.scheme,y.userinfo=T.userinfo,y.host=T.host,y.port=T.port,y.path=n(T.path||""),y.query=T.query):(T.userinfo!==void 0||T.host!==void 0||T.port!==void 0?(y.userinfo=T.userinfo,y.host=T.host,y.port=T.port,y.path=n(T.path||""),y.query=T.query):(T.path?(T.path.charAt(0)==="/"?y.path=n(T.path):((_.userinfo!==void 0||_.host!==void 0||_.port!==void 0)&&!_.path?y.path="/"+T.path:_.path?y.path=_.path.slice(0,_.path.lastIndexOf("/")+1)+T.path:y.path=T.path,y.path=n(y.path)),y.query=T.query):(y.path=_.path,T.query!==void 0?y.query=T.query:y.query=_.query),y.userinfo=_.userinfo,y.host=_.host,y.port=_.port),y.scheme=_.scheme),y.fragment=T.fragment,y}function f(_,T,b){return typeof _=="string"?(_=unescape(_),_=d(i(k(_,b),!0),{...b,skipEscape:!0})):typeof _=="object"&&(_=d(i(_,!0),{...b,skipEscape:!0})),typeof T=="string"?(T=unescape(T),T=d(i(k(T,b),!0),{...b,skipEscape:!0})):typeof T=="object"&&(T=d(i(T,!0),{...b,skipEscape:!0})),_.toLowerCase()===T.toLowerCase()}function d(_,T){const b={host:_.host,scheme:_.scheme,userinfo:_.userinfo,port:_.port,path:_.path,query:_.query,nid:_.nid,nss:_.nss,uuid:_.uuid,fragment:_.fragment,reference:_.reference,resourceName:_.resourceName,secure:_.secure,error:""},m=Object.assign({},T),y=[],p=s[(m.scheme||b.scheme||"").toLowerCase()];p&&p.serialize&&p.serialize(b,m),b.path!==void 0&&(m.skipEscape?b.path=unescape(b.path):(b.path=escape(b.path),b.scheme!==void 0&&(b.path=b.path.split("%3A").join(":")))),m.reference!=="suffix"&&b.scheme&&y.push(b.scheme,":");const D=r(b);if(D!==void 0&&(m.reference!=="suffix"&&y.push("//"),y.push(D),b.path&&b.path.charAt(0)!=="/"&&y.push("/")),b.path!==void 0){let E=b.path;!m.absolutePath&&(!p||!p.absolutePath)&&(E=n(E)),D===void 0&&(E=E.replace(/^\/\//u,"/%2F")),y.push(E)}return b.query!==void 0&&y.push("?",b.query),b.fragment!==void 0&&y.push("#",b.fragment),y.join("")}const h=Array.from({length:127},(_,T)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(T)));function v(_){let T=0;for(let b=0,m=_.length;b<m;++b)if(T=_.charCodeAt(b),T>126||h[T])return!0;return!1}const w=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function k(_,T){const b=Object.assign({},T),m={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},y=_.indexOf("%")!==-1;let p=!1;b.reference==="suffix"&&(_=(b.scheme?b.scheme+":":"")+"//"+_);const D=_.match(w);if(D){if(m.scheme=D[1],m.userinfo=D[3],m.host=D[4],m.port=parseInt(D[5],10),m.path=D[6]||"",m.query=D[7],m.fragment=D[8],isNaN(m.port)&&(m.port=D[5]),m.host){const P=t(m.host);if(P.isIPV4===!1){const C=e(P.host);m.host=C.host.toLowerCase(),p=C.isIPV6}else m.host=P.host,p=!0}m.scheme===void 0&&m.userinfo===void 0&&m.host===void 0&&m.port===void 0&&m.query===void 0&&!m.path?m.reference="same-document":m.scheme===void 0?m.reference="relative":m.fragment===void 0?m.reference="absolute":m.reference="uri",b.reference&&b.reference!=="suffix"&&b.reference!==m.reference&&(m.error=m.error||"URI is not a "+b.reference+" reference.");const E=s[(b.scheme||m.scheme||"").toLowerCase()];if(!b.unicodeSupport&&(!E||!E.unicodeSupport)&&m.host&&(b.domainHost||E&&E.domainHost)&&p===!1&&v(m.host))try{m.host=URL.domainToASCII(m.host.toLowerCase())}catch(P){m.error=m.error||"Host's domain name can not be converted to ASCII: "+P}(!E||E&&!E.skipNormalize)&&(y&&m.scheme!==void 0&&(m.scheme=unescape(m.scheme)),y&&m.host!==void 0&&(m.host=unescape(m.host)),m.path&&(m.path=escape(unescape(m.path))),m.fragment&&(m.fragment=encodeURI(decodeURIComponent(m.fragment)))),E&&E.parse&&E.parse(m,b)}else m.error=m.error||"URI can not be parsed.";return m}const $={SCHEMES:s,normalize:o,resolve:u,resolveComponents:c,equal:f,serialize:d,parse:k};return lu.exports=$,lu.exports.default=$,lu.exports.fastUri=$,lu.exports}var _b;function wC(){if(_b)return fl;_b=1,Object.defineProperty(fl,"__esModule",{value:!0});const e=DC();return e.code='require("ajv/dist/runtime/uri").default',fl.default=e,fl}var Eb;function Ws(){return Eb||(Eb=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Uo();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Qe();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=cu(),i=Vo(),s=nb(),o=ll(),u=Qe(),c=al(),f=ol(),d=lt(),h=gC,v=wC(),w=(ge,V)=>new RegExp(ge,V);w.code="new RegExp";const k=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},T={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function m(ge){var V,oe,re,q,X,fe,$e,ke,Fe,we,U,J,de,ne,Se,Re,qe,Rt,Tt,dt,Ke,Ft,At,Xt,yt;const Y=ge.strict,B=(V=ge.code)===null||V===void 0?void 0:V.optimize,x=B===!0||B===void 0?1:B||0,W=(re=(oe=ge.code)===null||oe===void 0?void 0:oe.regExp)!==null&&re!==void 0?re:w,O=(q=ge.uriResolver)!==null&&q!==void 0?q:v.default;return{strictSchema:(fe=(X=ge.strictSchema)!==null&&X!==void 0?X:Y)!==null&&fe!==void 0?fe:!0,strictNumbers:(ke=($e=ge.strictNumbers)!==null&&$e!==void 0?$e:Y)!==null&&ke!==void 0?ke:!0,strictTypes:(we=(Fe=ge.strictTypes)!==null&&Fe!==void 0?Fe:Y)!==null&&we!==void 0?we:"log",strictTuples:(J=(U=ge.strictTuples)!==null&&U!==void 0?U:Y)!==null&&J!==void 0?J:"log",strictRequired:(ne=(de=ge.strictRequired)!==null&&de!==void 0?de:Y)!==null&&ne!==void 0?ne:!1,code:ge.code?{...ge.code,optimize:x,regExp:W}:{optimize:x,regExp:W},loopRequired:(Se=ge.loopRequired)!==null&&Se!==void 0?Se:b,loopEnum:(Re=ge.loopEnum)!==null&&Re!==void 0?Re:b,meta:(qe=ge.meta)!==null&&qe!==void 0?qe:!0,messages:(Rt=ge.messages)!==null&&Rt!==void 0?Rt:!0,inlineRefs:(Tt=ge.inlineRefs)!==null&&Tt!==void 0?Tt:!0,schemaId:(dt=ge.schemaId)!==null&&dt!==void 0?dt:"$id",addUsedSchema:(Ke=ge.addUsedSchema)!==null&&Ke!==void 0?Ke:!0,validateSchema:(Ft=ge.validateSchema)!==null&&Ft!==void 0?Ft:!0,validateFormats:(At=ge.validateFormats)!==null&&At!==void 0?At:!0,unicodeRegExp:(Xt=ge.unicodeRegExp)!==null&&Xt!==void 0?Xt:!0,int32range:(yt=ge.int32range)!==null&&yt!==void 0?yt:!0,uriResolver:O}}class y{constructor(V={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,V=this.opts={...V,...m(V)};const{es5:oe,lines:re}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:$,es5:oe,lines:re}),this.logger=F(V.logger);const q=V.validateFormats;V.validateFormats=!1,this.RULES=(0,s.getRules)(),p.call(this,_,V,"NOT SUPPORTED"),p.call(this,T,V,"DEPRECATED","warn"),this._metaOpts=R.call(this),V.formats&&P.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),V.keywords&&C.call(this,V.keywords),typeof V.meta=="object"&&this.addMetaSchema(V.meta),E.call(this),V.validateFormats=q}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:V,meta:oe,schemaId:re}=this.opts;let q=h;re==="id"&&(q={...h},q.id=q.$id,delete q.$id),oe&&V&&this.addMetaSchema(q,q[re],!1)}defaultMeta(){const{meta:V,schemaId:oe}=this.opts;return this.opts.defaultMeta=typeof V=="object"?V[oe]||V:void 0}validate(V,oe){let re;if(typeof V=="string"){if(re=this.getSchema(V),!re)throw new Error(`no schema with key or ref "${V}"`)}else re=this.compile(V);const q=re(oe);return"$async"in re||(this.errors=re.errors),q}compile(V,oe){const re=this._addSchema(V,oe);return re.validate||this._compileSchemaEnv(re)}compileAsync(V,oe){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:re}=this.opts;return q.call(this,V,oe);async function q(we,U){await X.call(this,we.$schema);const J=this._addSchema(we,U);return J.validate||fe.call(this,J)}async function X(we){we&&!this.getSchema(we)&&await q.call(this,{$ref:we},!0)}async function fe(we){try{return this._compileSchemaEnv(we)}catch(U){if(!(U instanceof i.default))throw U;return $e.call(this,U),await ke.call(this,U.missingSchema),fe.call(this,we)}}function $e({missingSchema:we,missingRef:U}){if(this.refs[we])throw new Error(`AnySchema ${we} is loaded but ${U} cannot be resolved`)}async function ke(we){const U=await Fe.call(this,we);this.refs[we]||await X.call(this,U.$schema),this.refs[we]||this.addSchema(U,we,oe)}async function Fe(we){const U=this._loading[we];if(U)return U;try{return await(this._loading[we]=re(we))}finally{delete this._loading[we]}}}addSchema(V,oe,re,q=this.opts.validateSchema){if(Array.isArray(V)){for(const fe of V)this.addSchema(fe,void 0,re,q);return this}let X;if(typeof V=="object"){const{schemaId:fe}=this.opts;if(X=V[fe],X!==void 0&&typeof X!="string")throw new Error(`schema ${fe} must be string`)}return oe=(0,c.normalizeId)(oe||X),this._checkUnique(oe),this.schemas[oe]=this._addSchema(V,re,oe,q,!0),this}addMetaSchema(V,oe,re=this.opts.validateSchema){return this.addSchema(V,oe,!0,re),this}validateSchema(V,oe){if(typeof V=="boolean")return!0;let re;if(re=V.$schema,re!==void 0&&typeof re!="string")throw new Error("$schema must be a string");if(re=re||this.opts.defaultMeta||this.defaultMeta(),!re)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const q=this.validate(re,V);if(!q&&oe){const X="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(X);else throw new Error(X)}return q}getSchema(V){let oe;for(;typeof(oe=D.call(this,V))=="string";)V=oe;if(oe===void 0){const{schemaId:re}=this.opts,q=new o.SchemaEnv({schema:{},schemaId:re});if(oe=o.resolveSchema.call(this,q,V),!oe)return;this.refs[V]=oe}return oe.validate||this._compileSchemaEnv(oe)}removeSchema(V){if(V instanceof RegExp)return this._removeAllSchemas(this.schemas,V),this._removeAllSchemas(this.refs,V),this;switch(typeof V){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const oe=D.call(this,V);return typeof oe=="object"&&this._cache.delete(oe.schema),delete this.schemas[V],delete this.refs[V],this}case"object":{const oe=V;this._cache.delete(oe);let re=V[this.opts.schemaId];return re&&(re=(0,c.normalizeId)(re),delete this.schemas[re],delete this.refs[re]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(V){for(const oe of V)this.addKeyword(oe);return this}addKeyword(V,oe){let re;if(typeof V=="string")re=V,typeof oe=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),oe.keyword=re);else if(typeof V=="object"&&oe===void 0){if(oe=V,re=oe.keyword,Array.isArray(re)&&!re.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,re,oe),!oe)return(0,d.eachItem)(re,X=>ae.call(this,X)),this;he.call(this,oe);const q={...oe,type:(0,f.getJSONTypes)(oe.type),schemaType:(0,f.getJSONTypes)(oe.schemaType)};return(0,d.eachItem)(re,q.type.length===0?X=>ae.call(this,X,q):X=>q.type.forEach(fe=>ae.call(this,X,q,fe))),this}getKeyword(V){const oe=this.RULES.all[V];return typeof oe=="object"?oe.definition:!!oe}removeKeyword(V){const{RULES:oe}=this;delete oe.keywords[V],delete oe.all[V];for(const re of oe.rules){const q=re.rules.findIndex(X=>X.keyword===V);q>=0&&re.rules.splice(q,1)}return this}addFormat(V,oe){return typeof oe=="string"&&(oe=new RegExp(oe)),this.formats[V]=oe,this}errorsText(V=this.errors,{separator:oe=", ",dataVar:re="data"}={}){return!V||V.length===0?"No errors":V.map(q=>`${re}${q.instancePath} ${q.message}`).reduce((q,X)=>q+oe+X)}$dataMetaSchema(V,oe){const re=this.RULES.all;V=JSON.parse(JSON.stringify(V));for(const q of oe){const X=q.split("/").slice(1);let fe=V;for(const $e of X)fe=fe[$e];for(const $e in re){const ke=re[$e];if(typeof ke!="object")continue;const{$data:Fe}=ke.definition,we=fe[$e];Fe&&we&&(fe[$e]=Ye(we))}}return V}_removeAllSchemas(V,oe){for(const re in V){const q=V[re];(!oe||oe.test(re))&&(typeof q=="string"?delete V[re]:q&&!q.meta&&(this._cache.delete(q.schema),delete V[re]))}}_addSchema(V,oe,re,q=this.opts.validateSchema,X=this.opts.addUsedSchema){let fe;const{schemaId:$e}=this.opts;if(typeof V=="object")fe=V[$e];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof V!="boolean")throw new Error("schema must be object or boolean")}let ke=this._cache.get(V);if(ke!==void 0)return ke;re=(0,c.normalizeId)(fe||re);const Fe=c.getSchemaRefs.call(this,V,re);return ke=new o.SchemaEnv({schema:V,schemaId:$e,meta:oe,baseId:re,localRefs:Fe}),this._cache.set(ke.schema,ke),X&&!re.startsWith("#")&&(re&&this._checkUnique(re),this.refs[re]=ke),q&&this.validateSchema(V,!0),ke}_checkUnique(V){if(this.schemas[V]||this.refs[V])throw new Error(`schema with key or id "${V}" already exists`)}_compileSchemaEnv(V){if(V.meta?this._compileMetaSchema(V):o.compileSchema.call(this,V),!V.validate)throw new Error("ajv implementation error");return V.validate}_compileMetaSchema(V){const oe=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,V)}finally{this.opts=oe}}}y.ValidationError=r.default,y.MissingRefError=i.default,e.default=y;function p(ge,V,oe,re="error"){for(const q in ge){const X=q;X in V&&this.logger[re](`${oe}: option ${q}. ${ge[X]}`)}}function D(ge){return ge=(0,c.normalizeId)(ge),this.schemas[ge]||this.refs[ge]}function E(){const ge=this.opts.schemas;if(ge)if(Array.isArray(ge))this.addSchema(ge);else for(const V in ge)this.addSchema(ge[V],V)}function P(){for(const ge in this.opts.formats){const V=this.opts.formats[ge];V&&this.addFormat(ge,V)}}function C(ge){if(Array.isArray(ge)){this.addVocabulary(ge);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const V in ge){const oe=ge[V];oe.keyword||(oe.keyword=V),this.addKeyword(oe)}}function R(){const ge={...this.opts};for(const V of k)delete ge[V];return ge}const I={log(){},warn(){},error(){}};function F(ge){if(ge===!1)return I;if(ge===void 0)return console;if(ge.log&&ge.warn&&ge.error)return ge;throw new Error("logger must implement log, warn and error methods")}const j=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(ge,V){const{RULES:oe}=this;if((0,d.eachItem)(ge,re=>{if(oe.keywords[re])throw new Error(`Keyword ${re} is already defined`);if(!j.test(re))throw new Error(`Keyword ${re} has invalid name`)}),!!V&&V.$data&&!("code"in V||"validate"in V))throw new Error('$data keyword must have "code" or "validate" function')}function ae(ge,V,oe){var re;const q=V?.post;if(oe&&q)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:X}=this;let fe=q?X.post:X.rules.find(({type:ke})=>ke===oe);if(fe||(fe={type:oe,rules:[]},X.rules.push(fe)),X.keywords[ge]=!0,!V)return;const $e={keyword:ge,definition:{...V,type:(0,f.getJSONTypes)(V.type),schemaType:(0,f.getJSONTypes)(V.schemaType)}};V.before?ce.call(this,fe,$e,V.before):fe.rules.push($e),X.all[ge]=$e,(re=V.implements)===null||re===void 0||re.forEach(ke=>this.addKeyword(ke))}function ce(ge,V,oe){const re=ge.rules.findIndex(q=>q.keyword===oe);re>=0?ge.rules.splice(re,0,V):(ge.rules.push(V),this.logger.warn(`rule ${oe} is not defined`))}function he(ge){let{metaSchema:V}=ge;V!==void 0&&(ge.$data&&this.opts.$data&&(V=Ye(V)),ge.validateSchema=this.compile(V,!0))}const Te={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ye(ge){return{anyOf:[ge,Te]}}}(kp)),kp}var dl={},hl={},pl={},Sb;function _C(){if(Sb)return pl;Sb=1,Object.defineProperty(pl,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return pl.default=e,pl}var Zi={},$b;function ml(){if($b)return Zi;$b=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.callRef=Zi.getValidate=void 0;const e=Vo(),t=Ir(),n=Qe(),r=Rr(),i=ll(),s=lt(),o={keyword:"$ref",schemaType:"string",code(f){const{gen:d,schema:h,it:v}=f,{baseId:w,schemaEnv:k,validateName:$,opts:_,self:T}=v,{root:b}=k;if((h==="#"||h==="#/")&&w===b.baseId)return y();const m=i.resolveRef.call(T,b,w,h);if(m===void 0)throw new e.default(v.opts.uriResolver,w,h);if(m instanceof i.SchemaEnv)return p(m);return D(m);function y(){if(k===b)return c(f,$,k,k.$async);const E=d.scopeValue("root",{ref:b});return c(f,(0,n._)`${E}.validate`,b,b.$async)}function p(E){const P=u(f,E);c(f,P,E,E.$async)}function D(E){const P=d.scopeValue("schema",_.code.source===!0?{ref:E,code:(0,n.stringify)(E)}:{ref:E}),C=d.name("valid"),R=f.subschema({schema:E,dataTypes:[],schemaPath:n.nil,topSchemaRef:P,errSchemaPath:h},C);f.mergeEvaluated(R),f.ok(C)}}};function u(f,d){const{gen:h}=f;return d.validate?h.scopeValue("validate",{ref:d.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:d})}.validate`}Zi.getValidate=u;function c(f,d,h,v){const{gen:w,it:k}=f,{allErrors:$,schemaEnv:_,opts:T}=k,b=T.passContext?r.default.this:n.nil;v?m():y();function m(){if(!_.$async)throw new Error("async schema referenced by sync schema");const E=w.let("valid");w.try(()=>{w.code((0,n._)`await ${(0,t.callValidateCode)(f,d,b)}`),D(d),$||w.assign(E,!0)},P=>{w.if((0,n._)`!(${P} instanceof ${k.ValidationError})`,()=>w.throw(P)),p(P),$||w.assign(E,!1)}),f.ok(E)}function y(){f.result((0,t.callValidateCode)(f,d,b),()=>D(d),()=>p(d))}function p(E){const P=(0,n._)`${E}.errors`;w.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${P} : ${r.default.vErrors}.concat(${P})`),w.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function D(E){var P;if(!k.opts.unevaluated)return;const C=(P=h?.validate)===null||P===void 0?void 0:P.evaluated;if(k.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(k.props=s.mergeEvaluated.props(w,C.props,k.props));else{const R=w.var("props",(0,n._)`${E}.evaluated.props`);k.props=s.mergeEvaluated.props(w,R,k.props,n.Name)}if(k.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(k.items=s.mergeEvaluated.items(w,C.items,k.items));else{const R=w.var("items",(0,n._)`${E}.evaluated.items`);k.items=s.mergeEvaluated.items(w,R,k.items,n.Name)}}}return Zi.callRef=c,Zi.default=o,Zi}var kb;function Tb(){if(kb)return hl;kb=1,Object.defineProperty(hl,"__esModule",{value:!0});const e=_C(),t=ml(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return hl.default=n,hl}var gl={},yl={},Ab;function EC(){if(Ab)return yl;Ab=1,Object.defineProperty(yl,"__esModule",{value:!0});const e=Qe(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:s,schemaCode:o})=>(0,e.str)`must be ${n[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,e._)`{comparison: ${n[s].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(s){const{keyword:o,data:u,schemaCode:c}=s;s.fail$data((0,e._)`${u} ${n[o].fail} ${c} || isNaN(${u})`)}};return yl.default=i,yl}var vl={},Cb;function Ob(){if(Cb)return vl;Cb=1,Object.defineProperty(vl,"__esModule",{value:!0});const e=Qe(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:s,schemaCode:o,it:u}=r,c=u.opts.multipleOfPrecision,f=i.let("res"),d=c?(0,e._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${c}`:(0,e._)`${f} !== parseInt(${f})`;r.fail$data((0,e._)`(${o} === 0 || (${f} = ${s}/${o}, ${d}))`)}};return vl.default=n,vl}var bl={},Dl={},Pb;function SC(){if(Pb)return Dl;Pb=1,Object.defineProperty(Dl,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,s;for(;i<n;)r++,s=t.charCodeAt(i++),s>=55296&&s<=56319&&i<n&&(s=t.charCodeAt(i),(s&64512)===56320&&i++);return r}return Dl.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Dl}var Nb;function Rb(){if(Nb)return bl;Nb=1,Object.defineProperty(bl,"__esModule",{value:!0});const e=Qe(),t=lt(),n=SC(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const u=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${u} than ${o} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:o,data:u,schemaCode:c,it:f}=s,d=o==="maxLength"?e.operators.GT:e.operators.LT,h=f.opts.unicode===!1?(0,e._)`${u}.length`:(0,e._)`${(0,t.useFunc)(s.gen,n.default)}(${u})`;s.fail$data((0,e._)`${h} ${d} ${c}`)}};return bl.default=i,bl}var wl={},Fb;function Ib(){if(Fb)return wl;Fb=1,Object.defineProperty(wl,"__esModule",{value:!0});const e=Ir(),t=Qe(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:s,$data:o,schema:u,schemaCode:c,it:f}=i,d=f.opts.unicodeRegExp?"u":"",h=o?(0,t._)`(new RegExp(${c}, ${d}))`:(0,e.usePattern)(i,u);i.fail$data((0,t._)`!${h}.test(${s})`)}};return wl.default=r,wl}var _l={},Mb;function Lb(){if(Mb)return _l;Mb=1,Object.defineProperty(_l,"__esModule",{value:!0});const e=Qe(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,u=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${s}).length ${u} ${o}`)}};return _l.default=n,_l}var El={},jb;function xb(){if(jb)return El;jb=1,Object.defineProperty(El,"__esModule",{value:!0});const e=Ir(),t=Qe(),n=lt(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,t.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,t._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:u,schemaCode:c,data:f,$data:d,it:h}=s,{opts:v}=h;if(!d&&u.length===0)return;const w=u.length>=v.loopRequired;if(h.allErrors?k():$(),v.strictRequired){const b=s.parentSchema.properties,{definedProperties:m}=s.it;for(const y of u)if(b?.[y]===void 0&&!m.has(y)){const p=h.schemaEnv.baseId+h.errSchemaPath,D=`required property "${y}" is not defined at "${p}" (strictRequired)`;(0,n.checkStrictMode)(h,D,h.opts.strictRequired)}}function k(){if(w||d)s.block$data(t.nil,_);else for(const b of u)(0,e.checkReportMissingProp)(s,b)}function $(){const b=o.let("missing");if(w||d){const m=o.let("valid",!0);s.block$data(m,()=>T(b,m)),s.ok(m)}else o.if((0,e.checkMissingProp)(s,u,b)),(0,e.reportMissingProp)(s,b),o.else()}function _(){o.forOf("prop",c,b=>{s.setParams({missingProperty:b}),o.if((0,e.noPropertyInData)(o,f,b,v.ownProperties),()=>s.error())})}function T(b,m){s.setParams({missingProperty:b}),o.forOf(b,c,()=>{o.assign(m,(0,e.propertyInData)(o,f,b,v.ownProperties)),o.if((0,t.not)(m),()=>{s.error(),o.break()})},t.nil)}}};return El.default=i,El}var Sl={},qb;function Bb(){if(qb)return Sl;qb=1,Object.defineProperty(Sl,"__esModule",{value:!0});const e=Qe(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,u=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${s}.length ${u} ${o}`)}};return Sl.default=n,Sl}var $l={},kl={},Wb;function Mp(){if(Wb)return kl;Wb=1,Object.defineProperty(kl,"__esModule",{value:!0});const e=fb();return e.code='require("ajv/dist/runtime/equal").default',kl.default=e,kl}var Ub;function Vb(){if(Ub)return $l;Ub=1,Object.defineProperty($l,"__esModule",{value:!0});const e=ol(),t=Qe(),n=lt(),r=Mp(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:u}})=>(0,t.str)`must NOT have duplicate items (items ## ${u} and ${o} are identical)`,params:({params:{i:o,j:u}})=>(0,t._)`{i: ${o}, j: ${u}}`},code(o){const{gen:u,data:c,$data:f,schema:d,parentSchema:h,schemaCode:v,it:w}=o;if(!f&&!d)return;const k=u.let("valid"),$=h.items?(0,e.getSchemaTypes)(h.items):[];o.block$data(k,_,(0,t._)`${v} === false`),o.ok(k);function _(){const y=u.let("i",(0,t._)`${c}.length`),p=u.let("j");o.setParams({i:y,j:p}),u.assign(k,!0),u.if((0,t._)`${y} > 1`,()=>(T()?b:m)(y,p))}function T(){return $.length>0&&!$.some(y=>y==="object"||y==="array")}function b(y,p){const D=u.name("item"),E=(0,e.checkDataTypes)($,D,w.opts.strictNumbers,e.DataType.Wrong),P=u.const("indices",(0,t._)`{}`);u.for((0,t._)`;${y}--;`,()=>{u.let(D,(0,t._)`${c}[${y}]`),u.if(E,(0,t._)`continue`),$.length>1&&u.if((0,t._)`typeof ${D} == "string"`,(0,t._)`${D} += "_"`),u.if((0,t._)`typeof ${P}[${D}] == "number"`,()=>{u.assign(p,(0,t._)`${P}[${D}]`),o.error(),u.assign(k,!1).break()}).code((0,t._)`${P}[${D}] = ${y}`)})}function m(y,p){const D=(0,n.useFunc)(u,r.default),E=u.name("outer");u.label(E).for((0,t._)`;${y}--;`,()=>u.for((0,t._)`${p} = ${y}; ${p}--;`,()=>u.if((0,t._)`${D}(${c}[${y}], ${c}[${p}])`,()=>{o.error(),u.assign(k,!1).break(E)})))}}};return $l.default=s,$l}var Tl={},Hb;function Kb(){if(Hb)return Tl;Hb=1,Object.defineProperty(Tl,"__esModule",{value:!0});const e=Qe(),t=lt(),n=Mp(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:u,$data:c,schemaCode:f,schema:d}=s;c||d&&typeof d=="object"?s.fail$data((0,e._)`!${(0,t.useFunc)(o,n.default)}(${u}, ${f})`):s.fail((0,e._)`${d} !== ${u}`)}};return Tl.default=i,Tl}var Al={},zb;function Yb(){if(zb)return Al;zb=1,Object.defineProperty(Al,"__esModule",{value:!0});const e=Qe(),t=lt(),n=Mp(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:u,$data:c,schema:f,schemaCode:d,it:h}=s;if(!c&&f.length===0)throw new Error("enum must have non-empty array");const v=f.length>=h.opts.loopEnum;let w;const k=()=>w??(w=(0,t.useFunc)(o,n.default));let $;if(v||c)$=o.let("valid"),s.block$data($,_);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const b=o.const("vSchema",d);$=(0,e.or)(...f.map((m,y)=>T(b,y)))}s.pass($);function _(){o.assign($,!1),o.forOf("v",d,b=>o.if((0,e._)`${k()}(${u}, ${b})`,()=>o.assign($,!0).break()))}function T(b,m){const y=f[m];return typeof y=="object"&&y!==null?(0,e._)`${k()}(${u}, ${b}[${m}])`:(0,e._)`${u} === ${y}`}}};return Al.default=i,Al}var Gb;function Jb(){if(Gb)return gl;Gb=1,Object.defineProperty(gl,"__esModule",{value:!0});const e=EC(),t=Ob(),n=Rb(),r=Ib(),i=Lb(),s=xb(),o=Bb(),u=Vb(),c=Kb(),f=Yb(),d=[e.default,t.default,n.default,r.default,i.default,s.default,o.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,f.default];return gl.default=d,gl}var Cl={},Ho={},Qb;function Xb(){if(Qb)return Ho;Qb=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.validateAdditionalItems=void 0;const e=Qe(),t=lt(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:u}=s,{items:c}=o;if(!Array.isArray(c)){(0,t.checkStrictMode)(u,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,c)}};function i(s,o){const{gen:u,schema:c,data:f,keyword:d,it:h}=s;h.items=!0;const v=u.const("len",(0,e._)`${f}.length`);if(c===!1)s.setParams({len:o.length}),s.pass((0,e._)`${v} <= ${o.length}`);else if(typeof c=="object"&&!(0,t.alwaysValidSchema)(h,c)){const k=u.var("valid",(0,e._)`${v} <= ${o.length}`);u.if((0,e.not)(k),()=>w(k)),s.ok(k)}function w(k){u.forRange("i",o.length,v,$=>{s.subschema({keyword:d,dataProp:$,dataPropType:t.Type.Num},k),h.allErrors||u.if((0,e.not)(k),()=>u.break())})}}return Ho.validateAdditionalItems=i,Ho.default=r,Ho}var Ol={},Ko={},Zb;function eD(){if(Zb)return Ko;Zb=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.validateTuple=void 0;const e=Qe(),t=lt(),n=Ir(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:u}=s;if(Array.isArray(o))return i(s,"additionalItems",o);u.items=!0,!(0,t.alwaysValidSchema)(u,o)&&s.ok((0,n.validateArray)(s))}};function i(s,o,u=s.schema){const{gen:c,parentSchema:f,data:d,keyword:h,it:v}=s;$(f),v.opts.unevaluated&&u.length&&v.items!==!0&&(v.items=t.mergeEvaluated.items(c,u.length,v.items));const w=c.name("valid"),k=c.const("len",(0,e._)`${d}.length`);u.forEach((_,T)=>{(0,t.alwaysValidSchema)(v,_)||(c.if((0,e._)`${k} > ${T}`,()=>s.subschema({keyword:h,schemaProp:T,dataProp:T},w)),s.ok(w))});function $(_){const{opts:T,errSchemaPath:b}=v,m=u.length,y=m===_.minItems&&(m===_.maxItems||_[o]===!1);if(T.strictTuples&&!y){const p=`"${h}" is ${m}-tuple, but minItems or maxItems/${o} are not specified or different at path "${b}"`;(0,t.checkStrictMode)(v,p,T.strictTuples)}}}return Ko.validateTuple=i,Ko.default=r,Ko}var tD;function $C(){if(tD)return Ol;tD=1,Object.defineProperty(Ol,"__esModule",{value:!0});const e=eD(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return Ol.default=t,Ol}var Pl={},nD;function kC(){if(nD)return Pl;nD=1,Object.defineProperty(Pl,"__esModule",{value:!0});const e=Qe(),t=lt(),n=Ir(),r=Xb(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:u,parentSchema:c,it:f}=o,{prefixItems:d}=c;f.items=!0,!(0,t.alwaysValidSchema)(f,u)&&(d?(0,r.validateAdditionalItems)(o,d):o.ok((0,n.validateArray)(o)))}};return Pl.default=s,Pl}var Nl={},rD;function TC(){if(rD)return Nl;rD=1,Object.defineProperty(Nl,"__esModule",{value:!0});const e=Qe(),t=lt(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:o,parentSchema:u,data:c,it:f}=i;let d,h;const{minContains:v,maxContains:w}=u;f.opts.next?(d=v===void 0?1:v,h=w):d=1;const k=s.const("len",(0,e._)`${c}.length`);if(i.setParams({min:d,max:h}),h===void 0&&d===0){(0,t.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&d>h){(0,t.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(f,o)){let m=(0,e._)`${k} >= ${d}`;h!==void 0&&(m=(0,e._)`${m} && ${k} <= ${h}`),i.pass(m);return}f.items=!0;const $=s.name("valid");h===void 0&&d===1?T($,()=>s.if($,()=>s.break())):d===0?(s.let($,!0),h!==void 0&&s.if((0,e._)`${c}.length > 0`,_)):(s.let($,!1),_()),i.result($,()=>i.reset());function _(){const m=s.name("_valid"),y=s.let("count",0);T(m,()=>s.if(m,()=>b(y)))}function T(m,y){s.forRange("i",0,k,p=>{i.subschema({keyword:"contains",dataProp:p,dataPropType:t.Type.Num,compositeRule:!0},m),y()})}function b(m){s.code((0,e._)`${m}++`),h===void 0?s.if((0,e._)`${m} >= ${d}`,()=>s.assign($,!0).break()):(s.if((0,e._)`${m} > ${h}`,()=>s.assign($,!1).break()),d===1?s.assign($,!0):s.if((0,e._)`${m} >= ${d}`,()=>s.assign($,!0)))}}};return Nl.default=r,Nl}var Lp={},iD;function jp(){return iD||(iD=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Qe(),n=lt(),r=Ir();e.error={message:({params:{property:c,depsCount:f,deps:d}})=>{const h=f===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${c} is present`},params:({params:{property:c,depsCount:f,deps:d,missingProperty:h}})=>(0,t._)`{property: ${c},
    missingProperty: ${h},
    depsCount: ${f},
    deps: ${d}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[f,d]=s(c);o(c,f),u(c,d)}};function s({schema:c}){const f={},d={};for(const h in c){if(h==="__proto__")continue;const v=Array.isArray(c[h])?f:d;v[h]=c[h]}return[f,d]}function o(c,f=c.schema){const{gen:d,data:h,it:v}=c;if(Object.keys(f).length===0)return;const w=d.let("missing");for(const k in f){const $=f[k];if($.length===0)continue;const _=(0,r.propertyInData)(d,h,k,v.opts.ownProperties);c.setParams({property:k,depsCount:$.length,deps:$.join(", ")}),v.allErrors?d.if(_,()=>{for(const T of $)(0,r.checkReportMissingProp)(c,T)}):(d.if((0,t._)`${_} && (${(0,r.checkMissingProp)(c,$,w)})`),(0,r.reportMissingProp)(c,w),d.else())}}e.validatePropertyDeps=o;function u(c,f=c.schema){const{gen:d,data:h,keyword:v,it:w}=c,k=d.name("valid");for(const $ in f)(0,n.alwaysValidSchema)(w,f[$])||(d.if((0,r.propertyInData)(d,h,$,w.opts.ownProperties),()=>{const _=c.subschema({keyword:v,schemaProp:$},k);c.mergeValidEvaluated(_,k)},()=>d.var(k,!0)),c.ok(k))}e.validateSchemaDeps=u,e.default=i}(Lp)),Lp}var Rl={},sD;function AC(){if(sD)return Rl;sD=1,Object.defineProperty(Rl,"__esModule",{value:!0});const e=Qe(),t=lt(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:o,data:u,it:c}=i;if((0,t.alwaysValidSchema)(c,o))return;const f=s.name("valid");s.forIn("key",u,d=>{i.setParams({propertyName:d}),i.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},f),s.if((0,e.not)(f),()=>{i.error(!0),c.allErrors||s.break()})}),i.ok(f)}};return Rl.default=r,Rl}var Fl={},oD;function aD(){if(oD)return Fl;oD=1,Object.defineProperty(Fl,"__esModule",{value:!0});const e=Ir(),t=Qe(),n=Rr(),r=lt(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:u,schema:c,parentSchema:f,data:d,errsCount:h,it:v}=o;if(!h)throw new Error("ajv implementation error");const{allErrors:w,opts:k}=v;if(v.props=!0,k.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(v,c))return;const $=(0,e.allSchemaProperties)(f.properties),_=(0,e.allSchemaProperties)(f.patternProperties);T(),o.ok((0,t._)`${h} === ${n.default.errors}`);function T(){u.forIn("key",d,D=>{!$.length&&!_.length?y(D):u.if(b(D),()=>y(D))})}function b(D){let E;if($.length>8){const P=(0,r.schemaRefOrVal)(v,f.properties,"properties");E=(0,e.isOwnProperty)(u,P,D)}else $.length?E=(0,t.or)(...$.map(P=>(0,t._)`${D} === ${P}`)):E=t.nil;return _.length&&(E=(0,t.or)(E,..._.map(P=>(0,t._)`${(0,e.usePattern)(o,P)}.test(${D})`))),(0,t.not)(E)}function m(D){u.code((0,t._)`delete ${d}[${D}]`)}function y(D){if(k.removeAdditional==="all"||k.removeAdditional&&c===!1){m(D);return}if(c===!1){o.setParams({additionalProperty:D}),o.error(),w||u.break();return}if(typeof c=="object"&&!(0,r.alwaysValidSchema)(v,c)){const E=u.name("valid");k.removeAdditional==="failing"?(p(D,E,!1),u.if((0,t.not)(E),()=>{o.reset(),m(D)})):(p(D,E),w||u.if((0,t.not)(E),()=>u.break()))}}function p(D,E,P){const C={keyword:"additionalProperties",dataProp:D,dataPropType:r.Type.Str};P===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(C,E)}}};return Fl.default=s,Fl}var Il={},uD;function CC(){if(uD)return Il;uD=1,Object.defineProperty(Il,"__esModule",{value:!0});const e=Uo(),t=Ir(),n=lt(),r=aD(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:u,parentSchema:c,data:f,it:d}=s;d.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(d,r.default,"additionalProperties"));const h=(0,t.allSchemaProperties)(u);for(const _ of h)d.definedProperties.add(_);d.opts.unevaluated&&h.length&&d.props!==!0&&(d.props=n.mergeEvaluated.props(o,(0,n.toHash)(h),d.props));const v=h.filter(_=>!(0,n.alwaysValidSchema)(d,u[_]));if(v.length===0)return;const w=o.name("valid");for(const _ of v)k(_)?$(_):(o.if((0,t.propertyInData)(o,f,_,d.opts.ownProperties)),$(_),d.allErrors||o.else().var(w,!0),o.endIf()),s.it.definedProperties.add(_),s.ok(w);function k(_){return d.opts.useDefaults&&!d.compositeRule&&u[_].default!==void 0}function $(_){s.subschema({keyword:"properties",schemaProp:_,dataProp:_},w)}}};return Il.default=i,Il}var Ml={},cD;function OC(){if(cD)return Ml;cD=1,Object.defineProperty(Ml,"__esModule",{value:!0});const e=Ir(),t=Qe(),n=lt(),r=lt(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:u,data:c,parentSchema:f,it:d}=s,{opts:h}=d,v=(0,e.allSchemaProperties)(u),w=v.filter(y=>(0,n.alwaysValidSchema)(d,u[y]));if(v.length===0||w.length===v.length&&(!d.opts.unevaluated||d.props===!0))return;const k=h.strictSchema&&!h.allowMatchingProperties&&f.properties,$=o.name("valid");d.props!==!0&&!(d.props instanceof t.Name)&&(d.props=(0,r.evaluatedPropsToName)(o,d.props));const{props:_}=d;T();function T(){for(const y of v)k&&b(y),d.allErrors?m(y):(o.var($,!0),m(y),o.if($))}function b(y){for(const p in k)new RegExp(y).test(p)&&(0,n.checkStrictMode)(d,`property ${p} matches pattern ${y} (use allowMatchingProperties)`)}function m(y){o.forIn("key",c,p=>{o.if((0,t._)`${(0,e.usePattern)(s,y)}.test(${p})`,()=>{const D=w.includes(y);D||s.subschema({keyword:"patternProperties",schemaProp:y,dataProp:p,dataPropType:r.Type.Str},$),d.opts.unevaluated&&_!==!0?o.assign((0,t._)`${_}[${p}]`,!0):!D&&!d.allErrors&&o.if((0,t.not)($),()=>o.break())})})}}};return Ml.default=i,Ml}var Ll={},lD;function PC(){if(lD)return Ll;lD=1,Object.defineProperty(Ll,"__esModule",{value:!0});const e=lt(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:s}=n;if((0,e.alwaysValidSchema)(s,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return Ll.default=t,Ll}var jl={},fD;function NC(){if(fD)return jl;fD=1,Object.defineProperty(jl,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ir().validateUnion,error:{message:"must match a schema in anyOf"}};return jl.default=t,jl}var xl={},dD;function RC(){if(dD)return xl;dD=1,Object.defineProperty(xl,"__esModule",{value:!0});const e=Qe(),t=lt(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:o,parentSchema:u,it:c}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&u.discriminator)return;const f=o,d=s.let("valid",!1),h=s.let("passing",null),v=s.name("_valid");i.setParams({passing:h}),s.block(w),i.result(d,()=>i.reset(),()=>i.error(!0));function w(){f.forEach((k,$)=>{let _;(0,t.alwaysValidSchema)(c,k)?s.var(v,!0):_=i.subschema({keyword:"oneOf",schemaProp:$,compositeRule:!0},v),$>0&&s.if((0,e._)`${v} && ${d}`).assign(d,!1).assign(h,(0,e._)`[${h}, ${$}]`).else(),s.if(v,()=>{s.assign(d,!0),s.assign(h,$),_&&i.mergeEvaluated(_,e.Name)})})}}};return xl.default=r,xl}var ql={},hD;function FC(){if(hD)return ql;hD=1,Object.defineProperty(ql,"__esModule",{value:!0});const e=lt(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:s}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((u,c)=>{if((0,e.alwaysValidSchema)(s,u))return;const f=n.subschema({keyword:"allOf",schemaProp:c},o);n.ok(o),n.mergeEvaluated(f)})}};return ql.default=t,ql}var Bl={},pD;function IC(){if(pD)return Bl;pD=1,Object.defineProperty(Bl,"__esModule",{value:!0});const e=Qe(),t=lt(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:u,it:c}=s;u.then===void 0&&u.else===void 0&&(0,t.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const f=i(c,"then"),d=i(c,"else");if(!f&&!d)return;const h=o.let("valid",!0),v=o.name("_valid");if(w(),s.reset(),f&&d){const $=o.let("ifClause");s.setParams({ifClause:$}),o.if(v,k("then",$),k("else",$))}else f?o.if(v,k("then")):o.if((0,e.not)(v),k("else"));s.pass(h,()=>s.error(!0));function w(){const $=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},v);s.mergeEvaluated($)}function k($,_){return()=>{const T=s.subschema({keyword:$},v);o.assign(h,v),s.mergeValidEvaluated(T,h),_?o.assign(_,(0,e._)`${$}`):s.setParams({ifClause:$})}}}};function i(s,o){const u=s.schema[o];return u!==void 0&&!(0,t.alwaysValidSchema)(s,u)}return Bl.default=r,Bl}var Wl={},mD;function MC(){if(mD)return Wl;mD=1,Object.defineProperty(Wl,"__esModule",{value:!0});const e=lt(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return Wl.default=t,Wl}var gD;function xp(){if(gD)return Cl;gD=1,Object.defineProperty(Cl,"__esModule",{value:!0});const e=Xb(),t=$C(),n=eD(),r=kC(),i=TC(),s=jp(),o=AC(),u=aD(),c=CC(),f=OC(),d=PC(),h=NC(),v=RC(),w=FC(),k=IC(),$=MC();function _(T=!1){const b=[d.default,h.default,v.default,w.default,k.default,$.default,o.default,u.default,s.default,c.default,f.default];return T?b.push(t.default,r.default):b.push(e.default,n.default),b.push(i.default),b}return Cl.default=_,Cl}var Ul={},Vl={},yD;function LC(){if(yD)return Vl;yD=1,Object.defineProperty(Vl,"__esModule",{value:!0});const e=Qe(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:s,data:o,$data:u,schema:c,schemaCode:f,it:d}=r,{opts:h,errSchemaPath:v,schemaEnv:w,self:k}=d;if(!h.validateFormats)return;u?$():_();function $(){const T=s.scopeValue("formats",{ref:k.formats,code:h.code.formats}),b=s.const("fDef",(0,e._)`${T}[${f}]`),m=s.let("fType"),y=s.let("format");s.if((0,e._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>s.assign(m,(0,e._)`${b}.type || "string"`).assign(y,(0,e._)`${b}.validate`),()=>s.assign(m,(0,e._)`"string"`).assign(y,b)),r.fail$data((0,e.or)(p(),D()));function p(){return h.strictSchema===!1?e.nil:(0,e._)`${f} && !${y}`}function D(){const E=w.$async?(0,e._)`(${b}.async ? await ${y}(${o}) : ${y}(${o}))`:(0,e._)`${y}(${o})`,P=(0,e._)`(typeof ${y} == "function" ? ${E} : ${y}.test(${o}))`;return(0,e._)`${y} && ${y} !== true && ${m} === ${i} && !${P}`}}function _(){const T=k.formats[c];if(!T){p();return}if(T===!0)return;const[b,m,y]=D(T);b===i&&r.pass(E());function p(){if(h.strictSchema===!1){k.logger.warn(P());return}throw new Error(P());function P(){return`unknown format "${c}" ignored in schema at path "${v}"`}}function D(P){const C=P instanceof RegExp?(0,e.regexpCode)(P):h.code.formats?(0,e._)`${h.code.formats}${(0,e.getProperty)(c)}`:void 0,R=s.scopeValue("formats",{key:c,ref:P,code:C});return typeof P=="object"&&!(P instanceof RegExp)?[P.type||"string",P.validate,(0,e._)`${R}.validate`]:["string",P,R]}function E(){if(typeof T=="object"&&!(T instanceof RegExp)&&T.async){if(!w.$async)throw new Error("async format in sync schema");return(0,e._)`await ${y}(${o})`}return typeof m=="function"?(0,e._)`${y}(${o})`:(0,e._)`${y}.test(${o})`}}}};return Vl.default=n,Vl}var vD;function qp(){if(vD)return Ul;vD=1,Object.defineProperty(Ul,"__esModule",{value:!0});const t=[LC().default];return Ul.default=t,Ul}var Us={},bD;function DD(){return bD||(bD=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.contentVocabulary=Us.metadataVocabulary=void 0,Us.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Us.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Us}var wD;function _D(){if(wD)return dl;wD=1,Object.defineProperty(dl,"__esModule",{value:!0});const e=Tb(),t=Jb(),n=xp(),r=qp(),i=DD(),s=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return dl.default=s,dl}var Hl={},fu={},ED;function jC(){if(ED)return fu;ED=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(fu.DiscrError=e={})),fu}var SD;function Kl(){if(SD)return Hl;SD=1,Object.defineProperty(Hl,"__esModule",{value:!0});const e=Qe(),t=jC(),n=ll(),r=Vo(),i=lt(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:u,tagName:c}})=>u===t.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:u,tag:c,tagName:f}})=>(0,e._)`{error: ${u}, tag: ${f}, tagValue: ${c}}`},code(u){const{gen:c,data:f,schema:d,parentSchema:h,it:v}=u,{oneOf:w}=h;if(!v.opts.discriminator)throw new Error("discriminator: requires discriminator option");const k=d.propertyName;if(typeof k!="string")throw new Error("discriminator: requires propertyName");if(d.mapping)throw new Error("discriminator: mapping is not supported");if(!w)throw new Error("discriminator: requires oneOf keyword");const $=c.let("valid",!1),_=c.const("tag",(0,e._)`${f}${(0,e.getProperty)(k)}`);c.if((0,e._)`typeof ${_} == "string"`,()=>T(),()=>u.error(!1,{discrError:t.DiscrError.Tag,tag:_,tagName:k})),u.ok($);function T(){const y=m();c.if(!1);for(const p in y)c.elseIf((0,e._)`${_} === ${p}`),c.assign($,b(y[p]));c.else(),u.error(!1,{discrError:t.DiscrError.Mapping,tag:_,tagName:k}),c.endIf()}function b(y){const p=c.name("valid"),D=u.subschema({keyword:"oneOf",schemaProp:y},p);return u.mergeEvaluated(D,e.Name),p}function m(){var y;const p={},D=P(h);let E=!0;for(let I=0;I<w.length;I++){let F=w[I];if(F?.$ref&&!(0,i.schemaHasRulesButRef)(F,v.self.RULES)){const Q=F.$ref;if(F=n.resolveRef.call(v.self,v.schemaEnv.root,v.baseId,Q),F instanceof n.SchemaEnv&&(F=F.schema),F===void 0)throw new r.default(v.opts.uriResolver,v.baseId,Q)}const j=(y=F?.properties)===null||y===void 0?void 0:y[k];if(typeof j!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${k}"`);E=E&&(D||P(F)),C(j,I)}if(!E)throw new Error(`discriminator: "${k}" must be required`);return p;function P({required:I}){return Array.isArray(I)&&I.includes(k)}function C(I,F){if(I.const)R(I.const,F);else if(I.enum)for(const j of I.enum)R(j,F);else throw new Error(`discriminator: "properties/${k}" must have "const" or "enum"`)}function R(I,F){if(typeof I!="string"||I in p)throw new Error(`discriminator: "${k}" values must be unique strings`);p[I]=F}}}};return Hl.default=o,Hl}var xC={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},$D;function qC(){return $D||($D=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=Ws(),r=_D(),i=Kl(),s=xC,o=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(k=>this.addVocabulary(k)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const k=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(k,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var f=Uo();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var d=Qe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=cu();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var v=Vo();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return v.default}})}(nl,nl.exports)),nl.exports}var BC=qC(),WC=rc(BC),zl={exports:{}},Yl={},zo={},kD;function TD(){if(kD)return zo;kD=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.dynamicAnchor=void 0;const e=Qe(),t=Rr(),n=ll(),r=ml(),i={keyword:"$dynamicAnchor",schemaType:"string",code:u=>s(u,u.schema)};function s(u,c){const{gen:f,it:d}=u;d.schemaEnv.root.dynamicAnchors[c]=!0;const h=(0,e._)`${t.default.dynamicAnchors}${(0,e.getProperty)(c)}`,v=d.errSchemaPath==="#"?d.validateName:o(u);f.if((0,e._)`!${h}`,()=>f.assign(h,v))}zo.dynamicAnchor=s;function o(u){const{schemaEnv:c,schema:f,self:d}=u.it,{root:h,baseId:v,localRefs:w,meta:k}=c.root,{schemaId:$}=d.opts,_=new n.SchemaEnv({schema:f,schemaId:$,root:h,baseId:v,localRefs:w,meta:k});return n.compileSchema.call(d,_),(0,r.getValidate)(u,_)}return zo.default=i,zo}var Yo={},AD;function CD(){if(AD)return Yo;AD=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.dynamicRef=void 0;const e=Qe(),t=Rr(),n=ml(),r={keyword:"$dynamicRef",schemaType:"string",code:s=>i(s,s.schema)};function i(s,o){const{gen:u,keyword:c,it:f}=s;if(o[0]!=="#")throw new Error(`"${c}" only supports hash fragment reference`);const d=o.slice(1);if(f.allErrors)h();else{const w=u.let("valid",!1);h(w),s.ok(w)}function h(w){if(f.schemaEnv.root.dynamicAnchors[d]){const k=u.let("_v",(0,e._)`${t.default.dynamicAnchors}${(0,e.getProperty)(d)}`);u.if(k,v(k,w),v(f.validateName,w))}else v(f.validateName,w)()}function v(w,k){return k?()=>u.block(()=>{(0,n.callRef)(s,w),u.let(k,!0)}):()=>(0,n.callRef)(s,w)}}return Yo.dynamicRef=i,Yo.default=r,Yo}var Gl={},OD;function UC(){if(OD)return Gl;OD=1,Object.defineProperty(Gl,"__esModule",{value:!0});const e=TD(),t=lt(),n={keyword:"$recursiveAnchor",schemaType:"boolean",code(r){r.schema?(0,e.dynamicAnchor)(r,""):(0,t.checkStrictMode)(r.it,"$recursiveAnchor: false is ignored")}};return Gl.default=n,Gl}var Jl={},PD;function VC(){if(PD)return Jl;PD=1,Object.defineProperty(Jl,"__esModule",{value:!0});const e=CD(),t={keyword:"$recursiveRef",schemaType:"string",code:n=>(0,e.dynamicRef)(n,n.schema)};return Jl.default=t,Jl}var ND;function RD(){if(ND)return Yl;ND=1,Object.defineProperty(Yl,"__esModule",{value:!0});const e=TD(),t=CD(),n=UC(),r=VC(),i=[e.default,t.default,n.default,r.default];return Yl.default=i,Yl}var Ql={},Xl={},FD;function HC(){if(FD)return Xl;FD=1,Object.defineProperty(Xl,"__esModule",{value:!0});const e=jp(),t={keyword:"dependentRequired",type:"object",schemaType:"object",error:e.error,code:n=>(0,e.validatePropertyDeps)(n)};return Xl.default=t,Xl}var Zl={},ID;function KC(){if(ID)return Zl;ID=1,Object.defineProperty(Zl,"__esModule",{value:!0});const e=jp(),t={keyword:"dependentSchemas",type:"object",schemaType:"object",code:n=>(0,e.validateSchemaDeps)(n)};return Zl.default=t,Zl}var ef={},MD;function zC(){if(MD)return ef;MD=1,Object.defineProperty(ef,"__esModule",{value:!0});const e=lt(),t={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:n,parentSchema:r,it:i}){r.contains===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "contains" is ignored`)}};return ef.default=t,ef}var LD;function jD(){if(LD)return Ql;LD=1,Object.defineProperty(Ql,"__esModule",{value:!0});const e=HC(),t=KC(),n=zC(),r=[e.default,t.default,n.default];return Ql.default=r,Ql}var tf={},nf={},xD;function YC(){if(xD)return nf;xD=1,Object.defineProperty(nf,"__esModule",{value:!0});const e=Qe(),t=lt(),n=Rr(),i={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:s})=>(0,e._)`{unevaluatedProperty: ${s.unevaluatedProperty}}`},code(s){const{gen:o,schema:u,data:c,errsCount:f,it:d}=s;if(!f)throw new Error("ajv implementation error");const{allErrors:h,props:v}=d;v instanceof e.Name?o.if((0,e._)`${v} !== true`,()=>o.forIn("key",c,_=>o.if(k(v,_),()=>w(_)))):v!==!0&&o.forIn("key",c,_=>v===void 0?w(_):o.if($(v,_),()=>w(_))),d.props=!0,s.ok((0,e._)`${f} === ${n.default.errors}`);function w(_){if(u===!1){s.setParams({unevaluatedProperty:_}),s.error(),h||o.break();return}if(!(0,t.alwaysValidSchema)(d,u)){const T=o.name("valid");s.subschema({keyword:"unevaluatedProperties",dataProp:_,dataPropType:t.Type.Str},T),h||o.if((0,e.not)(T),()=>o.break())}}function k(_,T){return(0,e._)`!${_} || !${_}[${T}]`}function $(_,T){const b=[];for(const m in _)_[m]===!0&&b.push((0,e._)`${T} !== ${m}`);return(0,e.and)(...b)}}};return nf.default=i,nf}var rf={},qD;function GC(){if(qD)return rf;qD=1,Object.defineProperty(rf,"__esModule",{value:!0});const e=Qe(),t=lt(),r={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{gen:s,schema:o,data:u,it:c}=i,f=c.items||0;if(f===!0)return;const d=s.const("len",(0,e._)`${u}.length`);if(o===!1)i.setParams({len:f}),i.fail((0,e._)`${d} > ${f}`);else if(typeof o=="object"&&!(0,t.alwaysValidSchema)(c,o)){const v=s.var("valid",(0,e._)`${d} <= ${f}`);s.if((0,e.not)(v),()=>h(v,f)),i.ok(v)}c.items=!0;function h(v,w){s.forRange("i",w,d,k=>{i.subschema({keyword:"unevaluatedItems",dataProp:k,dataPropType:t.Type.Num},v),c.allErrors||s.if((0,e.not)(v),()=>s.break())})}}};return rf.default=r,rf}var BD;function WD(){if(BD)return tf;BD=1,Object.defineProperty(tf,"__esModule",{value:!0});const e=YC(),t=GC(),n=[e.default,t.default];return tf.default=n,tf}var sf={},JC={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/schema",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],type:["object","boolean"],properties:{definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}}},QC={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/applicator":!0},$recursiveAnchor:!0,title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}}},XC={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/content",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}}},ZC={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/core",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0},$recursiveAnchor:!0,title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}}},eO={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/format",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/format":!0},$recursiveAnchor:!0,title:"Format vocabulary meta-schema",type:["object","boolean"],properties:{format:{type:"string"}}},tO={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},$recursiveAnchor:!0,title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}},nO={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/validation",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/validation":!0},$recursiveAnchor:!0,title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}},UD;function rO(){if(UD)return sf;UD=1,Object.defineProperty(sf,"__esModule",{value:!0});const e=JC,t=QC,n=XC,r=ZC,i=eO,s=tO,o=nO,u=["/properties"];function c(f){return[e,t,n,r,d(this,i),s,d(this,o)].forEach(h=>this.addMetaSchema(h,void 0,!1)),this;function d(h,v){return f?h.$dataMetaSchema(v,u):v}}return sf.default=c,sf}var VD;function iO(){return VD||(VD=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2019=void 0;const n=Ws(),r=_D(),i=RD(),s=jD(),o=WD(),u=Kl(),c=rO(),f="https://json-schema.org/draft/2019-09/schema";class d extends n.default{constructor(_={}){super({..._,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(i.default),r.default.forEach(_=>this.addVocabulary(_)),this.addVocabulary(s.default),this.addVocabulary(o.default),this.opts.discriminator&&this.addKeyword(u.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:_,meta:T}=this.opts;T&&(c.default.call(this,_),this.refs["http://json-schema.org/schema"]=f)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(f)?f:void 0)}}t.Ajv2019=d,e.exports=t=d,e.exports.Ajv2019=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var h=Uo();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var v=Qe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return v._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return v.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return v.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return v.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return v.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return v.CodeGen}});var w=cu();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return w.default}});var k=Vo();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return k.default}})}(zl,zl.exports)),zl.exports}var sO=iO(),oO=rc(sO),of={exports:{}},af={},HD;function aO(){if(HD)return af;HD=1,Object.defineProperty(af,"__esModule",{value:!0});const e=Tb(),t=Jb(),n=xp(),r=RD(),i=jD(),s=WD(),o=qp(),u=DD(),c=[r.default,e.default,t.default,(0,n.default)(!0),o.default,u.metadataVocabulary,u.contentVocabulary,i.default,s.default];return af.default=c,af}var uf={},uO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/schema",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],type:["object","boolean"],$comment:"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",properties:{definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}}},cO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/applicator":!0},$dynamicAnchor:"meta",title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}}},lO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/unevaluated",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},$dynamicAnchor:"meta",title:"Unevaluated applicator vocabulary meta-schema",type:["object","boolean"],properties:{unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}}},fO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/content",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}}},dO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/core",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0},$dynamicAnchor:"meta",title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},$defs:{anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}}},hO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/format-annotation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},$dynamicAnchor:"meta",title:"Format vocabulary meta-schema for annotation results",type:["object","boolean"],properties:{format:{type:"string"}}},pO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},$dynamicAnchor:"meta",title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}},mO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/validation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/validation":!0},$dynamicAnchor:"meta",title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}},KD;function gO(){if(KD)return uf;KD=1,Object.defineProperty(uf,"__esModule",{value:!0});const e=uO,t=cO,n=lO,r=fO,i=dO,s=hO,o=pO,u=mO,c=["/properties"];function f(d){return[e,t,n,r,i,h(this,s),o,h(this,u)].forEach(v=>this.addMetaSchema(v,void 0,!1)),this;function h(v,w){return d?v.$dataMetaSchema(w,c):w}}return uf.default=f,uf}var zD;function yO(){return zD||(zD=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;const n=Ws(),r=aO(),i=Kl(),s=gO(),o="https://json-schema.org/draft/2020-12/schema";class u extends n.default{constructor(w={}){super({...w,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),r.default.forEach(w=>this.addVocabulary(w)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:w,meta:k}=this.opts;k&&(s.default.call(this,w),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv2020=u,e.exports=t=u,e.exports.Ajv2020=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var c=Uo();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var f=Qe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var d=cu();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=Vo();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}(of,of.exports)),of.exports}var vO=yO(),bO=rc(vO),cf={exports:{}},lf={},ff={},YD;function DO(){if(YD)return ff;YD=1,Object.defineProperty(ff,"__esModule",{value:!0});const e=ml(),t=["$schema","id","$defs",{keyword:"$comment"},"definitions",e.default];return ff.default=t,ff}var df={},hf={},GD;function wO(){if(GD)return hf;GD=1,Object.defineProperty(hf,"__esModule",{value:!0});const e=Ws(),n=Qe().operators,r={maximum:{exclusive:"exclusiveMaximum",ops:[{okStr:"<=",ok:n.LTE,fail:n.GT},{okStr:"<",ok:n.LT,fail:n.GTE}]},minimum:{exclusive:"exclusiveMinimum",ops:[{okStr:">=",ok:n.GTE,fail:n.LT},{okStr:">",ok:n.GT,fail:n.LTE}]}},i={message:u=>e.str`must be ${o(u).okStr} ${u.schemaCode}`,params:u=>e._`{comparison: ${o(u).okStr}, limit: ${u.schemaCode}}`},s={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:i,code(u){const{data:c,schemaCode:f}=u;u.fail$data(e._`${c} ${o(u).fail} ${f} || isNaN(${c})`)}};function o(u){var c;const f=u.keyword,d=!((c=u.parentSchema)===null||c===void 0)&&c[r[f].exclusive]?1:0;return r[f].ops[d]}return hf.default=s,hf}var pf={},JD;function _O(){if(JD)return pf;JD=1,Object.defineProperty(pf,"__esModule",{value:!0});const e={exclusiveMaximum:"maximum",exclusiveMinimum:"minimum"},t={keyword:Object.keys(e),type:"number",schemaType:"boolean",code({keyword:n,parentSchema:r}){const i=e[n];if(r[i]===void 0)throw new Error(`${n} can only be used with ${i}`)}};return pf.default=t,pf}var QD;function EO(){if(QD)return df;QD=1,Object.defineProperty(df,"__esModule",{value:!0});const e=wO(),t=_O(),n=Ob(),r=Rb(),i=Ib(),s=Lb(),o=xb(),u=Bb(),c=Vb(),f=Kb(),d=Yb(),h=[e.default,t.default,n.default,r.default,i.default,s.default,o.default,u.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];return df.default=h,df}var XD;function SO(){if(XD)return lf;XD=1,Object.defineProperty(lf,"__esModule",{value:!0});const e=DO(),t=EO(),n=xp(),r=qp(),i=["title","description","default"],s=[e.default,t.default,n.default(),r.default,i];return lf.default=s,lf}var $O={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},ZD;function kO(){return ZD||(ZD=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=Ws(),r=SO(),i=Kl(),s=$O,o=["/properties"],u="http://json-schema.org/draft-04/schema";class c extends n.default{constructor(v={}){super({...v,schemaId:"id"})}_addVocabularies(){super._addVocabularies(),r.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(v,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var f=Ws();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var d=Ws();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}})}(cf,cf.exports)),cf.exports}var TO=kO(),AO=rc(TO);const e1=new WC,Bp=new AO,Wp=new oO,Up=new bO,mf=Ki.loadMessageBundle();var t1;(function(e){e[e.delete=0]="delete",e[e.add=1]="add",e[e.deleteAll=2]="deleteAll"})(t1||(t1={}));class CO{constructor(t){try{this.patternRegExp=new RegExp(Gk(t)+"$")}catch{this.patternRegExp=null}this.schemas=[]}addSchema(t){this.schemas.push(t)}matchesPattern(t){return this.patternRegExp&&this.patternRegExp.test(t)}getSchemas(){return this.schemas}}class OO extends Kk{constructor(t,n,r){super(t,n,r),this.schemaUriToNameAndDescription=new Map,this.customSchemaProvider=void 0,this.requestService=t,this.schemaPriorityMapping=new Map}registerCustomSchemaProvider(t){this.customSchemaProvider=t}getAllSchemas(){const t=[],n=new Set;for(const r of this.filePatternAssociations){const i=r.uris[0];if(n.has(i))continue;n.add(i);const s={uri:i,fromStore:!1,usedForCurrentFile:!1};if(this.schemaUriToNameAndDescription.has(i)){const{name:o,description:u,versions:c}=this.schemaUriToNameAndDescription.get(i);s.name=o,s.description=u,s.fromStore=!0,s.versions=c}t.push(s)}return t}async resolveSchemaContent(t,n,r){const i=t.errors.slice(0);let s=t.schema;const o=this.contextService;let u=[];switch(this.normalizeId(s.$schema)){case Bp.defaultMeta():{Bp.validateSchema(s)||(u=u.concat(Bp.errors));break}case Wp.defaultMeta():{Wp.validateSchema(s)||(u=u.concat(Wp.errors));break}case Up.defaultMeta():{Up.validateSchema(s)||(u=u.concat(Up.errors));break}default:e1.validateSchema(s)||(u=u.concat(e1.errors));break}if(u.length>0){const v=[];for(const w of u)v.push(`${w.instancePath} : ${w.message}`);i.push(`Schema '${Pv(t.schema,n)}' is not valid:
${v.join(`
`)}`)}const c=(v,w)=>{if(!w)return v;let k=v;return w[0]==="/"&&(w=w.substr(1)),w.split("/").some($=>(k=k[$],!k)),k},f=(v,w,k,$)=>{const _=c(w,$);if(_)for(const T in _)Object.prototype.hasOwnProperty.call(_,T)&&!Object.prototype.hasOwnProperty.call(v,T)&&(v[T]=_[T]);else i.push(mf("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",$,k))},d=(v,w,k,$,_)=>{o&&!/^\w+:\/\/.*/.test(w)&&(w=o.resolveRelativePath(w,$)),w=this.normalizeId(w);const T=this.getOrAddSchemaHandle(w);return T.getUnresolvedSchema().then(b=>{if(_[w]=!0,b.errors.length){const m=k?w+"#"+k:w;i.push(mf("json.schema.problemloadingref","Problems loading reference '{0}': {1}",m,b.errors[0]))}return f(v,b.schema,w,k),v.url=w,h(v,b.schema,w,T.dependencies)})},h=async(v,w,k,$)=>{if(!v||typeof v!="object")return null;const _=[v],T=new Set,b=[],m=(...E)=>{for(const P of E)typeof P=="object"&&_.push(P)},y=(...E)=>{for(const P of E)if(typeof P=="object")for(const C in P){const R=P[C];typeof R=="object"&&_.push(R)}},p=(...E)=>{for(const P of E)if(Array.isArray(P))for(const C of P)typeof C=="object"&&_.push(C)},D=E=>{const P=new Set;for(;E.$ref;){const C=decodeURIComponent(E.$ref),R=C.split("#",2);if(E._$ref=E.$ref,delete E.$ref,R[0].length>0){b.push(d(E,R[0],R[1],k,$));return}else P.has(C)||(f(E,w,k,R[1]),P.add(C))}m(E.items,E.additionalItems,E.additionalProperties,E.not,E.contains,E.propertyNames,E.if,E.then,E.else),y(E.definitions,E.properties,E.patternProperties,E.dependencies),p(E.anyOf,E.allOf,E.oneOf,E.items,E.schemaSequence)};if(k.indexOf("#")>0){const E=k.split("#",2);if(E[0].length>0&&E[1].length>0){const P={};await d(P,E[0],E[1],k,$);for(const C in s)C!=="required"&&Object.prototype.hasOwnProperty.call(s,C)&&!Object.prototype.hasOwnProperty.call(P,C)&&(P[C]=s[C]);s=P}}for(;_.length;){const E=_.pop();T.has(E)||(T.add(E),D(E))}return Promise.all(b)};return await h(s,s,n,r),new za(s,i)}getSchemaForResource(t,n){const r=()=>{let u=lC(n);if(u!==void 0){if(!u.startsWith("file:")&&!u.startsWith("http")){let c="";if(u.indexOf("#")>0){const f=u.split("#",2);u=f[0],c=f[1]}if(Ms.isAbsolute(u))u=Qn.file(u).toString();else{const f=Qn.parse(t);u=Qn.file(Ms.resolve(Ms.parse(f.fsPath).dir,u)).toString()}c.length>0&&(u+="#"+c)}return u}},i=u=>{const c=super.createCombinedSchema(t,u);return c.getResolvedSchema().then(f=>(f.schema&&typeof f.schema=="object"&&(f.schema.url=c.url),f.schema&&f.schema.schemaSequence&&f.schema.schemaSequence[n.currentDocIndex]?new za(f.schema.schemaSequence[n.currentDocIndex]):f))},s=()=>{const u=Object.create(null),c=[];for(const f of this.filePatternAssociations)if(f.matchesPattern(t))for(const d of f.getURIs())u[d]||(c.push(d),u[d]=!0);if(c.length>0){const f=this.highestPrioritySchemas(c);return i(f)}return Promise.resolve(null)},o=r();return o?i([o]):this.customSchemaProvider?this.customSchemaProvider(t).then(u=>Array.isArray(u)?u.length===0?s():Promise.all(u.map(c=>this.resolveCustomSchema(c,n))).then(c=>({errors:[],schema:{allOf:c.map(f=>f.schema)}}),()=>s()):u?this.resolveCustomSchema(u,n):s()).then(u=>u,()=>s()):s()}addSchemaPriority(t,n){let r=this.schemaPriorityMapping.get(t);r?(r=r.add(n),this.schemaPriorityMapping.set(t,r)):this.schemaPriorityMapping.set(t,new Set().add(n))}highestPrioritySchemas(t){let n=0;const r=new Map;return t.forEach(i=>{(this.schemaPriorityMapping.get(i)||[0]).forEach(o=>{o>n&&(n=o);let u=r.get(o);u?(u=u.concat(i),r.set(o,u)):r.set(o,[i])})}),r.get(n)||[]}async resolveCustomSchema(t,n){const r=await this.loadSchema(t),i=await this.resolveSchemaContent(r,t,[]);return i.schema&&typeof i.schema=="object"&&(i.schema.url=t),i.schema&&i.schema.schemaSequence&&i.schema.schemaSequence[n.currentDocIndex]?new za(i.schema.schemaSequence[n.currentDocIndex],i.errors):i}async saveSchema(t,n){const r=this.normalizeId(t);return this.getOrAddSchemaHandle(r,n),this.schemaPriorityMapping.set(r,new Set().add(Gm.Settings)),Promise.resolve(void 0)}async deleteSchemas(t){return t.schemas.forEach(n=>{this.deleteSchema(n)}),Promise.resolve(void 0)}async deleteSchema(t){const n=this.normalizeId(t);return this.schemasById[n]&&delete this.schemasById[n],this.schemaPriorityMapping.delete(n),Promise.resolve(void 0)}async addContent(t){const n=await this.getResolvedSchema(t.schema);if(n){const r=this.resolveJSONSchemaToSection(n.schema,t.path);typeof r=="object"&&(r[t.key]=t.content),await this.saveSchema(t.schema,n.schema)}}async deleteContent(t){const n=await this.getResolvedSchema(t.schema);if(n){const r=this.resolveJSONSchemaToSection(n.schema,t.path);typeof r=="object"&&delete r[t.key],await this.saveSchema(t.schema,n.schema)}}resolveJSONSchemaToSection(t,n){const r=n.split("/");let i=t;for(const s of r)s!==""&&(this.resolveNext(i,s),i=i[s]);return i}resolveNext(t,n){if(Array.isArray(t)&&isNaN(n))throw new Error("Expected a number after the array object");if(typeof t=="object"&&typeof n!="string")throw new Error("Expected a string after the object")}normalizeId(t){try{return Qn.parse(t).toString()}catch{return t}}getOrAddSchemaHandle(t,n){return super.getOrAddSchemaHandle(t,n)}loadSchema(t){const n=this.requestService;return super.loadSchema(t).then(r=>{if(r.errors&&r.schema===void 0)return n(t).then(i=>{if(!i){const s=mf("json.schema.nocontent","Unable to load schema from '{0}': No content. {1}",n1(t),r.errors);return new Cr({},[s])}try{const s=yA(i);return new Cr(s,[])}catch(s){const o=mf("json.schema.invalidFormat","Unable to parse content from '{0}': {1}.",n1(t),s);return new Cr({},[o])}},i=>{let s=i.toString();const o=i.toString().split("Error: ");return o.length>1&&(s=o[1]),new Cr({},[s])});if(r.uri=t,this.schemaUriToNameAndDescription.has(t)){const{name:i,description:s,versions:o}=this.schemaUriToNameAndDescription.get(t);r.schema.title=i??r.schema.title,r.schema.description=s??r.schema.description,r.schema.versions=o??r.schema.versions}return r})}registerExternalSchema(t,n,r,i,s,o){return(i||s)&&this.schemaUriToNameAndDescription.set(t,{name:i,description:s,versions:o}),super.registerExternalSchema(t,n,r)}clearExternalSchemas(){super.clearExternalSchemas()}setSchemaContributions(t){super.setSchemaContributions(t)}getRegisteredSchemaIds(t){return super.getRegisteredSchemaIds(t)}getResolvedSchema(t){return super.getResolvedSchema(t)}onResourceChange(t){return super.onResourceChange(t)}}function n1(e){try{const t=Qn.parse(e);if(t.scheme==="file")return t.fsPath}catch{}return e}class PO{constructor(t,n){this.telemetry=n,this.jsonDocumentSymbols=new CA(t),this.jsonDocumentSymbols.getKeyLabel=r=>{const i=r.keyNode.internalNode;let s="";return Jt(i)?s="{}":sn(i)?s="[]":s=i.source,s}}findDocumentSymbols(t,n={resultLimit:Number.MAX_VALUE}){let r=[];try{const i=pr.getYamlDocument(t);if(!i||i.documents.length===0)return null;for(const s of i.documents)s.root&&(r=r.concat(this.jsonDocumentSymbols.findDocumentSymbols(t,s,n)))}catch(i){this.telemetry?.sendError("yaml.documentSymbols.error",i)}return r}findHierarchicalDocumentSymbols(t,n={resultLimit:Number.MAX_VALUE}){let r=[];try{const i=pr.getYamlDocument(t);if(!i||i.documents.length===0)return null;for(const s of i.documents)s.root&&(r=r.concat(this.jsonDocumentSymbols.findDocumentSymbols2(t,s,n)))}catch(i){this.telemetry?.sendError("yaml.hierarchicalDocumentSymbols.error",i)}return r}}function r1(e,t){for(const n of e)n.isKubernetes=t}class NO{constructor(t,n){this.telemetry=n,this.shouldHover=!0,this.schemaService=t}configure(t){t&&(this.shouldHover=t.hover,this.indentation=t.indentation)}doHover(t,n,r=!1){try{if(!this.shouldHover||!t)return Promise.resolve(void 0);const i=pr.getYamlDocument(t),s=t.offsetAt(n),o=Jc(s,i);if(o===null)return Promise.resolve(void 0);r1(i.documents,r);const u=i.documents.indexOf(o);return o.currentDocIndex=u,this.getHover(t,n,o)}catch(i){this.telemetry?.sendError("yaml.hover.error",i)}}getHover(t,n,r){const i=t.offsetAt(n);let s=r.getNodeFromOffset(i);if(!s||(s.type==="object"||s.type==="array")&&i>s.offset+1&&i<s.offset+s.length-1)return Promise.resolve(null);const o=s;if(s.type==="string"){const d=s.parent;if(d&&d.type==="property"&&d.keyNode===s&&(s=d.valueNode,!s))return Promise.resolve(null)}const u=Be.create(t.positionAt(o.offset),t.positionAt(o.offset+o.length)),c=d=>({contents:{kind:Wr.Markdown,value:d},range:u}),f=d=>d.replace(/\s\|\|\s*$/,"");return this.schemaService.getSchemaForResource(t.uri,r).then(d=>{if(d&&s&&!d.errors.length){const h=r.getMatchingSchemas(d.schema,s.offset);let v,w,k=[],$;const _=[],T=[];h.every(m=>((m.node===s||s.type==="property"&&s.valueNode===m.node)&&!m.inverted&&m.schema&&(s.parent?.type==="property"&&(v=s.parent.internalNode.key.source),w=w||m.schema.markdownDescription||this.toMarkdown(m.schema.description),m.schema.enum&&(m.schema.markdownEnumDescriptions?k=m.schema.markdownEnumDescriptions:m.schema.enumDescriptions?k=m.schema.enumDescriptions.map(this.toMarkdown,this):k=[],m.schema.enum.forEach((y,p)=>{typeof y!="string"&&(y=JSON.stringify(y)),T.some(D=>D.value===y)||T.push({value:y,description:k[p]})})),m.schema.anyOf&&FO(s,h,m.schema)&&(v="",w=m.schema.description?m.schema.description+`
`:"",m.schema.anyOf.forEach((y,p)=>{v+=y.title||m.schema.closestTitle||"",w+=y.markdownDescription||this.toMarkdown(y.description)||"",p!==m.schema.anyOf.length-1&&(v+=" || ",w+=" || ")}),v=f(v),w=f(w)),m.schema.anyOf?$=m.schema.anyOf.map(({type:y})=>y).join(" || "):$=$??m.schema.type?.toString?.(),m.schema.enum&&($="enum"),m.schema.examples&&m.schema.examples.forEach(y=>{_.push(vA(y,null,2))})),!0));let b="";return v&&(b="#### "+this.toMarkdown(v)),w&&(b=du(b),b+=w),$&&(b=du(b),b+=`Type: ${$}`),T.length!==0&&(b=du(b),b+=`Allowed Values:

`,T.forEach(m=>{m.description?b+=`* \`${i1(m.value)}\`: ${m.description}
`:b+=`* \`${i1(m.value)}\`
`})),_.length!==0&&_.forEach(m=>{b=du(b),b+=`Example:

`,b+=`\`\`\`yaml
${m}\`\`\`
`}),b.length>0&&d.schema.url&&(b=du(b),b+=`Source: [${RO(d.schema)}](${d.schema.url})`),c(b)}return null})}toMarkdown(t){if(t){let n=t.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,`$1

$3`);if(n=n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&"),this.indentation!==void 0){const r=new RegExp(` {${this.indentation.length}}`,"g");n=n.replace(r,"&emsp;")}return n}}}function du(e){return e.length===0?e:(e.endsWith(`
`)||(e+=`
`),e+`
`)}function RO(e){let t="JSON Schema";const n=e.url;if(n){const r=Qn.parse(n);t=Ms.basename(r.fsPath)}else e.title&&(t=e.title);return t}function i1(e){return e.indexOf("`")!==-1?"`` "+e+" ``":e}function FO(e,t,n){let r=0;for(const i of t)e===i.node&&i.schema!==n&&n.anyOf.forEach(s=>{i.schema.title===s.title&&i.schema.description===s.description&&i.schema.properties===s.properties&&r++});return r===n.anyOf.length}class IO{validate(t,n){const r=[],i=new Set,s=new Set,o=new Map;Lt(n.internalDocument,(u,c,f)=>{$t(c)&&((Qt(c)||Je(c))&&c.anchor&&(i.add(c),o.set(c,f[f.length-1])),zr(c)&&s.add(c.resolve(n.internalDocument)))});for(const u of i)if(!s.has(u)){const c=this.getAnchorNode(o.get(u),u);if(c){const f=Be.create(t.positionAt(c.offset),t.positionAt(c.offset+c.source.length)),d=An.create(f,`Unused anchor "${c.source}"`,Ge.Hint,0);d.tags=[fc.Unnecessary],r.push(d)}}return r}getAnchorNode(t,n){if(t&&t.srcToken){const r=t.srcToken;if(Vv(r))return s1(r);if(lA(r))for(const i of r.items){if(n.srcToken!==i.value)continue;const s=s1(i);if(s)return s}}}}function s1(e){for(const t of e.start)if(t.type==="anchor")return t;if(e.sep&&Array.isArray(e.sep)){for(const t of e.sep)if(t.type==="anchor")return t}}class MO{constructor(t){this.forbidMapping=t.flowMapping==="forbid",this.forbidSequence=t.flowSequence==="forbid"}validate(t,n){const r=[];return Lt(n.internalDocument,(i,s)=>{this.forbidMapping&&Jt(s)&&s.srcToken?.type==="flow-collection"&&r.push(An.create(this.getRangeOf(t,s.srcToken),"Flow style mapping is forbidden",Ge.Error,"flowMap")),this.forbidSequence&&sn(s)&&s.srcToken?.type==="flow-collection"&&r.push(An.create(this.getRangeOf(t,s.srcToken),"Flow style sequence is forbidden",Ge.Error,"flowSeq"))}),r}getRangeOf(t,n){return Be.create(t.positionAt(n.start.offset),t.positionAt(n.end.pop().offset))}}class LO{validate(t,n){const r=[];return Lt(n.internalDocument,(i,s)=>{if(Jt(s)){for(let o=1;o<s.items.length;o++)if(xO(s.items[o-1],s.items[o])>0){const u=jO(t,s.items[o-1]);r.push(An.create(u,`Wrong ordering of key "${s.items[o-1].key}" in mapping`,Ge.Error,"mapKeyOrder"))}}}),r}}function jO(e,t){const n=t?.srcToken.start[0]?.offset??t?.srcToken?.key.offset??t?.srcToken?.sep[0]?.offset,r=t?.srcToken?.value.offset||t?.srcToken?.sep[0]?.offset||t?.srcToken?.key.offset||t?.srcToken.start[t.srcToken.start.length-1]?.offset;return Be.create(e.positionAt(n),e.positionAt(r))}function xO(e,t){const n=String(t.key);return String(e.key).localeCompare(n)}const qO=(e,t)=>{const n=t.positionAt(e.location.start),r={start:n,end:e.location.toLineEnd?tn.create(n.line,new xs(t).getLineLength(n.line)):t.positionAt(e.location.end)};return An.create(r,e.message,e.severity,e.code,Qc)};class BO{constructor(t,n){this.telemetry=n,this.validators=[],this.MATCHES_MULTIPLE="Matches multiple schemas when only one must validate.",this.validationEnabled=!0,this.jsonValidation=new EA(t,Promise)}configure(t){this.validators=[],t&&(this.validationEnabled=t.validate,this.customTags=t.customTags,this.disableAdditionalProperties=t.disableAdditionalProperties,this.yamlVersion=t.yamlVersion,(t.flowMapping==="forbid"||t.flowSequence==="forbid")&&this.validators.push(new MO(t)),t.keyOrdering&&this.validators.push(new LO)),this.validators.push(new IO)}async doValidation(t,n=!1){if(!this.validationEnabled)return Promise.resolve([]);const r=[];try{const u=pr.getYamlDocument(t,{customTags:this.customTags,yamlVersion:this.yamlVersion},!0);let c=0;for(const f of u.documents){f.isKubernetes=n,f.currentDocIndex=c,f.disableAdditionalProperties=this.disableAdditionalProperties,f.uri=t.uri;const d=await this.jsonValidation.doValidation(t,f),h=f;h.errors.length>0&&r.push(...h.errors),h.warnings.length>0&&r.push(...h.warnings),r.push(...d),r.push(...this.runAdditionalValidators(t,f)),f.root===null&&r.push(An.create(Be.create(tn.create(1,0),tn.create(1,0)),"Empty document",Ge.Error)),c++}}catch(u){this.telemetry?.sendError("yaml.validation.error",u)}let i;const s=new Set,o=[];for(let u of r){if(n&&u.message===this.MATCHES_MULTIPLE)continue;if(Object.prototype.hasOwnProperty.call(u,"location")&&(u=qO(u,t)),u.source||(u.source=Qc),i&&i.message===u.message&&i.range.end.line===u.range.start.line&&Math.abs(i.range.end.character-u.range.end.character)>=1){i.range.end=u.range.end;continue}else i=u;const c=u.range.start.line+" "+u.range.start.character+" "+u.message;s.has(c)||(o.push(u),s.add(c))}return o}runAdditionalValidators(t,n){const r=[];for(const i of this.validators)r.push(...i.validate(t,n));return r}}var WO=Object.create,Vp=Object.defineProperty,UO=Object.getOwnPropertyDescriptor,VO=Object.getOwnPropertyNames,HO=Object.getPrototypeOf,KO=Object.prototype.hasOwnProperty,_i=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),o1=(e,t)=>{for(var n in t)Vp(e,n,{get:t[n],enumerable:!0})},zO=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of VO(t))!KO.call(e,i)&&i!==n&&Vp(e,i,{get:()=>t[i],enumerable:!(r=UO(t,i))||r.enumerable});return e},a1=(e,t,n)=>(n=e!=null?WO(HO(e)):{},zO(Vp(n,"default",{value:e,enumerable:!0}),e)),Vs=_i(e=>{var t={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},n={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},r="tag:yaml.org,2002:",i={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function s(m){let y=[0],p=m.indexOf(`
`);for(;p!==-1;)p+=1,y.push(p),p=m.indexOf(`
`,p);return y}function o(m){let y,p;return typeof m=="string"?(y=s(m),p=m):(Array.isArray(m)&&(m=m[0]),m&&m.context&&(m.lineStarts||(m.lineStarts=s(m.context.src)),y=m.lineStarts,p=m.context.src)),{lineStarts:y,src:p}}function u(m,y){if(typeof m!="number"||m<0)return null;let{lineStarts:p,src:D}=o(y);if(!p||!D||m>D.length)return null;for(let P=0;P<p.length;++P){let C=p[P];if(m<C)return{line:P,col:m-p[P-1]+1};if(m===C)return{line:P+1,col:1}}let E=p.length;return{line:E,col:m-p[E-1]+1}}function c(m,y){let{lineStarts:p,src:D}=o(y);if(!p||!(m>=1)||m>p.length)return null;let E=p[m-1],P=p[m];for(;P&&P>E&&D[P-1]===`
`;)--P;return D.slice(E,P)}function f({start:m,end:y},p,D=80){let E=c(m.line,p);if(!E)return null;let{col:P}=m;if(E.length>D)if(P<=D-10)E=E.substr(0,D-1)+"…";else{let j=Math.round(D/2);E.length>P+j&&(E=E.substr(0,P+j-1)+"…"),P-=E.length-D,E="…"+E.substr(1-D)}let C=1,R="";y&&(y.line===m.line&&P+(y.col-m.col)<=D+1?C=y.col-m.col:(C=Math.min(E.length+1,D)-P,R="…"));let I=P>1?" ".repeat(P-1):"",F="^".repeat(C);return`${E}
${I}${F}${R}`}var d=class L${static copy(y){return new L$(y.start,y.end)}constructor(y,p){this.start=y,this.end=p||y}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(y,p){let{start:D,end:E}=this;if(y.length===0||E<=y[0])return this.origStart=D,this.origEnd=E,p;let P=p;for(;P<y.length&&!(y[P]>D);)++P;this.origStart=D+P;let C=P;for(;P<y.length&&!(y[P]>=E);)++P;return this.origEnd=E+P,C}},h=class Vi{static addStringTerminator(y,p,D){if(D[D.length-1]===`
`)return D;let E=Vi.endOfWhiteSpace(y,p);return E>=y.length||y[E]===`
`?D+`
`:D}static atDocumentBoundary(y,p,D){let E=y[p];if(!E)return!0;let P=y[p-1];if(P&&P!==`
`)return!1;if(D){if(E!==D)return!1}else if(E!==t.DIRECTIVES_END&&E!==t.DOCUMENT_END)return!1;let C=y[p+1],R=y[p+2];if(C!==E||R!==E)return!1;let I=y[p+3];return!I||I===`
`||I==="	"||I===" "}static endOfIdentifier(y,p){let D=y[p],E=D==="<",P=E?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;D&&P.indexOf(D)===-1;)D=y[p+=1];return E&&D===">"&&(p+=1),p}static endOfIndent(y,p){let D=y[p];for(;D===" ";)D=y[p+=1];return p}static endOfLine(y,p){let D=y[p];for(;D&&D!==`
`;)D=y[p+=1];return p}static endOfWhiteSpace(y,p){let D=y[p];for(;D==="	"||D===" ";)D=y[p+=1];return p}static startOfLine(y,p){let D=y[p-1];if(D===`
`)return p;for(;D&&D!==`
`;)D=y[p-=1];return p+1}static endOfBlockIndent(y,p,D){let E=Vi.endOfIndent(y,D);if(E>D+p)return E;{let P=Vi.endOfWhiteSpace(y,E),C=y[P];if(!C||C===`
`)return P}return null}static atBlank(y,p,D){let E=y[p];return E===`
`||E==="	"||E===" "||D&&!E}static nextNodeIsIndented(y,p,D){return!y||p<0?!1:p>0?!0:D&&y==="-"}static normalizeOffset(y,p){let D=y[p];return D?D!==`
`&&y[p-1]===`
`?p-1:Vi.endOfWhiteSpace(y,p):p}static foldNewline(y,p,D){let E=0,P=!1,C="",R=y[p+1];for(;R===" "||R==="	"||R===`
`;){switch(R){case`
`:E=0,p+=1,C+=`
`;break;case"	":E<=D&&(P=!0),p=Vi.endOfWhiteSpace(y,p+2)-1;break;case" ":E+=1,p+=1;break}R=y[p+1]}return C||(C=" "),R&&E<=D&&(P=!0),{fold:C,offset:p,error:P}}constructor(y,p,D){Object.defineProperty(this,"context",{value:D||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=p||[],this.type=y,this.value=null}getPropValue(y,p,D){if(!this.context)return null;let{src:E}=this.context,P=this.props[y];return P&&E[P.start]===p?E.slice(P.start+(D?1:0),P.end):null}get anchor(){for(let y=0;y<this.props.length;++y){let p=this.getPropValue(y,t.ANCHOR,!0);if(p!=null)return p}return null}get comment(){let y=[];for(let p=0;p<this.props.length;++p){let D=this.getPropValue(p,t.COMMENT,!0);D!=null&&y.push(D)}return y.length>0?y.join(`
`):null}commentHasRequiredWhitespace(y){let{src:p}=this.context;if(this.header&&y===this.header.end||!this.valueRange)return!1;let{end:D}=this.valueRange;return y!==D||Vi.atBlank(p,D-1)}get hasComment(){if(this.context){let{src:y}=this.context;for(let p=0;p<this.props.length;++p)if(y[this.props[p].start]===t.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:y}=this.context;for(let p=0;p<this.props.length;++p)if(y[this.props[p].start]!==t.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[n.FLOW_MAP,n.FLOW_SEQ,n.QUOTE_DOUBLE,n.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let y=u(this.range.start,this.context.root);if(!y)return;let p=u(this.range.end,this.context.root);return{start:y,end:p}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:y,end:p}=this.valueRange;return this.context.src.slice(y,p)}get tag(){for(let y=0;y<this.props.length;++y){let p=this.getPropValue(y,t.TAG,!1);if(p!=null){if(p[1]==="<")return{verbatim:p.slice(2,-1)};{let[D,E,P]=p.match(/^(.*!)([^!]*)$/);return{handle:E,suffix:P}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:y,end:p}=this.valueRange,{src:D}=this.context;for(let E=y;E<p;++E)if(D[E]===`
`)return!0;return!1}parseComment(y){let{src:p}=this.context;if(p[y]===t.COMMENT){let D=Vi.endOfLine(p,y+1),E=new d(y,D);return this.props.push(E),D}return y}setOrigRanges(y,p){return this.range&&(p=this.range.setOrigRange(y,p)),this.valueRange&&this.valueRange.setOrigRange(y,p),this.props.forEach(D=>D.setOrigRange(y,p)),p}toString(){let{context:{src:y},range:p,value:D}=this;if(D!=null)return D;let E=y.slice(p.start,p.end);return Vi.addStringTerminator(y,p.end,E)}},v=class extends Error{constructor(m,y,p){if(!p||!(y instanceof h))throw new Error(`Invalid arguments for new ${m}`);super(),this.name=m,this.message=p,this.source=y}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let m=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new d(this.offset,this.offset+1);let y=m&&u(this.offset,m);if(y){let p={line:y.line,col:y.col+1};this.linePos={start:y,end:p}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:y,col:p}=this.linePos.start;this.message+=` at line ${y}, column ${p}`;let D=m&&f(this.linePos,m);D&&(this.message+=`:

${D}
`)}delete this.source}},w=class extends v{constructor(m,y){super("YAMLReferenceError",m,y)}},k=class extends v{constructor(m,y){super("YAMLSemanticError",m,y)}},$=class extends v{constructor(m,y){super("YAMLSyntaxError",m,y)}},_=class extends v{constructor(m,y){super("YAMLWarning",m,y)}};function T(m,y,p){return y in m?Object.defineProperty(m,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[y]=p,m}var b=class uy extends h{static endOfLine(y,p,D){let E=y[p],P=p;for(;E&&E!==`
`&&!(D&&(E==="["||E==="]"||E==="{"||E==="}"||E===","));){let C=y[P+1];if(E===":"&&(!C||C===`
`||C==="	"||C===" "||D&&C===",")||(E===" "||E==="	")&&C==="#")break;P+=1,E=C}return P}get strValue(){if(!this.valueRange||!this.context)return null;let{start:y,end:p}=this.valueRange,{src:D}=this.context,E=D[p-1];for(;y<p&&(E===`
`||E==="	"||E===" ");)E=D[--p-1];let P="";for(let R=y;R<p;++R){let I=D[R];if(I===`
`){let{fold:F,offset:j}=h.foldNewline(D,R,-1);P+=F,R=j}else if(I===" "||I==="	"){let F=R,j=D[R+1];for(;R<p&&(j===" "||j==="	");)R+=1,j=D[R+1];j!==`
`&&(P+=R>F?D.slice(F,R+1):I)}else P+=I}let C=D[y];switch(C){case"	":{let R="Plain value cannot start with a tab character";return{errors:[new k(this,R)],str:P}}case"@":case"`":{let R=`Plain value cannot start with reserved character ${C}`;return{errors:[new k(this,R)],str:P}}default:return P}}parseBlockValue(y){let{indent:p,inFlow:D,src:E}=this.context,P=y,C=y;for(let R=E[P];R===`
`&&!h.atDocumentBoundary(E,P+1);R=E[P]){let I=h.endOfBlockIndent(E,p,P+1);if(I===null||E[I]==="#")break;E[I]===`
`?P=I:(C=uy.endOfLine(E,I,D),P=C)}return this.valueRange.isEmpty()&&(this.valueRange.start=y),this.valueRange.end=C,C}parse(y,p){this.context=y;let{inFlow:D,src:E}=y,P=p,C=E[P];return C&&C!=="#"&&C!==`
`&&(P=uy.endOfLine(E,p,D)),this.valueRange=new d(p,P),P=h.endOfWhiteSpace(E,P),P=this.parseComment(P),(!this.hasComment||this.valueRange.isEmpty())&&(P=this.parseBlockValue(P)),P}};e.Char=t,e.Node=h,e.PlainValue=b,e.Range=d,e.Type=n,e.YAMLError=v,e.YAMLReferenceError=w,e.YAMLSemanticError=k,e.YAMLSyntaxError=$,e.YAMLWarning=_,e._defineProperty=T,e.defaultTagPrefix=r,e.defaultTags=i}),YO=_i(e=>{var t=Vs(),n=class extends t.Node{constructor(){super(t.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(b,m){return this.context=b,this.range=new t.Range(m,m+1),m+1}},r=class extends t.Node{constructor(b,m){super(b,m),this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(b,m){this.context=b;let{parseNode:y,src:p}=b,{atLineStart:D,lineStart:E}=b;!D&&this.type===t.Type.SEQ_ITEM&&(this.error=new t.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let P=D?m-E:b.indent,C=t.Node.endOfWhiteSpace(p,m+1),R=p[C],I=R==="#",F=[],j=null;for(;R===`
`||R==="#";){if(R==="#"){let ae=t.Node.endOfLine(p,C+1);F.push(new t.Range(C,ae)),C=ae}else{D=!0,E=C+1;let ae=t.Node.endOfWhiteSpace(p,E);p[ae]===`
`&&F.length===0&&(j=new n,E=j.parse({src:p},E)),C=t.Node.endOfIndent(p,E)}R=p[C]}if(t.Node.nextNodeIsIndented(R,C-(E+P),this.type!==t.Type.SEQ_ITEM)?this.node=y({atLineStart:D,inCollection:!1,indent:P,lineStart:E,parent:this},C):R&&E>m+1&&(C=E-1),this.node){if(j){let ae=b.parent.items||b.parent.contents;ae&&ae.push(j)}F.length&&Array.prototype.push.apply(this.props,F),C=this.node.range.end}else if(I){let ae=F[0];this.props.push(ae),C=ae.end}else C=t.Node.endOfLine(p,m+1);let Q=this.node?this.node.valueRange.end:C;return this.valueRange=new t.Range(m,Q),C}setOrigRanges(b,m){return m=super.setOrigRanges(b,m),this.node?this.node.setOrigRanges(b,m):m}toString(){let{context:{src:b},node:m,range:y,value:p}=this;if(p!=null)return p;let D=m?b.slice(y.start,m.range.start)+String(m):b.slice(y.start,y.end);return t.Node.addStringTerminator(b,y.end,D)}},i=class extends t.Node{constructor(){super(t.Type.COMMENT)}parse(b,m){this.context=b;let y=this.parseComment(m);return this.range=new t.Range(m,y),y}};function s(b){let m=b;for(;m instanceof r;)m=m.node;if(!(m instanceof o))return null;let y=m.items.length,p=-1;for(let P=y-1;P>=0;--P){let C=m.items[P];if(C.type===t.Type.COMMENT){let{indent:R,lineStart:I}=C.context;if(R>0&&C.range.start>=I+R)break;p=P}else if(C.type===t.Type.BLANK_LINE)p=P;else break}if(p===-1)return null;let D=m.items.splice(p,y-p),E=D[0].range.start;for(;m.range.end=E,m.valueRange&&m.valueRange.end>E&&(m.valueRange.end=E),m!==b;)m=m.context.parent;return D}var o=class cy extends t.Node{static nextContentHasIndent(m,y,p){let D=t.Node.endOfLine(m,y)+1;y=t.Node.endOfWhiteSpace(m,D);let E=m[y];return E?y>=D+p?!0:E!=="#"&&E!==`
`?!1:cy.nextContentHasIndent(m,y,p):!1}constructor(m){super(m.type===t.Type.SEQ_ITEM?t.Type.SEQ:t.Type.MAP);for(let p=m.props.length-1;p>=0;--p)if(m.props[p].start<m.context.lineStart){this.props=m.props.slice(0,p+1),m.props=m.props.slice(p+1);let D=m.props[0]||m.valueRange;m.range.start=D.start;break}this.items=[m];let y=s(m);y&&Array.prototype.push.apply(this.items,y)}get includesTrailingLines(){return this.items.length>0}parse(m,y){this.context=m;let{parseNode:p,src:D}=m,E=t.Node.startOfLine(D,y),P=this.items[0];P.context.parent=this,this.valueRange=t.Range.copy(P.valueRange);let C=P.range.start-P.context.lineStart,R=y;R=t.Node.normalizeOffset(D,R);let I=D[R],F=t.Node.endOfWhiteSpace(D,E)===R,j=!1;for(;I;){for(;I===`
`||I==="#";){if(F&&I===`
`&&!j){let ce=new n;if(R=ce.parse({src:D},R),this.valueRange.end=R,R>=D.length){I=null;break}this.items.push(ce),R-=1}else if(I==="#"){if(R<E+C&&!cy.nextContentHasIndent(D,R,C))return R;let ce=new i;if(R=ce.parse({indent:C,lineStart:E,src:D},R),this.items.push(ce),this.valueRange.end=R,R>=D.length){I=null;break}}if(E=R+1,R=t.Node.endOfIndent(D,E),t.Node.atBlank(D,R)){let ce=t.Node.endOfWhiteSpace(D,R),he=D[ce];(!he||he===`
`||he==="#")&&(R=ce)}I=D[R],F=!0}if(!I)break;if(R!==E+C&&(F||I!==":")){if(R<E+C){E>y&&(R=E);break}else if(!this.error){let ce="All collection items must start at the same column";this.error=new t.YAMLSyntaxError(this,ce)}}if(P.type===t.Type.SEQ_ITEM){if(I!=="-"){E>y&&(R=E);break}}else if(I==="-"&&!this.error){let ce=D[R+1];if(!ce||ce===`
`||ce==="	"||ce===" "){let he="A collection cannot be both a mapping and a sequence";this.error=new t.YAMLSyntaxError(this,he)}}let Q=p({atLineStart:F,inCollection:!0,indent:C,lineStart:E,parent:this},R);if(!Q)return R;if(this.items.push(Q),this.valueRange.end=Q.valueRange.end,R=t.Node.normalizeOffset(D,Q.range.end),I=D[R],F=!1,j=Q.includesTrailingLines,I){let ce=R-1,he=D[ce];for(;he===" "||he==="	";)he=D[--ce];he===`
`&&(E=ce+1,F=!0)}let ae=s(Q);ae&&Array.prototype.push.apply(this.items,ae)}return R}setOrigRanges(m,y){return y=super.setOrigRanges(m,y),this.items.forEach(p=>{y=p.setOrigRanges(m,y)}),y}toString(){let{context:{src:m},items:y,range:p,value:D}=this;if(D!=null)return D;let E=m.slice(p.start,y[0].range.start)+String(y[0]);for(let P=1;P<y.length;++P){let C=y[P],{atLineStart:R,indent:I}=C.context;if(R)for(let F=0;F<I;++F)E+=" ";E+=String(C)}return t.Node.addStringTerminator(m,p.end,E)}},u=class extends t.Node{constructor(){super(t.Type.DIRECTIVE),this.name=null}get parameters(){let b=this.rawValue;return b?b.trim().split(/[ \t]+/):[]}parseName(b){let{src:m}=this.context,y=b,p=m[y];for(;p&&p!==`
`&&p!=="	"&&p!==" ";)p=m[y+=1];return this.name=m.slice(b,y),y}parseParameters(b){let{src:m}=this.context,y=b,p=m[y];for(;p&&p!==`
`&&p!=="#";)p=m[y+=1];return this.valueRange=new t.Range(b,y),y}parse(b,m){this.context=b;let y=this.parseName(m+1);return y=this.parseParameters(y),y=this.parseComment(y),this.range=new t.Range(m,y),y}},c=class ly extends t.Node{static startCommentOrEndBlankLine(m,y){let p=t.Node.endOfWhiteSpace(m,y),D=m[p];return D==="#"||D===`
`?p:y}constructor(){super(t.Type.DOCUMENT),this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(m){let{src:y}=this.context;this.directives=[];let p=!0,D=!1,E=m;for(;!t.Node.atDocumentBoundary(y,E,t.Char.DIRECTIVES_END);)switch(E=ly.startCommentOrEndBlankLine(y,E),y[E]){case`
`:if(p){let P=new n;E=P.parse({src:y},E),E<y.length&&this.directives.push(P)}else E+=1,p=!0;break;case"#":{let P=new i;E=P.parse({src:y},E),this.directives.push(P),p=!1}break;case"%":{let P=new u;E=P.parse({parent:this,src:y},E),this.directives.push(P),D=!0,p=!1}break;default:return D?this.error=new t.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),E}return y[E]?(this.directivesEndMarker=new t.Range(E,E+3),E+3):(D?this.error=new t.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),E)}parseContents(m){let{parseNode:y,src:p}=this.context;this.contents||(this.contents=[]);let D=m;for(;p[D-1]==="-";)D-=1;let E=t.Node.endOfWhiteSpace(p,m),P=D===m;for(this.valueRange=new t.Range(E);!t.Node.atDocumentBoundary(p,E,t.Char.DOCUMENT_END);){switch(p[E]){case`
`:if(P){let C=new n;E=C.parse({src:p},E),E<p.length&&this.contents.push(C)}else E+=1,P=!0;D=E;break;case"#":{let C=new i;E=C.parse({src:p},E),this.contents.push(C),P=!1}break;default:{let C=t.Node.endOfIndent(p,E),R=y({atLineStart:P,indent:-1,inFlow:!1,inCollection:!1,lineStart:D,parent:this},C);if(!R)return this.valueRange.end=C;this.contents.push(R),E=R.range.end,P=!1;let I=s(R);I&&Array.prototype.push.apply(this.contents,I)}}E=ly.startCommentOrEndBlankLine(p,E)}if(this.valueRange.end=E,p[E]&&(this.documentEndMarker=new t.Range(E,E+3),E+=3,p[E])){if(E=t.Node.endOfWhiteSpace(p,E),p[E]==="#"){let C=new i;E=C.parse({src:p},E),this.contents.push(C)}switch(p[E]){case`
`:E+=1;break;case void 0:break;default:this.error=new t.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return E}parse(m,y){m.root=this,this.context=m;let{src:p}=m,D=p.charCodeAt(y)===65279?y+1:y;return D=this.parseDirectives(D),D=this.parseContents(D),D}setOrigRanges(m,y){return y=super.setOrigRanges(m,y),this.directives.forEach(p=>{y=p.setOrigRanges(m,y)}),this.directivesEndMarker&&(y=this.directivesEndMarker.setOrigRange(m,y)),this.contents.forEach(p=>{y=p.setOrigRanges(m,y)}),this.documentEndMarker&&(y=this.documentEndMarker.setOrigRange(m,y)),y}toString(){let{contents:m,directives:y,value:p}=this;if(p!=null)return p;let D=y.join("");return m.length>0&&((y.length>0||m[0].type===t.Type.COMMENT)&&(D+=`---
`),D+=m.join("")),D[D.length-1]!==`
`&&(D+=`
`),D}},f=class extends t.Node{parse(b,m){this.context=b;let{src:y}=b,p=t.Node.endOfIdentifier(y,m+1);return this.valueRange=new t.Range(m+1,p),p=t.Node.endOfWhiteSpace(y,p),p=this.parseComment(p),p}},d={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},h=class extends t.Node{constructor(b,m){super(b,m),this.blockIndent=null,this.chomping=d.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===d.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:b,end:m}=this.valueRange,{indent:y,src:p}=this.context;if(this.valueRange.isEmpty())return"";let D=null,E=p[m-1];for(;E===`
`||E==="	"||E===" ";){if(m-=1,m<=b){if(this.chomping===d.KEEP)break;return""}E===`
`&&(D=m),E=p[m-1]}let P=m+1;D&&(this.chomping===d.KEEP?(P=D,m=this.valueRange.end):m=D);let C=y+this.blockIndent,R=this.type===t.Type.BLOCK_FOLDED,I=!0,F="",j="",Q=!1;for(let ae=b;ae<m;++ae){for(let he=0;he<C&&p[ae]===" ";++he)ae+=1;let ce=p[ae];if(ce===`
`)j===`
`?F+=`
`:j=`
`;else{let he=t.Node.endOfLine(p,ae),Te=p.slice(ae,he);ae=he,R&&(ce===" "||ce==="	")&&ae<P?(j===" "?j=`
`:!Q&&!I&&j===`
`&&(j=`

`),F+=j+Te,j=he<m&&p[he]||"",Q=!0):(F+=j+Te,j=R&&ae<P?" ":`
`,Q=!1),I&&Te!==""&&(I=!1)}}return this.chomping===d.STRIP?F:F+`
`}parseBlockHeader(b){let{src:m}=this.context,y=b+1,p="";for(;;){let D=m[y];switch(D){case"-":this.chomping=d.STRIP;break;case"+":this.chomping=d.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p+=D;break;default:return this.blockIndent=Number(p)||null,this.header=new t.Range(b,y),y}y+=1}}parseBlockValue(b){let{indent:m,src:y}=this.context,p=!!this.blockIndent,D=b,E=b,P=1;for(let C=y[D];C===`
`&&(D+=1,!t.Node.atDocumentBoundary(y,D));C=y[D]){let R=t.Node.endOfBlockIndent(y,m,D);if(R===null)break;let I=y[R],F=R-(D+m);if(this.blockIndent){if(I&&I!==`
`&&F<this.blockIndent){if(y[R]==="#")break;if(!this.error){let j=`Block scalars must not be less indented than their ${p?"explicit indentation indicator":"first line"}`;this.error=new t.YAMLSemanticError(this,j)}}}else if(y[R]!==`
`){if(F<P){let j="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new t.YAMLSemanticError(this,j)}this.blockIndent=F}else F>P&&(P=F);y[R]===`
`?D=R:D=E=t.Node.endOfLine(y,R)}return this.chomping!==d.KEEP&&(D=y[E]?E+1:E),this.valueRange=new t.Range(b+1,D),D}parse(b,m){this.context=b;let{src:y}=b,p=this.parseBlockHeader(m);return p=t.Node.endOfWhiteSpace(y,p),p=this.parseComment(p),p=this.parseBlockValue(p),p}setOrigRanges(b,m){return m=super.setOrigRanges(b,m),this.header?this.header.setOrigRange(b,m):m}},v=class extends t.Node{constructor(b,m){super(b,m),this.items=null}prevNodeIsJsonLike(b=this.items.length){let m=this.items[b-1];return!!m&&(m.jsonLike||m.type===t.Type.COMMENT&&this.prevNodeIsJsonLike(b-1))}parse(b,m){this.context=b;let{parseNode:y,src:p}=b,{indent:D,lineStart:E}=b,P=p[m];this.items=[{char:P,offset:m}];let C=t.Node.endOfWhiteSpace(p,m+1);for(P=p[C];P&&P!=="]"&&P!=="}";){switch(P){case`
`:{E=C+1;let R=t.Node.endOfWhiteSpace(p,E);if(p[R]===`
`){let I=new n;E=I.parse({src:p},E),this.items.push(I)}if(C=t.Node.endOfIndent(p,E),C<=E+D&&(P=p[C],C<E+D||P!=="]"&&P!=="}")){let I="Insufficient indentation in flow collection";this.error=new t.YAMLSemanticError(this,I)}}break;case",":this.items.push({char:P,offset:C}),C+=1;break;case"#":{let R=new i;C=R.parse({src:p},C),this.items.push(R)}break;case"?":case":":{let R=p[C+1];if(R===`
`||R==="	"||R===" "||R===","||P===":"&&this.prevNodeIsJsonLike()){this.items.push({char:P,offset:C}),C+=1;break}}default:{let R=y({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:E,parent:this},C);if(!R)return this.valueRange=new t.Range(m,C),C;this.items.push(R),C=t.Node.normalizeOffset(p,R.range.end)}}C=t.Node.endOfWhiteSpace(p,C),P=p[C]}return this.valueRange=new t.Range(m,C+1),P&&(this.items.push({char:P,offset:C}),C=t.Node.endOfWhiteSpace(p,C+1),C=this.parseComment(C)),C}setOrigRanges(b,m){return m=super.setOrigRanges(b,m),this.items.forEach(y=>{if(y instanceof t.Node)m=y.setOrigRanges(b,m);else if(b.length===0)y.origOffset=y.offset;else{let p=m;for(;p<b.length&&!(b[p]>y.offset);)++p;y.origOffset=y.offset+p,m=p}}),m}toString(){let{context:{src:b},items:m,range:y,value:p}=this;if(p!=null)return p;let D=m.filter(C=>C instanceof t.Node),E="",P=y.start;return D.forEach(C=>{let R=b.slice(P,C.range.start);P=C.range.end,E+=R+String(C),E[E.length-1]===`
`&&b[P-1]!==`
`&&b[P]===`
`&&(P+=1)}),E+=b.slice(P,y.end),t.Node.addStringTerminator(b,y.end,E)}},w=class j$ extends t.Node{static endOfQuote(m,y){let p=m[y];for(;p&&p!=='"';)y+=p==="\\"?2:1,p=m[y];return y+1}get strValue(){if(!this.valueRange||!this.context)return null;let m=[],{start:y,end:p}=this.valueRange,{indent:D,src:E}=this.context;E[p-1]!=='"'&&m.push(new t.YAMLSyntaxError(this,'Missing closing "quote'));let P="";for(let C=y+1;C<p-1;++C){let R=E[C];if(R===`
`){t.Node.atDocumentBoundary(E,C+1)&&m.push(new t.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:I,offset:F,error:j}=t.Node.foldNewline(E,C,D);P+=I,C=F,j&&m.push(new t.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(R==="\\")switch(C+=1,E[C]){case"0":P+="\0";break;case"a":P+="\x07";break;case"b":P+="\b";break;case"e":P+="\x1B";break;case"f":P+="\f";break;case"n":P+=`
`;break;case"r":P+="\r";break;case"t":P+="	";break;case"v":P+="\v";break;case"N":P+="";break;case"_":P+=" ";break;case"L":P+="\u2028";break;case"P":P+="\u2029";break;case" ":P+=" ";break;case'"':P+='"';break;case"/":P+="/";break;case"\\":P+="\\";break;case"	":P+="	";break;case"x":P+=this.parseCharCode(C+1,2,m),C+=2;break;case"u":P+=this.parseCharCode(C+1,4,m),C+=4;break;case"U":P+=this.parseCharCode(C+1,8,m),C+=8;break;case`
`:for(;E[C+1]===" "||E[C+1]==="	";)C+=1;break;default:m.push(new t.YAMLSyntaxError(this,`Invalid escape sequence ${E.substr(C-1,2)}`)),P+="\\"+E[C]}else if(R===" "||R==="	"){let I=C,F=E[C+1];for(;F===" "||F==="	";)C+=1,F=E[C+1];F!==`
`&&(P+=C>I?E.slice(I,C+1):R)}else P+=R}return m.length>0?{errors:m,str:P}:P}parseCharCode(m,y,p){let{src:D}=this.context,E=D.substr(m,y),P=E.length===y&&/^[0-9a-fA-F]+$/.test(E)?parseInt(E,16):NaN;return isNaN(P)?(p.push(new t.YAMLSyntaxError(this,`Invalid escape sequence ${D.substr(m-2,y+2)}`)),D.substr(m-2,y+2)):String.fromCodePoint(P)}parse(m,y){this.context=m;let{src:p}=m,D=j$.endOfQuote(p,y+1);return this.valueRange=new t.Range(y,D),D=t.Node.endOfWhiteSpace(p,D),D=this.parseComment(D),D}},k=class x$ extends t.Node{static endOfQuote(m,y){let p=m[y];for(;p;)if(p==="'"){if(m[y+1]!=="'")break;p=m[y+=2]}else p=m[y+=1];return y+1}get strValue(){if(!this.valueRange||!this.context)return null;let m=[],{start:y,end:p}=this.valueRange,{indent:D,src:E}=this.context;E[p-1]!=="'"&&m.push(new t.YAMLSyntaxError(this,"Missing closing 'quote"));let P="";for(let C=y+1;C<p-1;++C){let R=E[C];if(R===`
`){t.Node.atDocumentBoundary(E,C+1)&&m.push(new t.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:I,offset:F,error:j}=t.Node.foldNewline(E,C,D);P+=I,C=F,j&&m.push(new t.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(R==="'")P+=R,C+=1,E[C]!=="'"&&m.push(new t.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(R===" "||R==="	"){let I=C,F=E[C+1];for(;F===" "||F==="	";)C+=1,F=E[C+1];F!==`
`&&(P+=C>I?E.slice(I,C+1):R)}else P+=R}return m.length>0?{errors:m,str:P}:P}parse(m,y){this.context=m;let{src:p}=m,D=x$.endOfQuote(p,y+1);return this.valueRange=new t.Range(y,D),D=t.Node.endOfWhiteSpace(p,D),D=this.parseComment(D),D}};function $(b,m){switch(b){case t.Type.ALIAS:return new f(b,m);case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:return new h(b,m);case t.Type.FLOW_MAP:case t.Type.FLOW_SEQ:return new v(b,m);case t.Type.MAP_KEY:case t.Type.MAP_VALUE:case t.Type.SEQ_ITEM:return new r(b,m);case t.Type.COMMENT:case t.Type.PLAIN:return new t.PlainValue(b,m);case t.Type.QUOTE_DOUBLE:return new w(b,m);case t.Type.QUOTE_SINGLE:return new k(b,m);default:return null}}var _=class Fd{static parseType(m,y,p){switch(m[y]){case"*":return t.Type.ALIAS;case">":return t.Type.BLOCK_FOLDED;case"|":return t.Type.BLOCK_LITERAL;case"{":return t.Type.FLOW_MAP;case"[":return t.Type.FLOW_SEQ;case"?":return!p&&t.Node.atBlank(m,y+1,!0)?t.Type.MAP_KEY:t.Type.PLAIN;case":":return!p&&t.Node.atBlank(m,y+1,!0)?t.Type.MAP_VALUE:t.Type.PLAIN;case"-":return!p&&t.Node.atBlank(m,y+1,!0)?t.Type.SEQ_ITEM:t.Type.PLAIN;case'"':return t.Type.QUOTE_DOUBLE;case"'":return t.Type.QUOTE_SINGLE;default:return t.Type.PLAIN}}constructor(m={},{atLineStart:y,inCollection:p,inFlow:D,indent:E,lineStart:P,parent:C}={}){t._defineProperty(this,"parseNode",(R,I)=>{if(t.Node.atDocumentBoundary(this.src,I))return null;let F=new Fd(this,R),{props:j,type:Q,valueStart:ae}=F.parseProps(I),ce=$(Q,j),he=ce.parse(F,ae);if(ce.range=new t.Range(I,he),he<=I&&(ce.error=new Error("Node#parse consumed no characters"),ce.error.parseEnd=he,ce.error.source=ce,ce.range.end=I+1),F.nodeStartsCollection(ce)){!ce.error&&!F.atLineStart&&F.parent.type===t.Type.DOCUMENT&&(ce.error=new t.YAMLSyntaxError(ce,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let Te=new o(ce);return he=Te.parse(new Fd(F),he),Te.range=new t.Range(I,he),Te}return ce}),this.atLineStart=y??(m.atLineStart||!1),this.inCollection=p??(m.inCollection||!1),this.inFlow=D??(m.inFlow||!1),this.indent=E??m.indent,this.lineStart=P??m.lineStart,this.parent=C??(m.parent||{}),this.root=m.root,this.src=m.src}nodeStartsCollection(m){let{inCollection:y,inFlow:p,src:D}=this;if(y||p)return!1;if(m instanceof r)return!0;let E=m.range.end;return D[E]===`
`||D[E-1]===`
`?!1:(E=t.Node.endOfWhiteSpace(D,E),D[E]===":")}parseProps(m){let{inFlow:y,parent:p,src:D}=this,E=[],P=!1;m=this.atLineStart?t.Node.endOfIndent(D,m):t.Node.endOfWhiteSpace(D,m);let C=D[m];for(;C===t.Char.ANCHOR||C===t.Char.COMMENT||C===t.Char.TAG||C===`
`;){if(C===`
`){let I=m,F;do F=I+1,I=t.Node.endOfIndent(D,F);while(D[I]===`
`);let j=I-(F+this.indent),Q=p.type===t.Type.SEQ_ITEM&&p.context.atLineStart;if(D[I]!=="#"&&!t.Node.nextNodeIsIndented(D[I],j,!Q))break;this.atLineStart=!0,this.lineStart=F,P=!1,m=I}else if(C===t.Char.COMMENT){let I=t.Node.endOfLine(D,m+1);E.push(new t.Range(m,I)),m=I}else{let I=t.Node.endOfIdentifier(D,m+1);C===t.Char.TAG&&D[I]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(D.slice(m+1,I+13))&&(I=t.Node.endOfIdentifier(D,I+5)),E.push(new t.Range(m,I)),P=!0,m=t.Node.endOfWhiteSpace(D,I)}C=D[m]}P&&C===":"&&t.Node.atBlank(D,m+1,!0)&&(m-=1);let R=Fd.parseType(D,m,y);return{props:E,type:R,valueStart:m}}};function T(b){let m=[];b.indexOf("\r")!==-1&&(b=b.replace(/\r\n?/g,(D,E)=>(D.length>1&&m.push(E),`
`)));let y=[],p=0;do{let D=new c,E=new _({src:b});p=D.parse(E,p),y.push(D)}while(p<b.length);return y.setOrigRanges=()=>{if(m.length===0)return!1;for(let E=1;E<m.length;++E)m[E]-=E;let D=0;for(let E=0;E<y.length;++E)D=y[E].setOrigRanges(m,D);return m.splice(0,m.length),!0},y.toString=()=>y.join(`...
`),y}e.parse=T}),hu=_i(e=>{var t=Vs();function n(Y,B,x){return x?`#${x.replace(/[\s\S]^/gm,`$&${B}#`)}
${B}${Y}`:Y}function r(Y,B,x){return x?x.indexOf(`
`)===-1?`${Y} #${x}`:`${Y}
`+x.replace(/^/gm,`${B||""}#`):Y}var i=class{};function s(Y,B,x){if(Array.isArray(Y))return Y.map((W,O)=>s(W,String(O),x));if(Y&&typeof Y.toJSON=="function"){let W=x&&x.anchors&&x.anchors.get(Y);W&&(x.onCreate=S=>{W.res=S,delete x.onCreate});let O=Y.toJSON(B,x);return W&&x.onCreate&&x.onCreate(O),O}return(!x||!x.keep)&&typeof Y=="bigint"?Number(Y):Y}var o=class extends i{constructor(Y){super(),this.value=Y}toJSON(Y,B){return B&&B.keep?this.value:s(this.value,Y,B)}toString(){return String(this.value)}};function u(Y,B,x){let W=x;for(let O=B.length-1;O>=0;--O){let S=B[O];if(Number.isInteger(S)&&S>=0){let A=[];A[S]=W,W=A}else{let A={};Object.defineProperty(A,S,{value:W,writable:!0,enumerable:!0,configurable:!0}),W=A}}return Y.createNode(W,!1)}var c=Y=>Y==null||typeof Y=="object"&&Y[Symbol.iterator]().next().done,f=class vo extends i{constructor(B){super(),t._defineProperty(this,"items",[]),this.schema=B}addIn(B,x){if(c(B))this.add(x);else{let[W,...O]=B,S=this.get(W,!0);if(S instanceof vo)S.addIn(O,x);else if(S===void 0&&this.schema)this.set(W,u(this.schema,O,x));else throw new Error(`Expected YAML collection at ${W}. Remaining path: ${O}`)}}deleteIn([B,...x]){if(x.length===0)return this.delete(B);let W=this.get(B,!0);if(W instanceof vo)return W.deleteIn(x);throw new Error(`Expected YAML collection at ${B}. Remaining path: ${x}`)}getIn([B,...x],W){let O=this.get(B,!0);return x.length===0?!W&&O instanceof o?O.value:O:O instanceof vo?O.getIn(x,W):void 0}hasAllNullValues(){return this.items.every(B=>{if(!B||B.type!=="PAIR")return!1;let x=B.value;return x==null||x instanceof o&&x.value==null&&!x.commentBefore&&!x.comment&&!x.tag})}hasIn([B,...x]){if(x.length===0)return this.has(B);let W=this.get(B,!0);return W instanceof vo?W.hasIn(x):!1}setIn([B,...x],W){if(x.length===0)this.set(B,W);else{let O=this.get(B,!0);if(O instanceof vo)O.setIn(x,W);else if(O===void 0&&this.schema)this.set(B,u(this.schema,x,W));else throw new Error(`Expected YAML collection at ${B}. Remaining path: ${x}`)}}toJSON(){return null}toString(B,{blockItem:x,flowChars:W,isMap:O,itemIndent:S},A,M){let{indent:z,indentStep:Z,stringify:se}=B,Ee=this.type===t.Type.FLOW_MAP||this.type===t.Type.FLOW_SEQ||B.inFlow;Ee&&(S+=Z);let je=O&&this.hasAllNullValues();B=Object.assign({},B,{allNullValues:je,indent:S,inFlow:Ee,type:null});let Pe=!1,xe=!1,Ce=this.items.reduce((jt,et,vt)=>{let rt;et&&(!Pe&&et.spaceBefore&&jt.push({type:"comment",str:""}),et.commentBefore&&et.commentBefore.match(/^.*$/gm).forEach(rr=>{jt.push({type:"comment",str:`#${rr}`})}),et.comment&&(rt=et.comment),Ee&&(!Pe&&et.spaceBefore||et.commentBefore||et.comment||et.key&&(et.key.commentBefore||et.key.comment)||et.value&&(et.value.commentBefore||et.value.comment))&&(xe=!0)),Pe=!1;let Zt=se(et,B,()=>rt=null,()=>Pe=!0);return Ee&&!xe&&Zt.includes(`
`)&&(xe=!0),Ee&&vt<this.items.length-1&&(Zt+=","),Zt=r(Zt,S,rt),Pe&&(rt||Ee)&&(Pe=!1),jt.push({type:"item",str:Zt}),jt},[]),at;if(Ce.length===0)at=W.start+W.end;else if(Ee){let{start:jt,end:et}=W,vt=Ce.map(rt=>rt.str);if(xe||vt.reduce((rt,Zt)=>rt+Zt.length+2,2)>vo.maxFlowStringSingleLineLength){at=jt;for(let rt of vt)at+=rt?`
${Z}${z}${rt}`:`
`;at+=`
${z}${et}`}else at=`${jt} ${vt.join(" ")} ${et}`}else{let jt=Ce.map(x);at=jt.shift();for(let et of jt)at+=et?`
${z}${et}`:`
`}return this.comment?(at+=`
`+this.comment.replace(/^/gm,`${z}#`),A&&A()):Pe&&M&&M(),at}};t._defineProperty(f,"maxFlowStringSingleLineLength",60);function d(Y){let B=Y instanceof o?Y.value:Y;return B&&typeof B=="string"&&(B=Number(B)),Number.isInteger(B)&&B>=0?B:null}var h=class extends f{add(Y){this.items.push(Y)}delete(Y){let B=d(Y);return typeof B!="number"?!1:this.items.splice(B,1).length>0}get(Y,B){let x=d(Y);if(typeof x!="number")return;let W=this.items[x];return!B&&W instanceof o?W.value:W}has(Y){let B=d(Y);return typeof B=="number"&&B<this.items.length}set(Y,B){let x=d(Y);if(typeof x!="number")throw new Error(`Expected a valid index, not ${Y}.`);this.items[x]=B}toJSON(Y,B){let x=[];B&&B.onCreate&&B.onCreate(x);let W=0;for(let O of this.items)x.push(s(O,String(W++),B));return x}toString(Y,B,x){return Y?super.toString(Y,{blockItem:W=>W.type==="comment"?W.str:`- ${W.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(Y.indent||"")+"  "},B,x):JSON.stringify(this)}},v=(Y,B,x)=>B===null?"":typeof B!="object"?String(B):Y instanceof i&&x&&x.doc?Y.toString({anchors:Object.create(null),doc:x.doc,indent:"",indentStep:x.indentStep,inFlow:!0,inStringifyKey:!0,stringify:x.stringify}):JSON.stringify(B),w=class q$ extends i{constructor(B,x=null){super(),this.key=B,this.value=x,this.type=q$.Type.PAIR}get commentBefore(){return this.key instanceof i?this.key.commentBefore:void 0}set commentBefore(B){if(this.key==null&&(this.key=new o(null)),this.key instanceof i)this.key.commentBefore=B;else{let x="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(x)}}addToJSMap(B,x){let W=s(this.key,"",B);if(x instanceof Map){let O=s(this.value,W,B);x.set(W,O)}else if(x instanceof Set)x.add(W);else{let O=v(this.key,W,B),S=s(this.value,O,B);O in x?Object.defineProperty(x,O,{value:S,writable:!0,enumerable:!0,configurable:!0}):x[O]=S}return x}toJSON(B,x){let W=x&&x.mapAsMap?new Map:{};return this.addToJSMap(x,W)}toString(B,x,W){if(!B||!B.doc)return JSON.stringify(this);let{indent:O,indentSeq:S,simpleKeys:A}=B.doc.options,{key:M,value:z}=this,Z=M instanceof i&&M.comment;if(A){if(Z)throw new Error("With simple keys, key nodes cannot have comments");if(M instanceof f){let Zt="With simple keys, collection cannot be used as a key value";throw new Error(Zt)}}let se=!A&&(!M||Z||(M instanceof i?M instanceof f||M.type===t.Type.BLOCK_FOLDED||M.type===t.Type.BLOCK_LITERAL:typeof M=="object")),{doc:Ee,indent:je,indentStep:Pe,stringify:xe}=B;B=Object.assign({},B,{implicitKey:!se,indent:je+Pe});let Ce=!1,at=xe(M,B,()=>Z=null,()=>Ce=!0);if(at=r(at,B.indent,Z),!se&&at.length>1024){if(A)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");se=!0}if(B.allNullValues&&!A)return this.comment?(at=r(at,B.indent,this.comment),x&&x()):Ce&&!Z&&W&&W(),B.inFlow&&!se?at:`? ${at}`;at=se?`? ${at}
${je}:`:`${at}:`,this.comment&&(at=r(at,B.indent,this.comment),x&&x());let jt="",et=null;if(z instanceof i){if(z.spaceBefore&&(jt=`
`),z.commentBefore){let Zt=z.commentBefore.replace(/^/gm,`${B.indent}#`);jt+=`
${Zt}`}et=z.comment}else z&&typeof z=="object"&&(z=Ee.schema.createNode(z,!0));B.implicitKey=!1,!se&&!this.comment&&z instanceof o&&(B.indentAtStart=at.length+1),Ce=!1,!S&&O>=2&&!B.inFlow&&!se&&z instanceof h&&z.type!==t.Type.FLOW_SEQ&&!z.tag&&!Ee.anchors.getName(z)&&(B.indent=B.indent.substr(2));let vt=xe(z,B,()=>et=null,()=>Ce=!0),rt=" ";return jt||this.comment?rt=`${jt}
${B.indent}`:!se&&z instanceof f?(!(vt[0]==="["||vt[0]==="{")||vt.includes(`
`))&&(rt=`
${B.indent}`):vt[0]===`
`&&(rt=""),Ce&&!et&&W&&W(),r(at+rt+vt,B.indent,et)}};t._defineProperty(w,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var k=(Y,B)=>{if(Y instanceof $){let x=B.get(Y.source);return x.count*x.aliasCount}else if(Y instanceof f){let x=0;for(let W of Y.items){let O=k(W,B);O>x&&(x=O)}return x}else if(Y instanceof w){let x=k(Y.key,B),W=k(Y.value,B);return Math.max(x,W)}return 1},$=class B$ extends i{static stringify({range:B,source:x},{anchors:W,doc:O,implicitKey:S,inStringifyKey:A}){let M=Object.keys(W).find(Z=>W[Z]===x);if(!M&&A&&(M=O.anchors.getName(x)||O.anchors.newName()),M)return`*${M}${S?" ":""}`;let z=O.anchors.getName(x)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${z} [${B}]`)}constructor(B){super(),this.source=B,this.type=t.Type.ALIAS}set tag(B){throw new Error("Alias nodes cannot have tags")}toJSON(B,x){if(!x)return s(this.source,B,x);let{anchors:W,maxAliasCount:O}=x,S=W.get(this.source);if(!S||S.res===void 0){let A="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new t.YAMLReferenceError(this.cstNode,A):new ReferenceError(A)}if(O>=0&&(S.count+=1,S.aliasCount===0&&(S.aliasCount=k(this.source,W)),S.count*S.aliasCount>O)){let A="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new t.YAMLReferenceError(this.cstNode,A):new ReferenceError(A)}return S.res}toString(B){return B$.stringify(this,B)}};t._defineProperty($,"default",!0);function _(Y,B){let x=B instanceof o?B.value:B;for(let W of Y)if(W instanceof w&&(W.key===B||W.key===x||W.key&&W.key.value===x))return W}var T=class extends f{add(Y,B){Y?Y instanceof w||(Y=new w(Y.key||Y,Y.value)):Y=new w(Y);let x=_(this.items,Y.key),W=this.schema&&this.schema.sortMapEntries;if(x)if(B)x.value=Y.value;else throw new Error(`Key ${Y.key} already set`);else if(W){let O=this.items.findIndex(S=>W(Y,S)<0);O===-1?this.items.push(Y):this.items.splice(O,0,Y)}else this.items.push(Y)}delete(Y){let B=_(this.items,Y);return B?this.items.splice(this.items.indexOf(B),1).length>0:!1}get(Y,B){let x=_(this.items,Y),W=x&&x.value;return!B&&W instanceof o?W.value:W}has(Y){return!!_(this.items,Y)}set(Y,B){this.add(new w(Y,B),!0)}toJSON(Y,B,x){let W=x?new x:B&&B.mapAsMap?new Map:{};B&&B.onCreate&&B.onCreate(W);for(let O of this.items)O.addToJSMap(B,W);return W}toString(Y,B,x){if(!Y)return JSON.stringify(this);for(let W of this.items)if(!(W instanceof w))throw new Error(`Map items must all be pairs; found ${JSON.stringify(W)} instead`);return super.toString(Y,{blockItem:W=>W.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:Y.indent||""},B,x)}},b="<<",m=class extends w{constructor(Y){if(Y instanceof w){let B=Y.value;B instanceof h||(B=new h,B.items.push(Y.value),B.range=Y.value.range),super(Y.key,B),this.range=Y.range}else super(new o(b),new h);this.type=w.Type.MERGE_PAIR}addToJSMap(Y,B){for(let{source:x}of this.value.items){if(!(x instanceof T))throw new Error("Merge sources must be maps");let W=x.toJSON(null,Y,Map);for(let[O,S]of W)B instanceof Map?B.has(O)||B.set(O,S):B instanceof Set?B.add(O):Object.prototype.hasOwnProperty.call(B,O)||Object.defineProperty(B,O,{value:S,writable:!0,enumerable:!0,configurable:!0})}return B}toString(Y,B){let x=this.value;if(x.items.length>1)return super.toString(Y,B);this.value=x.items[0];let W=super.toString(Y,B);return this.value=x,W}},y={defaultType:t.Type.BLOCK_LITERAL,lineWidth:76},p={trueStr:"true",falseStr:"false"},D={asBigInt:!1},E={nullStr:"null"},P={defaultType:t.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function C(Y,B,x){for(let{format:W,test:O,resolve:S}of B)if(O){let A=Y.match(O);if(A){let M=S.apply(null,A);return M instanceof o||(M=new o(M)),W&&(M.format=W),M}}return x&&(Y=x(Y)),new o(Y)}var R="flow",I="block",F="quoted",j=(Y,B)=>{let x=Y[B+1];for(;x===" "||x==="	";){do x=Y[B+=1];while(x&&x!==`
`);x=Y[B+1]}return B};function Q(Y,B,x,{indentAtStart:W,lineWidth:O=80,minContentWidth:S=20,onFold:A,onOverflow:M}){if(!O||O<0)return Y;let z=Math.max(1+S,1+O-B.length);if(Y.length<=z)return Y;let Z=[],se={},Ee=O-B.length;typeof W=="number"&&(W>O-Math.max(2,S)?Z.push(0):Ee=O-W);let je,Pe,xe=!1,Ce=-1,at=-1,jt=-1;x===I&&(Ce=j(Y,Ce),Ce!==-1&&(Ee=Ce+z));for(let vt;vt=Y[Ce+=1];){if(x===F&&vt==="\\"){switch(at=Ce,Y[Ce+1]){case"x":Ce+=3;break;case"u":Ce+=5;break;case"U":Ce+=9;break;default:Ce+=1}jt=Ce}if(vt===`
`)x===I&&(Ce=j(Y,Ce)),Ee=Ce+z,je=void 0;else{if(vt===" "&&Pe&&Pe!==" "&&Pe!==`
`&&Pe!=="	"){let rt=Y[Ce+1];rt&&rt!==" "&&rt!==`
`&&rt!=="	"&&(je=Ce)}if(Ce>=Ee)if(je)Z.push(je),Ee=je+z,je=void 0;else if(x===F){for(;Pe===" "||Pe==="	";)Pe=vt,vt=Y[Ce+=1],xe=!0;let rt=Ce>jt+1?Ce-2:at-1;if(se[rt])return Y;Z.push(rt),se[rt]=!0,Ee=rt+z,je=void 0}else xe=!0}Pe=vt}if(xe&&M&&M(),Z.length===0)return Y;A&&A();let et=Y.slice(0,Z[0]);for(let vt=0;vt<Z.length;++vt){let rt=Z[vt],Zt=Z[vt+1]||Y.length;rt===0?et=`
${B}${Y.slice(0,Zt)}`:(x===F&&se[rt]&&(et+=`${Y[rt]}\\`),et+=`
${B}${Y.slice(rt+1,Zt)}`)}return et}var ae=({indentAtStart:Y})=>Y?Object.assign({indentAtStart:Y},P.fold):P.fold,ce=Y=>/^(%|---|\.\.\.)/m.test(Y);function he(Y,B,x){if(!B||B<0)return!1;let W=B-x,O=Y.length;if(O<=W)return!1;for(let S=0,A=0;S<O;++S)if(Y[S]===`
`){if(S-A>W)return!0;if(A=S+1,O-A<=W)return!1}return!0}function Te(Y,B){let{implicitKey:x}=B,{jsonEncoding:W,minMultiLineLength:O}=P.doubleQuoted,S=JSON.stringify(Y);if(W)return S;let A=B.indent||(ce(Y)?"  ":""),M="",z=0;for(let Z=0,se=S[Z];se;se=S[++Z])if(se===" "&&S[Z+1]==="\\"&&S[Z+2]==="n"&&(M+=S.slice(z,Z)+"\\ ",Z+=1,z=Z,se="\\"),se==="\\")switch(S[Z+1]){case"u":{M+=S.slice(z,Z);let Ee=S.substr(Z+2,4);switch(Ee){case"0000":M+="\\0";break;case"0007":M+="\\a";break;case"000b":M+="\\v";break;case"001b":M+="\\e";break;case"0085":M+="\\N";break;case"00a0":M+="\\_";break;case"2028":M+="\\L";break;case"2029":M+="\\P";break;default:Ee.substr(0,2)==="00"?M+="\\x"+Ee.substr(2):M+=S.substr(Z,6)}Z+=5,z=Z+1}break;case"n":if(x||S[Z+2]==='"'||S.length<O)Z+=1;else{for(M+=S.slice(z,Z)+`

`;S[Z+2]==="\\"&&S[Z+3]==="n"&&S[Z+4]!=='"';)M+=`
`,Z+=2;M+=A,S[Z+2]===" "&&(M+="\\"),Z+=1,z=Z+1}break;default:Z+=1}return M=z?M+S.slice(z):S,x?M:Q(M,A,F,ae(B))}function Ye(Y,B){if(B.implicitKey){if(/\n/.test(Y))return Te(Y,B)}else if(/[ \t]\n|\n[ \t]/.test(Y))return Te(Y,B);let x=B.indent||(ce(Y)?"  ":""),W="'"+Y.replace(/'/g,"''").replace(/\n+/g,`$&
${x}`)+"'";return B.implicitKey?W:Q(W,x,R,ae(B))}function ge({comment:Y,type:B,value:x},W,O,S){if(/\n[\t ]+$/.test(x)||/^\s*$/.test(x))return Te(x,W);let A=W.indent||(W.forceBlockIndent||ce(x)?"  ":""),M=A?"2":"1",z=B===t.Type.BLOCK_FOLDED?!1:B===t.Type.BLOCK_LITERAL?!0:!he(x,P.fold.lineWidth,A.length),Z=z?"|":">";if(!x)return Z+`
`;let se="",Ee="";if(x=x.replace(/[\n\t ]*$/,Pe=>{let xe=Pe.indexOf(`
`);return xe===-1?Z+="-":(x===Pe||xe!==Pe.length-1)&&(Z+="+",S&&S()),Ee=Pe.replace(/\n$/,""),""}).replace(/^[\n ]*/,Pe=>{Pe.indexOf(" ")!==-1&&(Z+=M);let xe=Pe.match(/ +$/);return xe?(se=Pe.slice(0,-xe[0].length),xe[0]):(se=Pe,"")}),Ee&&(Ee=Ee.replace(/\n+(?!\n|$)/g,`$&${A}`)),se&&(se=se.replace(/\n+/g,`$&${A}`)),Y&&(Z+=" #"+Y.replace(/ ?[\r\n]+/g," "),O&&O()),!x)return`${Z}${M}
${A}${Ee}`;if(z)return x=x.replace(/\n+/g,`$&${A}`),`${Z}
${A}${se}${x}${Ee}`;x=x.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${A}`);let je=Q(`${se}${x}${Ee}`,A,I,P.fold);return`${Z}
${A}${je}`}function V(Y,B,x,W){let{comment:O,type:S,value:A}=Y,{actualString:M,implicitKey:z,indent:Z,inFlow:se}=B;if(z&&/[\n[\]{},]/.test(A)||se&&/[[\]{},]/.test(A))return Te(A,B);if(!A||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(A))return z||se||A.indexOf(`
`)===-1?A.indexOf('"')!==-1&&A.indexOf("'")===-1?Ye(A,B):Te(A,B):ge(Y,B,x,W);if(!z&&!se&&S!==t.Type.PLAIN&&A.indexOf(`
`)!==-1)return ge(Y,B,x,W);if(Z===""&&ce(A))return B.forceBlockIndent=!0,ge(Y,B,x,W);let Ee=A.replace(/\n+/g,`$&
${Z}`);if(M){let{tags:Pe}=B.doc.schema;if(typeof C(Ee,Pe,Pe.scalarFallback).value!="string")return Te(A,B)}let je=z?Ee:Q(Ee,Z,R,ae(B));return O&&!se&&(je.indexOf(`
`)!==-1||O.indexOf(`
`)!==-1)?(x&&x(),n(je,Z,O)):je}function oe(Y,B,x,W){let{defaultType:O}=P,{implicitKey:S,inFlow:A}=B,{type:M,value:z}=Y;typeof z!="string"&&(z=String(z),Y=Object.assign({},Y,{value:z}));let Z=Ee=>{switch(Ee){case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:return ge(Y,B,x,W);case t.Type.QUOTE_DOUBLE:return Te(z,B);case t.Type.QUOTE_SINGLE:return Ye(z,B);case t.Type.PLAIN:return V(Y,B,x,W);default:return null}};(M!==t.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(z)||(S||A)&&(M===t.Type.BLOCK_FOLDED||M===t.Type.BLOCK_LITERAL))&&(M=t.Type.QUOTE_DOUBLE);let se=Z(M);if(se===null&&(se=Z(O),se===null))throw new Error(`Unsupported default string type ${O}`);return se}function re({format:Y,minFractionDigits:B,tag:x,value:W}){if(typeof W=="bigint")return String(W);if(!isFinite(W))return isNaN(W)?".nan":W<0?"-.inf":".inf";let O=JSON.stringify(W);if(!Y&&B&&(!x||x==="tag:yaml.org,2002:float")&&/^\d/.test(O)){let S=O.indexOf(".");S<0&&(S=O.length,O+=".");let A=B-(O.length-S-1);for(;A-- >0;)O+="0"}return O}function q(Y,B){let x,W;switch(B.type){case t.Type.FLOW_MAP:x="}",W="flow map";break;case t.Type.FLOW_SEQ:x="]",W="flow sequence";break;default:Y.push(new t.YAMLSemanticError(B,"Not a flow collection!?"));return}let O;for(let S=B.items.length-1;S>=0;--S){let A=B.items[S];if(!A||A.type!==t.Type.COMMENT){O=A;break}}if(O&&O.char!==x){let S=`Expected ${W} to end with ${x}`,A;typeof O.offset=="number"?(A=new t.YAMLSemanticError(B,S),A.offset=O.offset+1):(A=new t.YAMLSemanticError(O,S),O.range&&O.range.end&&(A.offset=O.range.end-O.range.start)),Y.push(A)}}function X(Y,B){let x=B.context.src[B.range.start-1];if(x!==`
`&&x!=="	"&&x!==" "){let W="Comments must be separated from other tokens by white space characters";Y.push(new t.YAMLSemanticError(B,W))}}function fe(Y,B){let x=String(B),W=x.substr(0,8)+"..."+x.substr(-8);return new t.YAMLSemanticError(Y,`The "${W}" key is too long`)}function $e(Y,B){for(let{afterKey:x,before:W,comment:O}of B){let S=Y.items[W];S?(x&&S.value&&(S=S.value),O===void 0?(x||!S.commentBefore)&&(S.spaceBefore=!0):S.commentBefore?S.commentBefore+=`
`+O:S.commentBefore=O):O!==void 0&&(Y.comment?Y.comment+=`
`+O:Y.comment=O)}}function ke(Y,B){let x=B.strValue;return x?typeof x=="string"?x:(x.errors.forEach(W=>{W.source||(W.source=B),Y.errors.push(W)}),x.str):""}function Fe(Y,B){let{handle:x,suffix:W}=B.tag,O=Y.tagPrefixes.find(S=>S.handle===x);if(!O){let S=Y.getDefaults().tagPrefixes;if(S&&(O=S.find(A=>A.handle===x)),!O)throw new t.YAMLSemanticError(B,`The ${x} tag handle is non-default and was not declared.`)}if(!W)throw new t.YAMLSemanticError(B,`The ${x} tag has no suffix.`);if(x==="!"&&(Y.version||Y.options.version)==="1.0"){if(W[0]==="^")return Y.warnings.push(new t.YAMLWarning(B,"YAML 1.0 ^ tag expansion is not supported")),W;if(/[:/]/.test(W)){let S=W.match(/^([a-z0-9-]+)\/(.*)/i);return S?`tag:${S[1]}.yaml.org,2002:${S[2]}`:`tag:${W}`}}return O.prefix+decodeURIComponent(W)}function we(Y,B){let{tag:x,type:W}=B,O=!1;if(x){let{handle:S,suffix:A,verbatim:M}=x;if(M){if(M!=="!"&&M!=="!!")return M;let z=`Verbatim tags aren't resolved, so ${M} is invalid.`;Y.errors.push(new t.YAMLSemanticError(B,z))}else if(S==="!"&&!A)O=!0;else try{return Fe(Y,B)}catch(z){Y.errors.push(z)}}switch(W){case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:case t.Type.QUOTE_DOUBLE:case t.Type.QUOTE_SINGLE:return t.defaultTags.STR;case t.Type.FLOW_MAP:case t.Type.MAP:return t.defaultTags.MAP;case t.Type.FLOW_SEQ:case t.Type.SEQ:return t.defaultTags.SEQ;case t.Type.PLAIN:return O?t.defaultTags.STR:null;default:return null}}function U(Y,B,x){let{tags:W}=Y.schema,O=[];for(let A of W)if(A.tag===x)if(A.test)O.push(A);else{let M=A.resolve(Y,B);return M instanceof f?M:new o(M)}let S=ke(Y,B);return typeof S=="string"&&O.length>0?C(S,O,W.scalarFallback):null}function J({type:Y}){switch(Y){case t.Type.FLOW_MAP:case t.Type.MAP:return t.defaultTags.MAP;case t.Type.FLOW_SEQ:case t.Type.SEQ:return t.defaultTags.SEQ;default:return t.defaultTags.STR}}function de(Y,B,x){try{let W=U(Y,B,x);if(W)return x&&B.tag&&(W.tag=x),W}catch(W){return W.source||(W.source=B),Y.errors.push(W),null}try{let W=J(B);if(!W)throw new Error(`The tag ${x} is unavailable`);let O=`The tag ${x} is unavailable, falling back to ${W}`;Y.warnings.push(new t.YAMLWarning(B,O));let S=U(Y,B,W);return S.tag=x,S}catch(W){let O=new t.YAMLReferenceError(B,W.message);return O.stack=W.stack,Y.errors.push(O),null}}var ne=Y=>{if(!Y)return!1;let{type:B}=Y;return B===t.Type.MAP_KEY||B===t.Type.MAP_VALUE||B===t.Type.SEQ_ITEM};function Se(Y,B){let x={before:[],after:[]},W=!1,O=!1,S=ne(B.context.parent)?B.context.parent.props.concat(B.props):B.props;for(let{start:A,end:M}of S)switch(B.context.src[A]){case t.Char.COMMENT:{if(!B.commentHasRequiredWhitespace(A)){let se="Comments must be separated from other tokens by white space characters";Y.push(new t.YAMLSemanticError(B,se))}let{header:z,valueRange:Z}=B;(Z&&(A>Z.start||z&&A>z.start)?x.after:x.before).push(B.context.src.slice(A+1,M));break}case t.Char.ANCHOR:if(W){let z="A node can have at most one anchor";Y.push(new t.YAMLSemanticError(B,z))}W=!0;break;case t.Char.TAG:if(O){let z="A node can have at most one tag";Y.push(new t.YAMLSemanticError(B,z))}O=!0;break}return{comments:x,hasAnchor:W,hasTag:O}}function Re(Y,B){let{anchors:x,errors:W,schema:O}=Y;if(B.type===t.Type.ALIAS){let A=B.rawValue,M=x.getNode(A);if(!M){let Z=`Aliased anchor not found: ${A}`;return W.push(new t.YAMLReferenceError(B,Z)),null}let z=new $(M);return x._cstAliases.push(z),z}let S=we(Y,B);if(S)return de(Y,B,S);if(B.type!==t.Type.PLAIN){let A=`Failed to resolve ${B.type} node here`;return W.push(new t.YAMLSyntaxError(B,A)),null}try{let A=ke(Y,B);return C(A,O.tags,O.tags.scalarFallback)}catch(A){return A.source||(A.source=B),W.push(A),null}}function qe(Y,B){if(!B)return null;B.error&&Y.errors.push(B.error);let{comments:x,hasAnchor:W,hasTag:O}=Se(Y.errors,B);if(W){let{anchors:A}=Y,M=B.anchor,z=A.getNode(M);z&&(A.map[A.newName(M)]=z),A.map[M]=B}if(B.type===t.Type.ALIAS&&(W||O)){let A="An alias node must not specify any properties";Y.errors.push(new t.YAMLSemanticError(B,A))}let S=Re(Y,B);if(S){S.range=[B.range.start,B.range.end],Y.options.keepCstNodes&&(S.cstNode=B),Y.options.keepNodeTypes&&(S.type=B.type);let A=x.before.join(`
`);A&&(S.commentBefore=S.commentBefore?`${S.commentBefore}
${A}`:A);let M=x.after.join(`
`);M&&(S.comment=S.comment?`${S.comment}
${M}`:M)}return B.resolved=S}function Rt(Y,B){if(B.type!==t.Type.MAP&&B.type!==t.Type.FLOW_MAP){let A=`A ${B.type} node cannot be resolved as a mapping`;return Y.errors.push(new t.YAMLSyntaxError(B,A)),null}let{comments:x,items:W}=B.type===t.Type.FLOW_MAP?Ft(Y,B):Ke(Y,B),O=new T;O.items=W,$e(O,x);let S=!1;for(let A=0;A<W.length;++A){let{key:M}=W[A];if(M instanceof f&&(S=!0),Y.schema.merge&&M&&M.value===b){W[A]=new m(W[A]);let z=W[A].value.items,Z=null;z.some(se=>{if(se instanceof $){let{type:Ee}=se.source;return Ee===t.Type.MAP||Ee===t.Type.FLOW_MAP?!1:Z="Merge nodes aliases can only point to maps"}return Z="Merge nodes can only have Alias nodes as values"}),Z&&Y.errors.push(new t.YAMLSemanticError(B,Z))}else for(let z=A+1;z<W.length;++z){let{key:Z}=W[z];if(M===Z||M&&Z&&Object.prototype.hasOwnProperty.call(M,"value")&&M.value===Z.value){let se=`Map keys must be unique; "${M}" is repeated`;Y.errors.push(new t.YAMLSemanticError(B,se));break}}}if(S&&!Y.options.mapAsMap){let A="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";Y.warnings.push(new t.YAMLWarning(B,A))}return B.resolved=O,O}var Tt=({context:{lineStart:Y,node:B,src:x},props:W})=>{if(W.length===0)return!1;let{start:O}=W[0];if(B&&O>B.valueRange.start||x[O]!==t.Char.COMMENT)return!1;for(let S=Y;S<O;++S)if(x[S]===`
`)return!1;return!0};function dt(Y,B){if(!Tt(Y))return;let x=Y.getPropValue(0,t.Char.COMMENT,!0),W=!1,O=B.value.commentBefore;if(O&&O.startsWith(x))B.value.commentBefore=O.substr(x.length+1),W=!0;else{let S=B.value.comment;!Y.node&&S&&S.startsWith(x)&&(B.value.comment=S.substr(x.length+1),W=!0)}W&&(B.comment=x)}function Ke(Y,B){let x=[],W=[],O,S=null;for(let A=0;A<B.items.length;++A){let M=B.items[A];switch(M.type){case t.Type.BLANK_LINE:x.push({afterKey:!!O,before:W.length});break;case t.Type.COMMENT:x.push({afterKey:!!O,before:W.length,comment:M.comment});break;case t.Type.MAP_KEY:O!==void 0&&W.push(new w(O)),M.error&&Y.errors.push(M.error),O=qe(Y,M.node),S=null;break;case t.Type.MAP_VALUE:{if(O===void 0&&(O=null),M.error&&Y.errors.push(M.error),!M.context.atLineStart&&M.node&&M.node.type===t.Type.MAP&&!M.node.context.atLineStart){let se="Nested mappings are not allowed in compact mappings";Y.errors.push(new t.YAMLSemanticError(M.node,se))}let z=M.node;if(!z&&M.props.length>0){z=new t.PlainValue(t.Type.PLAIN,[]),z.context={parent:M,src:M.context.src};let se=M.range.start+1;if(z.range={start:se,end:se},z.valueRange={start:se,end:se},typeof M.range.origStart=="number"){let Ee=M.range.origStart+1;z.range.origStart=z.range.origEnd=Ee,z.valueRange.origStart=z.valueRange.origEnd=Ee}}let Z=new w(O,qe(Y,z));dt(M,Z),W.push(Z),O&&typeof S=="number"&&M.range.start>S+1024&&Y.errors.push(fe(B,O)),O=void 0,S=null}break;default:O!==void 0&&W.push(new w(O)),O=qe(Y,M),S=M.range.start,M.error&&Y.errors.push(M.error);e:for(let z=A+1;;++z){let Z=B.items[z];switch(Z&&Z.type){case t.Type.BLANK_LINE:case t.Type.COMMENT:continue e;case t.Type.MAP_VALUE:break e;default:{let se="Implicit map keys need to be followed by map values";Y.errors.push(new t.YAMLSemanticError(M,se));break e}}}if(M.valueRangeContainsNewline){let z="Implicit map keys need to be on a single line";Y.errors.push(new t.YAMLSemanticError(M,z))}}}return O!==void 0&&W.push(new w(O)),{comments:x,items:W}}function Ft(Y,B){let x=[],W=[],O,S=!1,A="{";for(let M=0;M<B.items.length;++M){let z=B.items[M];if(typeof z.char=="string"){let{char:Z,offset:se}=z;if(Z==="?"&&O===void 0&&!S){S=!0,A=":";continue}if(Z===":"){if(O===void 0&&(O=null),A===":"){A=",";continue}}else if(S&&(O===void 0&&Z!==","&&(O=null),S=!1),O!==void 0&&(W.push(new w(O)),O=void 0,Z===",")){A=":";continue}if(Z==="}"){if(M===B.items.length-1)continue}else if(Z===A){A=":";continue}let Ee=`Flow map contains an unexpected ${Z}`,je=new t.YAMLSyntaxError(B,Ee);je.offset=se,Y.errors.push(je)}else z.type===t.Type.BLANK_LINE?x.push({afterKey:!!O,before:W.length}):z.type===t.Type.COMMENT?(X(Y.errors,z),x.push({afterKey:!!O,before:W.length,comment:z.comment})):O===void 0?(A===","&&Y.errors.push(new t.YAMLSemanticError(z,"Separator , missing in flow map")),O=qe(Y,z)):(A!==","&&Y.errors.push(new t.YAMLSemanticError(z,"Indicator : missing in flow map entry")),W.push(new w(O,qe(Y,z))),O=void 0,S=!1)}return q(Y.errors,B),O!==void 0&&W.push(new w(O)),{comments:x,items:W}}function At(Y,B){if(B.type!==t.Type.SEQ&&B.type!==t.Type.FLOW_SEQ){let S=`A ${B.type} node cannot be resolved as a sequence`;return Y.errors.push(new t.YAMLSyntaxError(B,S)),null}let{comments:x,items:W}=B.type===t.Type.FLOW_SEQ?yt(Y,B):Xt(Y,B),O=new h;if(O.items=W,$e(O,x),!Y.options.mapAsMap&&W.some(S=>S instanceof w&&S.key instanceof f)){let S="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";Y.warnings.push(new t.YAMLWarning(B,S))}return B.resolved=O,O}function Xt(Y,B){let x=[],W=[];for(let O=0;O<B.items.length;++O){let S=B.items[O];switch(S.type){case t.Type.BLANK_LINE:x.push({before:W.length});break;case t.Type.COMMENT:x.push({comment:S.comment,before:W.length});break;case t.Type.SEQ_ITEM:if(S.error&&Y.errors.push(S.error),W.push(qe(Y,S.node)),S.hasProps){let A="Sequence items cannot have tags or anchors before the - indicator";Y.errors.push(new t.YAMLSemanticError(S,A))}break;default:S.error&&Y.errors.push(S.error),Y.errors.push(new t.YAMLSyntaxError(S,`Unexpected ${S.type} node in sequence`))}}return{comments:x,items:W}}function yt(Y,B){let x=[],W=[],O=!1,S,A=null,M="[",z=null;for(let Z=0;Z<B.items.length;++Z){let se=B.items[Z];if(typeof se.char=="string"){let{char:Ee,offset:je}=se;if(Ee!==":"&&(O||S!==void 0)&&(O&&S===void 0&&(S=M?W.pop():null),W.push(new w(S)),O=!1,S=void 0,A=null),Ee===M)M=null;else if(!M&&Ee==="?")O=!0;else if(M!=="["&&Ee===":"&&S===void 0){if(M===","){if(S=W.pop(),S instanceof w){let Pe="Chaining flow sequence pairs is invalid",xe=new t.YAMLSemanticError(B,Pe);xe.offset=je,Y.errors.push(xe)}if(!O&&typeof A=="number"){let Pe=se.range?se.range.start:se.offset;Pe>A+1024&&Y.errors.push(fe(B,S));let{src:xe}=z.context;for(let Ce=A;Ce<Pe;++Ce)if(xe[Ce]===`
`){let at="Implicit keys of flow sequence pairs need to be on a single line";Y.errors.push(new t.YAMLSemanticError(z,at));break}}}else S=null;A=null,O=!1,M=null}else if(M==="["||Ee!=="]"||Z<B.items.length-1){let Pe=`Flow sequence contains an unexpected ${Ee}`,xe=new t.YAMLSyntaxError(B,Pe);xe.offset=je,Y.errors.push(xe)}}else if(se.type===t.Type.BLANK_LINE)x.push({before:W.length});else if(se.type===t.Type.COMMENT)X(Y.errors,se),x.push({comment:se.comment,before:W.length});else{if(M){let je=`Expected a ${M} in flow sequence`;Y.errors.push(new t.YAMLSemanticError(se,je))}let Ee=qe(Y,se);S===void 0?(W.push(Ee),z=se):(W.push(new w(S,Ee)),S=void 0),A=se.range.start,M=","}}return q(Y.errors,B),S!==void 0&&W.push(new w(S)),{comments:x,items:W}}e.Alias=$,e.Collection=f,e.Merge=m,e.Node=i,e.Pair=w,e.Scalar=o,e.YAMLMap=T,e.YAMLSeq=h,e.addComment=r,e.binaryOptions=y,e.boolOptions=p,e.findPair=_,e.intOptions=D,e.isEmptyPath=c,e.nullOptions=E,e.resolveMap=Rt,e.resolveNode=qe,e.resolveSeq=At,e.resolveString=ke,e.strOptions=P,e.stringifyNumber=re,e.stringifyString=oe,e.toJSON=s}),u1=_i(e=>{var t=Vs(),n=hu(),r={identify:C=>C instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(C,R)=>{let I=n.resolveString(C,R);if(typeof Jr=="function")return Jr.from(I,"base64");if(typeof atob=="function"){let F=atob(I.replace(/[\n\r]/g,"")),j=new Uint8Array(F.length);for(let Q=0;Q<F.length;++Q)j[Q]=F.charCodeAt(Q);return j}else{let F="This environment does not support reading binary tags; either Buffer or atob is required";return C.errors.push(new t.YAMLReferenceError(R,F)),null}},options:n.binaryOptions,stringify:({comment:C,type:R,value:I},F,j,Q)=>{let ae;if(typeof Jr=="function")ae=I instanceof Jr?I.toString("base64"):Jr.from(I.buffer).toString("base64");else if(typeof btoa=="function"){let ce="";for(let he=0;he<I.length;++he)ce+=String.fromCharCode(I[he]);ae=btoa(ce)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(R||(R=n.binaryOptions.defaultType),R===t.Type.QUOTE_DOUBLE)I=ae;else{let{lineWidth:ce}=n.binaryOptions,he=Math.ceil(ae.length/ce),Te=new Array(he);for(let Ye=0,ge=0;Ye<he;++Ye,ge+=ce)Te[Ye]=ae.substr(ge,ce);I=Te.join(R===t.Type.BLOCK_LITERAL?`
`:" ")}return n.stringifyString({comment:C,type:R,value:I},F,j,Q)}};function i(C,R){let I=n.resolveSeq(C,R);for(let F=0;F<I.items.length;++F){let j=I.items[F];if(!(j instanceof n.Pair)){if(j instanceof n.YAMLMap){if(j.items.length>1){let ae="Each pair must have its own sequence indicator";throw new t.YAMLSemanticError(R,ae)}let Q=j.items[0]||new n.Pair;j.commentBefore&&(Q.commentBefore=Q.commentBefore?`${j.commentBefore}
${Q.commentBefore}`:j.commentBefore),j.comment&&(Q.comment=Q.comment?`${j.comment}
${Q.comment}`:j.comment),j=Q}I.items[F]=j instanceof n.Pair?j:new n.Pair(j)}}return I}function s(C,R,I){let F=new n.YAMLSeq(C);F.tag="tag:yaml.org,2002:pairs";for(let j of R){let Q,ae;if(Array.isArray(j))if(j.length===2)Q=j[0],ae=j[1];else throw new TypeError(`Expected [key, value] tuple: ${j}`);else if(j&&j instanceof Object){let he=Object.keys(j);if(he.length===1)Q=he[0],ae=j[Q];else throw new TypeError(`Expected { key: value } tuple: ${j}`)}else Q=j;let ce=C.createPair(Q,ae,I);F.items.push(ce)}return F}var o={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:i,createNode:s},u=class W$ extends n.YAMLSeq{constructor(){super(),t._defineProperty(this,"add",n.YAMLMap.prototype.add.bind(this)),t._defineProperty(this,"delete",n.YAMLMap.prototype.delete.bind(this)),t._defineProperty(this,"get",n.YAMLMap.prototype.get.bind(this)),t._defineProperty(this,"has",n.YAMLMap.prototype.has.bind(this)),t._defineProperty(this,"set",n.YAMLMap.prototype.set.bind(this)),this.tag=W$.tag}toJSON(R,I){let F=new Map;I&&I.onCreate&&I.onCreate(F);for(let j of this.items){let Q,ae;if(j instanceof n.Pair?(Q=n.toJSON(j.key,"",I),ae=n.toJSON(j.value,Q,I)):Q=n.toJSON(j,"",I),F.has(Q))throw new Error("Ordered maps must not include duplicate keys");F.set(Q,ae)}return F}};t._defineProperty(u,"tag","tag:yaml.org,2002:omap");function c(C,R){let I=i(C,R),F=[];for(let{key:j}of I.items)if(j instanceof n.Scalar)if(F.includes(j.value)){let Q="Ordered maps must not include duplicate keys";throw new t.YAMLSemanticError(R,Q)}else F.push(j.value);return Object.assign(new u,I)}function f(C,R,I){let F=s(C,R,I),j=new u;return j.items=F.items,j}var d={identify:C=>C instanceof Map,nodeClass:u,default:!1,tag:"tag:yaml.org,2002:omap",resolve:c,createNode:f},h=class U$ extends n.YAMLMap{constructor(){super(),this.tag=U$.tag}add(R){let I=R instanceof n.Pair?R:new n.Pair(R);n.findPair(this.items,I.key)||this.items.push(I)}get(R,I){let F=n.findPair(this.items,R);return!I&&F instanceof n.Pair?F.key instanceof n.Scalar?F.key.value:F.key:F}set(R,I){if(typeof I!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof I}`);let F=n.findPair(this.items,R);F&&!I?this.items.splice(this.items.indexOf(F),1):!F&&I&&this.items.push(new n.Pair(R))}toJSON(R,I){return super.toJSON(R,I,Set)}toString(R,I,F){if(!R)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(R,I,F);throw new Error("Set items must all have null values")}};t._defineProperty(h,"tag","tag:yaml.org,2002:set");function v(C,R){let I=n.resolveMap(C,R);if(!I.hasAllNullValues())throw new t.YAMLSemanticError(R,"Set items must all have null values");return Object.assign(new h,I)}function w(C,R,I){let F=new h;for(let j of R)F.items.push(C.createPair(j,null,I));return F}var k={identify:C=>C instanceof Set,nodeClass:h,default:!1,tag:"tag:yaml.org,2002:set",resolve:v,createNode:w},$=(C,R)=>{let I=R.split(":").reduce((F,j)=>F*60+Number(j),0);return C==="-"?-I:I},_=({value:C})=>{if(isNaN(C)||!isFinite(C))return n.stringifyNumber(C);let R="";C<0&&(R="-",C=Math.abs(C));let I=[C%60];return C<60?I.unshift(0):(C=Math.round((C-I[0])/60),I.unshift(C%60),C>=60&&(C=Math.round((C-I[0])/60),I.unshift(C))),R+I.map(F=>F<10?"0"+String(F):String(F)).join(":").replace(/000000\d*$/,"")},T={identify:C=>typeof C=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(C,R,I)=>$(R,I.replace(/_/g,"")),stringify:_},b={identify:C=>typeof C=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(C,R,I)=>$(R,I.replace(/_/g,"")),stringify:_},m={identify:C=>C instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(C,R,I,F,j,Q,ae,ce,he)=>{ce&&(ce=(ce+"00").substr(1,3));let Te=Date.UTC(R,I-1,F,j||0,Q||0,ae||0,ce||0);if(he&&he!=="Z"){let Ye=$(he[0],he.slice(1));Math.abs(Ye)<30&&(Ye*=60),Te-=6e4*Ye}return new Date(Te)},stringify:({value:C})=>C.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function y(C){let R={};return C?typeof YAML_SILENCE_DEPRECATION_WARNINGS<"u"?!YAML_SILENCE_DEPRECATION_WARNINGS:!R.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS<"u"?!YAML_SILENCE_WARNINGS:!R.YAML_SILENCE_WARNINGS}function p(C,R){y(!1)&&console.warn(R?`${R}: ${C}`:C)}function D(C){if(y(!0)){let R=C.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");p(`The endpoint 'yaml/${R}' will be removed in a future release.`,"DeprecationWarning")}}var E={};function P(C,R){if(!E[C]&&y(!0)){E[C]=!0;let I=`The option '${C}' will be removed in a future release`;I+=R?`, use '${R}' instead.`:".",p(I,"DeprecationWarning")}}e.binary=r,e.floatTime=b,e.intTime=T,e.omap=d,e.pairs=o,e.set=k,e.timestamp=m,e.warn=p,e.warnFileDeprecation=D,e.warnOptionDeprecation=P}),c1=_i(e=>{var t=Vs(),n=hu(),r=u1();function i(V,oe,re){let q=new n.YAMLMap(V);if(oe instanceof Map)for(let[X,fe]of oe)q.items.push(V.createPair(X,fe,re));else if(oe&&typeof oe=="object")for(let X of Object.keys(oe))q.items.push(V.createPair(X,oe[X],re));return typeof V.sortMapEntries=="function"&&q.items.sort(V.sortMapEntries),q}var s={createNode:i,default:!0,nodeClass:n.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:n.resolveMap};function o(V,oe,re){let q=new n.YAMLSeq(V);if(oe&&oe[Symbol.iterator])for(let X of oe){let fe=V.createNode(X,re.wrapScalars,null,re);q.items.push(fe)}return q}var u={createNode:o,default:!0,nodeClass:n.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:n.resolveSeq},c={identify:V=>typeof V=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n.resolveString,stringify(V,oe,re,q){return oe=Object.assign({actualString:!0},oe),n.stringifyString(V,oe,re,q)},options:n.strOptions},f=[s,u,c],d=V=>typeof V=="bigint"||Number.isInteger(V),h=(V,oe,re)=>n.intOptions.asBigInt?BigInt(V):parseInt(oe,re);function v(V,oe,re){let{value:q}=V;return d(q)&&q>=0?re+q.toString(oe):n.stringifyNumber(V)}var w={identify:V=>V==null,createNode:(V,oe,re)=>re.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:n.nullOptions,stringify:()=>n.nullOptions.nullStr},k={identify:V=>typeof V=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:V=>V[0]==="t"||V[0]==="T",options:n.boolOptions,stringify:({value:V})=>V?n.boolOptions.trueStr:n.boolOptions.falseStr},$={identify:V=>d(V)&&V>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(V,oe)=>h(V,oe,8),options:n.intOptions,stringify:V=>v(V,8,"0o")},_={identify:d,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:V=>h(V,V,10),options:n.intOptions,stringify:n.stringifyNumber},T={identify:V=>d(V)&&V>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(V,oe)=>h(V,oe,16),options:n.intOptions,stringify:V=>v(V,16,"0x")},b={identify:V=>typeof V=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(V,oe)=>oe?NaN:V[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},m={identify:V=>typeof V=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:V=>parseFloat(V),stringify:({value:V})=>Number(V).toExponential()},y={identify:V=>typeof V=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(V,oe,re){let q=oe||re,X=new n.Scalar(parseFloat(V));return q&&q[q.length-1]==="0"&&(X.minFractionDigits=q.length),X},stringify:n.stringifyNumber},p=f.concat([w,k,$,_,T,b,m,y]),D=V=>typeof V=="bigint"||Number.isInteger(V),E=({value:V})=>JSON.stringify(V),P=[s,u,{identify:V=>typeof V=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n.resolveString,stringify:E},{identify:V=>V==null,createNode:(V,oe,re)=>re.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:E},{identify:V=>typeof V=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:V=>V==="true",stringify:E},{identify:D,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:V=>n.intOptions.asBigInt?BigInt(V):parseInt(V,10),stringify:({value:V})=>D(V)?V.toString():JSON.stringify(V)},{identify:V=>typeof V=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:V=>parseFloat(V),stringify:E}];P.scalarFallback=V=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(V)}`)};var C=({value:V})=>V?n.boolOptions.trueStr:n.boolOptions.falseStr,R=V=>typeof V=="bigint"||Number.isInteger(V);function I(V,oe,re){let q=oe.replace(/_/g,"");if(n.intOptions.asBigInt){switch(re){case 2:q=`0b${q}`;break;case 8:q=`0o${q}`;break;case 16:q=`0x${q}`;break}let fe=BigInt(q);return V==="-"?BigInt(-1)*fe:fe}let X=parseInt(q,re);return V==="-"?-1*X:X}function F(V,oe,re){let{value:q}=V;if(R(q)){let X=q.toString(oe);return q<0?"-"+re+X.substr(1):re+X}return n.stringifyNumber(V)}var j=f.concat([{identify:V=>V==null,createNode:(V,oe,re)=>re.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:n.nullOptions,stringify:()=>n.nullOptions.nullStr},{identify:V=>typeof V=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:n.boolOptions,stringify:C},{identify:V=>typeof V=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:n.boolOptions,stringify:C},{identify:R,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(V,oe,re)=>I(oe,re,2),stringify:V=>F(V,2,"0b")},{identify:R,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(V,oe,re)=>I(oe,re,8),stringify:V=>F(V,8,"0")},{identify:R,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(V,oe,re)=>I(oe,re,10),stringify:n.stringifyNumber},{identify:R,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(V,oe,re)=>I(oe,re,16),stringify:V=>F(V,16,"0x")},{identify:V=>typeof V=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(V,oe)=>oe?NaN:V[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},{identify:V=>typeof V=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:V=>parseFloat(V.replace(/_/g,"")),stringify:({value:V})=>Number(V).toExponential()},{identify:V=>typeof V=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(V,oe){let re=new n.Scalar(parseFloat(V.replace(/_/g,"")));if(oe){let q=oe.replace(/_/g,"");q[q.length-1]==="0"&&(re.minFractionDigits=q.length)}return re},stringify:n.stringifyNumber}],r.binary,r.omap,r.pairs,r.set,r.intTime,r.floatTime,r.timestamp),Q={core:p,failsafe:f,json:P,yaml11:j},ae={binary:r.binary,bool:k,float:y,floatExp:m,floatNaN:b,floatTime:r.floatTime,int:_,intHex:T,intOct:$,intTime:r.intTime,map:s,null:w,omap:r.omap,pairs:r.pairs,seq:u,set:r.set,timestamp:r.timestamp};function ce(V,oe,re){if(oe){let q=re.filter(fe=>fe.tag===oe),X=q.find(fe=>!fe.format)||q[0];if(!X)throw new Error(`Tag ${oe} not found`);return X}return re.find(q=>(q.identify&&q.identify(V)||q.class&&V instanceof q.class)&&!q.format)}function he(V,oe,re){if(V instanceof n.Node)return V;let{defaultPrefix:q,onTagObj:X,prevObjects:fe,schema:$e,wrapScalars:ke}=re;oe&&oe.startsWith("!!")&&(oe=q+oe.slice(2));let Fe=ce(V,oe,$e.tags);if(!Fe){if(typeof V.toJSON=="function"&&(V=V.toJSON()),!V||typeof V!="object")return ke?new n.Scalar(V):V;Fe=V instanceof Map?s:V[Symbol.iterator]?u:s}X&&(X(Fe),delete re.onTagObj);let we={value:void 0,node:void 0};if(V&&typeof V=="object"&&fe){let U=fe.get(V);if(U){let J=new n.Alias(U);return re.aliasNodes.push(J),J}we.value=V,fe.set(V,we)}return we.node=Fe.createNode?Fe.createNode(re.schema,V,re):ke?new n.Scalar(V):V,oe&&we.node instanceof n.Node&&(we.node.tag=oe),we.node}function Te(V,oe,re,q){let X=V[q.replace(/\W/g,"")];if(!X){let fe=Object.keys(V).map($e=>JSON.stringify($e)).join(", ");throw new Error(`Unknown schema "${q}"; use one of ${fe}`)}if(Array.isArray(re))for(let fe of re)X=X.concat(fe);else typeof re=="function"&&(X=re(X.slice()));for(let fe=0;fe<X.length;++fe){let $e=X[fe];if(typeof $e=="string"){let ke=oe[$e];if(!ke){let Fe=Object.keys(oe).map(we=>JSON.stringify(we)).join(", ");throw new Error(`Unknown custom tag "${$e}"; use one of ${Fe}`)}X[fe]=ke}}return X}var Ye=(V,oe)=>V.key<oe.key?-1:V.key>oe.key?1:0,ge=class V${constructor({customTags:oe,merge:re,schema:q,sortMapEntries:X,tags:fe}){this.merge=!!re,this.name=q,this.sortMapEntries=X===!0?Ye:X||null,!oe&&fe&&r.warnOptionDeprecation("tags","customTags"),this.tags=Te(Q,ae,oe||fe,q)}createNode(oe,re,q,X){let fe={defaultPrefix:V$.defaultPrefix,schema:this,wrapScalars:re},$e=X?Object.assign(X,fe):fe;return he(oe,q,$e)}createPair(oe,re,q){q||(q={wrapScalars:!0});let X=this.createNode(oe,q.wrapScalars,null,q),fe=this.createNode(re,q.wrapScalars,null,q);return new n.Pair(X,fe)}};t._defineProperty(ge,"defaultPrefix",t.defaultTagPrefix),t._defineProperty(ge,"defaultTags",t.defaultTags),e.Schema=ge}),GO=_i(e=>{var t=Vs(),n=hu(),r=c1(),i={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},s={get binary(){return n.binaryOptions},set binary(y){Object.assign(n.binaryOptions,y)},get bool(){return n.boolOptions},set bool(y){Object.assign(n.boolOptions,y)},get int(){return n.intOptions},set int(y){Object.assign(n.intOptions,y)},get null(){return n.nullOptions},set null(y){Object.assign(n.nullOptions,y)},get str(){return n.strOptions},set str(y){Object.assign(n.strOptions,y)}},o={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:t.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:t.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:t.defaultTagPrefix}]}};function u(y,p){if((y.version||y.options.version)==="1.0"){let P=p.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(P)return"!"+P[1];let C=p.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return C?`!${C[1]}/${C[2]}`:`!${p.replace(/^tag:/,"")}`}let D=y.tagPrefixes.find(P=>p.indexOf(P.prefix)===0);if(!D){let P=y.getDefaults().tagPrefixes;D=P&&P.find(C=>p.indexOf(C.prefix)===0)}if(!D)return p[0]==="!"?p:`!<${p}>`;let E=p.substr(D.prefix.length).replace(/[!,[\]{}]/g,P=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[P]);return D.handle+E}function c(y,p){if(p instanceof n.Alias)return n.Alias;if(p.tag){let P=y.filter(C=>C.tag===p.tag);if(P.length>0)return P.find(C=>C.format===p.format)||P[0]}let D,E;if(p instanceof n.Scalar){E=p.value;let P=y.filter(C=>C.identify&&C.identify(E)||C.class&&E instanceof C.class);D=P.find(C=>C.format===p.format)||P.find(C=>!C.format)}else E=p,D=y.find(P=>P.nodeClass&&E instanceof P.nodeClass);if(!D){let P=E&&E.constructor?E.constructor.name:typeof E;throw new Error(`Tag not resolved for ${P} value`)}return D}function f(y,p,{anchors:D,doc:E}){let P=[],C=E.anchors.getName(y);return C&&(D[C]=y,P.push(`&${C}`)),y.tag?P.push(u(E,y.tag)):p.default||P.push(u(E,p.tag)),P.join(" ")}function d(y,p,D,E){let{anchors:P,schema:C}=p.doc,R;if(!(y instanceof n.Node)){let j={aliasNodes:[],onTagObj:Q=>R=Q,prevObjects:new Map};y=C.createNode(y,!0,null,j);for(let Q of j.aliasNodes){Q.source=Q.source.node;let ae=P.getName(Q.source);ae||(ae=P.newName(),P.map[ae]=Q.source)}}if(y instanceof n.Pair)return y.toString(p,D,E);R||(R=c(C.tags,y));let I=f(y,R,p);I.length>0&&(p.indentAtStart=(p.indentAtStart||0)+I.length+1);let F=typeof R.stringify=="function"?R.stringify(y,p,D,E):y instanceof n.Scalar?n.stringifyString(y,p,D,E):y.toString(p,D,E);return I?y instanceof n.Scalar||F[0]==="{"||F[0]==="["?`${I} ${F}`:`${I}
${p.indent}${F}`:F}var h=class H${static validAnchorNode(p){return p instanceof n.Scalar||p instanceof n.YAMLSeq||p instanceof n.YAMLMap}constructor(p){t._defineProperty(this,"map",Object.create(null)),this.prefix=p}createAlias(p,D){return this.setAnchor(p,D),new n.Alias(p)}createMergePair(...p){let D=new n.Merge;return D.value.items=p.map(E=>{if(E instanceof n.Alias){if(E.source instanceof n.YAMLMap)return E}else if(E instanceof n.YAMLMap)return this.createAlias(E);throw new Error("Merge sources must be Map nodes or their Aliases")}),D}getName(p){let{map:D}=this;return Object.keys(D).find(E=>D[E]===p)}getNames(){return Object.keys(this.map)}getNode(p){return this.map[p]}newName(p){p||(p=this.prefix);let D=Object.keys(this.map);for(let E=1;;++E){let P=`${p}${E}`;if(!D.includes(P))return P}}resolveNodes(){let{map:p,_cstAliases:D}=this;Object.keys(p).forEach(E=>{p[E]=p[E].resolved}),D.forEach(E=>{E.source=E.source.resolved}),delete this._cstAliases}setAnchor(p,D){if(p!=null&&!H$.validAnchorNode(p))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(D&&/[\x00-\x19\s,[\]{}]/.test(D))throw new Error("Anchor names must not contain whitespace or control characters");let{map:E}=this,P=p&&Object.keys(E).find(C=>E[C]===p);if(P)if(D)P!==D&&(delete E[P],E[D]=p);else return P;else{if(!D){if(!p)return null;D=this.newName()}E[D]=p}return D}},v=(y,p)=>{if(y&&typeof y=="object"){let{tag:D}=y;y instanceof n.Collection?(D&&(p[D]=!0),y.items.forEach(E=>v(E,p))):y instanceof n.Pair?(v(y.key,p),v(y.value,p)):y instanceof n.Scalar&&D&&(p[D]=!0)}return p},w=y=>Object.keys(v(y,{}));function k(y,p){let D={before:[],after:[]},E,P=!1;for(let C of p)if(C.valueRange){if(E!==void 0){let I="Document contains trailing content not separated by a ... or --- line";y.errors.push(new t.YAMLSyntaxError(C,I));break}let R=n.resolveNode(y,C);P&&(R.spaceBefore=!0,P=!1),E=R}else C.comment!==null?(E===void 0?D.before:D.after).push(C.comment):C.type===t.Type.BLANK_LINE&&(P=!0,E===void 0&&D.before.length>0&&!y.commentBefore&&(y.commentBefore=D.before.join(`
`),D.before=[]));if(y.contents=E||null,!E)y.comment=D.before.concat(D.after).join(`
`)||null;else{let C=D.before.join(`
`);if(C){let R=E instanceof n.Collection&&E.items[0]?E.items[0]:E;R.commentBefore=R.commentBefore?`${C}
${R.commentBefore}`:C}y.comment=D.after.join(`
`)||null}}function $({tagPrefixes:y},p){let[D,E]=p.parameters;if(!D||!E){let P="Insufficient parameters given for %TAG directive";throw new t.YAMLSemanticError(p,P)}if(y.some(P=>P.handle===D)){let P="The %TAG directive must only be given at most once per handle in the same document.";throw new t.YAMLSemanticError(p,P)}return{handle:D,prefix:E}}function _(y,p){let[D]=p.parameters;if(p.name==="YAML:1.0"&&(D="1.0"),!D){let E="Insufficient parameters given for %YAML directive";throw new t.YAMLSemanticError(p,E)}if(!o[D]){let E=`Document will be parsed as YAML ${y.version||y.options.version} rather than YAML ${D}`;y.warnings.push(new t.YAMLWarning(p,E))}return D}function T(y,p,D){let E=[],P=!1;for(let C of p){let{comment:R,name:I}=C;switch(I){case"TAG":try{y.tagPrefixes.push($(y,C))}catch(F){y.errors.push(F)}P=!0;break;case"YAML":case"YAML:1.0":if(y.version){let F="The %YAML directive must only be given at most once per document.";y.errors.push(new t.YAMLSemanticError(C,F))}try{y.version=_(y,C)}catch(F){y.errors.push(F)}P=!0;break;default:if(I){let F=`YAML only supports %TAG and %YAML directives, and not %${I}`;y.warnings.push(new t.YAMLWarning(C,F))}}R&&E.push(R)}if(D&&!P&&(y.version||D.version||y.options.version)==="1.1"){let C=({handle:R,prefix:I})=>({handle:R,prefix:I});y.tagPrefixes=D.tagPrefixes.map(C),y.version=D.version}y.commentBefore=E.join(`
`)||null}function b(y){if(y instanceof n.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var m=class fy{constructor(p){this.anchors=new h(p.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=p,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(p){return b(this.contents),this.contents.add(p)}addIn(p,D){b(this.contents),this.contents.addIn(p,D)}delete(p){return b(this.contents),this.contents.delete(p)}deleteIn(p){return n.isEmptyPath(p)?this.contents==null?!1:(this.contents=null,!0):(b(this.contents),this.contents.deleteIn(p))}getDefaults(){return fy.defaults[this.version]||fy.defaults[this.options.version]||{}}get(p,D){return this.contents instanceof n.Collection?this.contents.get(p,D):void 0}getIn(p,D){return n.isEmptyPath(p)?!D&&this.contents instanceof n.Scalar?this.contents.value:this.contents:this.contents instanceof n.Collection?this.contents.getIn(p,D):void 0}has(p){return this.contents instanceof n.Collection?this.contents.has(p):!1}hasIn(p){return n.isEmptyPath(p)?this.contents!==void 0:this.contents instanceof n.Collection?this.contents.hasIn(p):!1}set(p,D){b(this.contents),this.contents.set(p,D)}setIn(p,D){n.isEmptyPath(p)?this.contents=D:(b(this.contents),this.contents.setIn(p,D))}setSchema(p,D){if(!p&&!D&&this.schema)return;typeof p=="number"&&(p=p.toFixed(1)),p==="1.0"||p==="1.1"||p==="1.2"?(this.version?this.version=p:this.options.version=p,delete this.options.schema):p&&typeof p=="string"&&(this.options.schema=p),Array.isArray(D)&&(this.options.customTags=D);let E=Object.assign({},this.getDefaults(),this.options);this.schema=new r.Schema(E)}parse(p,D){this.options.keepCstNodes&&(this.cstNode=p),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:E=[],contents:P=[],directivesEndMarker:C,error:R,valueRange:I}=p;if(R&&(R.source||(R.source=this),this.errors.push(R)),T(this,E,D),C&&(this.directivesEndMarker=!0),this.range=I?[I.start,I.end]:null,this.setSchema(),this.anchors._cstAliases=[],k(this,P),this.anchors.resolveNodes(),this.options.prettyErrors){for(let F of this.errors)F instanceof t.YAMLError&&F.makePretty();for(let F of this.warnings)F instanceof t.YAMLError&&F.makePretty()}return this}listNonDefaultTags(){return w(this.contents).filter(p=>p.indexOf(r.Schema.defaultPrefix)!==0)}setTagPrefix(p,D){if(p[0]!=="!"||p[p.length-1]!=="!")throw new Error("Handle must start and end with !");if(D){let E=this.tagPrefixes.find(P=>P.handle===p);E?E.prefix=D:this.tagPrefixes.push({handle:p,prefix:D})}else this.tagPrefixes=this.tagPrefixes.filter(E=>E.handle!==p)}toJSON(p,D){let{keepBlobsInJSON:E,mapAsMap:P,maxAliasCount:C}=this.options,R=E&&(typeof p!="string"||!(this.contents instanceof n.Scalar)),I={doc:this,indentStep:"  ",keep:R,mapAsMap:R&&!!P,maxAliasCount:C,stringify:d},F=Object.keys(this.anchors.map);F.length>0&&(I.anchors=new Map(F.map(Q=>[this.anchors.map[Q],{alias:[],aliasCount:0,count:1}])));let j=n.toJSON(this.contents,p,I);if(typeof D=="function"&&I.anchors)for(let{count:Q,res:ae}of I.anchors.values())D(ae,Q);return j}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let p=this.options.indent;if(!Number.isInteger(p)||p<=0){let F=JSON.stringify(p);throw new Error(`"indent" option must be a positive integer, not ${F}`)}this.setSchema();let D=[],E=!1;if(this.version){let F="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?F="%YAML:1.0":this.version==="1.1"&&(F="%YAML 1.1")),D.push(F),E=!0}let P=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:F,prefix:j})=>{P.some(Q=>Q.indexOf(j)===0)&&(D.push(`%TAG ${F} ${j}`),E=!0)}),(E||this.directivesEndMarker)&&D.push("---"),this.commentBefore&&((E||!this.directivesEndMarker)&&D.unshift(""),D.unshift(this.commentBefore.replace(/^/gm,"#")));let C={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(p),stringify:d},R=!1,I=null;if(this.contents){this.contents instanceof n.Node&&(this.contents.spaceBefore&&(E||this.directivesEndMarker)&&D.push(""),this.contents.commentBefore&&D.push(this.contents.commentBefore.replace(/^/gm,"#")),C.forceBlockIndent=!!this.comment,I=this.contents.comment);let F=I?null:()=>R=!0,j=d(this.contents,C,()=>I=null,F);D.push(n.addComment(j,"",I))}else this.contents!==void 0&&D.push(d(this.contents,C));return this.comment&&((!R||I)&&D[D.length-1]!==""&&D.push(""),D.push(this.comment.replace(/^/gm,"#"))),D.join(`
`)+`
`}};t._defineProperty(m,"defaults",o),e.Document=m,e.defaultOptions=i,e.scalarOptions=s}),JO=_i(e=>{var t=YO(),n=GO(),r=c1(),i=Vs(),s=u1();hu();function o(w,k=!0,$){$===void 0&&typeof k=="string"&&($=k,k=!0);let _=Object.assign({},n.Document.defaults[n.defaultOptions.version],n.defaultOptions);return new r.Schema(_).createNode(w,k,$)}var u=class extends n.Document{constructor(w){super(Object.assign({},n.defaultOptions,w))}};function c(w,k){let $=[],_;for(let T of t.parse(w)){let b=new u(k);b.parse(T,_),$.push(b),_=b}return $}function f(w,k){let $=t.parse(w),_=new u(k).parse($[0]);if($.length>1){let T="Source contains multiple documents; please use YAML.parseAllDocuments()";_.errors.unshift(new i.YAMLSemanticError($[1],T))}return _}function d(w,k){let $=f(w,k);if($.warnings.forEach(_=>s.warn(_)),$.errors.length>0)throw $.errors[0];return $.toJSON()}function h(w,k){let $=new u(k);return $.contents=w,String($)}var v={createNode:o,defaultOptions:n.defaultOptions,Document:u,parse:d,parseAllDocuments:c,parseCST:t.parse,parseDocument:f,scalarOptions:n.scalarOptions,stringify:h};e.YAML=v}),QO=_i((e,t)=>{t.exports=JO().YAML}),XO=_i(e=>{var t=hu(),n=Vs();e.findPair=t.findPair,e.parseMap=t.resolveMap,e.parseSeq=t.resolveSeq,e.stringifyNumber=t.stringifyNumber,e.stringifyString=t.stringifyString,e.toJSON=t.toJSON,e.Type=n.Type,e.YAMLError=n.YAMLError,e.YAMLReferenceError=n.YAMLReferenceError,e.YAMLSemanticError=n.YAMLSemanticError,e.YAMLSyntaxError=n.YAMLSyntaxError,e.YAMLWarning=n.YAMLWarning}),l1={};o1(l1,{languages:()=>j1,options:()=>x1,parsers:()=>om,printers:()=>iw});var ZO=(e,t,n,r)=>{if(!(e&&t==null))return t.replaceAll?t.replaceAll(n,r):n.global?t.replace(n,r):t.split(n).join(r)},Hp=ZO,f1="string",d1="array",h1="cursor",p1="indent",Kp="align",m1="trim",zp="group",Yp="fill",Gp="if-break",g1="indent-if-break",Jp="line-suffix",y1="line-suffix-boundary",Go="line",v1="label",Qp="break-parent",b1=new Set([h1,p1,Kp,m1,zp,Yp,Gp,g1,Jp,y1,Go,v1,Qp]),eP=(e,t,n)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[n<0?t.length+n:n]:t.at(n)},mr=eP;function tP(e){if(typeof e=="string")return f1;if(Array.isArray(e))return d1;if(!e)return;let{type:t}=e;if(b1.has(t))return t}var D1=tP,nP=e=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(e);function rP(e){let t=e===null?"null":typeof e;if(t!=="string"&&t!=="object")return`Unexpected doc '${t}', 
Expected it to be 'string' or 'object'.`;if(D1(e))throw new Error("doc is valid.");let n=Object.prototype.toString.call(e);if(n!=="[object Object]")return`Unexpected doc '${n}'.`;let r=nP([...b1].map(i=>`'${i}'`));return`Unexpected doc.type '${e.type}'.
Expected it to be ${r}.`}var iP=class extends Error{name="InvalidDocError";constructor(t){super(rP(t)),this.doc=t}},sP=iP;function oP(e,t){if(typeof e=="string")return t(e);let n=new Map;return r(e);function r(s){if(n.has(s))return n.get(s);let o=i(s);return n.set(s,o),o}function i(s){switch(D1(s)){case d1:return t(s.map(r));case Yp:return t({...s,parts:s.parts.map(r)});case Gp:return t({...s,breakContents:r(s.breakContents),flatContents:r(s.flatContents)});case zp:{let{expandedStates:o,contents:u}=s;return o?(o=o.map(r),u=o[0]):u=r(u),t({...s,contents:u,expandedStates:o})}case Kp:case p1:case g1:case v1:case Jp:return t({...s,contents:r(s.contents)});case f1:case h1:case m1:case y1:case Go:case Qp:return t(s);default:throw new sP(s)}}}function aP(e,t=em){return oP(e,n=>typeof n=="string"?Un(t,n.split(`
`)):n)}var uP=()=>{},cP=uP;function gf(e,t){return{type:Kp,contents:t,n:e}}function yf(e,t={}){return cP(t.expandedStates),{type:zp,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function w1(e){return gf(Number.NEGATIVE_INFINITY,e)}function lP(e){return gf({type:"root"},e)}function fP(e){return gf(-1,e)}function _1(e,t){return yf(e[0],{...t,expandedStates:e})}function E1(e){return{type:Yp,parts:e}}function Xp(e,t="",n={}){return{type:Gp,breakContents:e,flatContents:t,groupId:n.groupId}}function dP(e){return{type:Jp,contents:e}}var Zp={type:Qp},hP={type:Go,hard:!0},pP={type:Go,hard:!0,literal:!0},pu={type:Go},S1={type:Go,soft:!0},gt=[hP,Zp],em=[pP,Zp];function Un(e,t){let n=[];for(let r=0;r<t.length;r++)r!==0&&n.push(e),n.push(t[r]);return n}function mP(e){return(t,n,r)=>{let i=!!(r!=null&&r.backwards);if(n===!1)return!1;let{length:s}=t,o=n;for(;o>=0&&o<s;){let u=t.charAt(o);if(e instanceof RegExp){if(!e.test(u))return o}else if(!e.includes(u))return o;i?o--:o++}return o===-1||o===s?o:!1}}var $1=mP(" 	");function gP(e,t,n){let r=!!(n!=null&&n.backwards);if(t===!1)return!1;let i=e.charAt(t);if(r){if(e.charAt(t-1)==="\r"&&i===`
`)return t-2;if(i===`
`||i==="\r"||i==="\u2028"||i==="\u2029")return t-1}else{if(i==="\r"&&e.charAt(t+1)===`
`)return t+2;if(i===`
`||i==="\r"||i==="\u2028"||i==="\u2029")return t+1}return t}var k1=gP;function yP(e,t){let n=t-1;n=$1(e,n,{backwards:!0}),n=k1(e,n,{backwards:!0}),n=$1(e,n,{backwards:!0});let r=k1(e,n,{backwards:!0});return n!==r}var vP=yP,bP=class extends Error{name="UnexpectedNodeError";constructor(t,n,r="type"){super(`Unexpected ${n} node ${r}: ${JSON.stringify(t[r])}.`),this.node=t}},DP=bP;function T1(e,t){let{node:n}=e;if(n.type==="root"&&t.filepath&&/(?:[/\\]|^)\.(?:prettier|stylelint|lintstaged)rc$/u.test(t.filepath))return async r=>{let i=await r(t.originalText,{parser:"json"});return i?[i,gt]:void 0}}T1.getVisitorKeys=()=>[];var wP=T1,mu=null;function gu(e){if(mu!==null&&typeof mu.property){let t=mu;return mu=gu.prototype=null,t}return mu=gu.prototype=e??Object.create(null),new gu}var _P=10;for(let e=0;e<=_P;e++)gu();function EP(e){return gu(e)}function SP(e,t="type"){EP(e);function n(r){let i=r[t],s=e[i];if(!Array.isArray(s))throw Object.assign(new Error(`Missing visitor keys for '${i}'.`),{node:r});return s}return n}var $P=SP,kP=Object.fromEntries(Object.entries({root:["children"],document:["head","body","children"],documentHead:["children"],documentBody:["children"],directive:[],alias:[],blockLiteral:[],blockFolded:["children"],plain:["children"],quoteSingle:[],quoteDouble:[],mapping:["children"],mappingItem:["key","value","children"],mappingKey:["content","children"],mappingValue:["content","children"],sequence:["children"],sequenceItem:["content","children"],flowMapping:["children"],flowMappingItem:["key","value","children"],flowSequence:["children"],flowSequenceItem:["content","children"],comment:[],tag:[],anchor:[]}).map(([e,t])=>[e,[...t,"anchor","tag","indicatorComment","leadingComments","middleComments","trailingComment","endComments"]])),TP=kP,AP=$P(TP),CP=AP;function vf(e){return e.position.start.offset}function OP(e){return e.position.end.offset}function PP(e){return/^\s*@(?:prettier|format)\s*$/u.test(e)}function NP(e){return/^\s*#[^\S\n]*@(?:prettier|format)\s*?(?:\n|$)/u.test(e)}function RP(e){return`# @format

${e}`}function FP(e){return Array.isArray(e)&&e.length>0}var yu=FP;function Ei(e,t){return typeof e?.type=="string"&&(!t||t.includes(e.type))}function A1(e,t,n){return t("children"in e?{...e,children:e.children.map(r=>A1(r,t,e))}:e,n)}function vu(e,t,n){Object.defineProperty(e,t,{get:n,enumerable:!1})}function IP(e,t){let n=0,r=t.length;for(let i=e.position.end.offset-1;i<r;i++){let s=t[i];if(s===`
`&&n++,n===1&&/\S/u.test(s))return!1;if(n===2)return!0}return!1}function C1(e){let{node:t}=e;switch(t.type){case"tag":case"anchor":case"comment":return!1}let n=e.stack.length;for(let r=1;r<n;r++){let i=e.stack[r],s=e.stack[r-1];if(Array.isArray(s)&&typeof i=="number"&&i!==s.length-1)return!1}return!0}function tm(e){return yu(e.children)?tm(mr(!1,e.children,-1)):e}function O1(e){return e.value.trim()==="prettier-ignore"}function MP(e){let{node:t}=e;if(t.type==="documentBody"){let n=e.parent.head;return Lr(n)&&O1(mr(!1,n.endComments,-1))}return es(t)&&O1(mr(!1,t.leadingComments,-1))}function bf(e){return!yu(e.children)&&!LP(e)}function LP(e){return es(e)||Jo(e)||P1(e)||Mr(e)||Lr(e)}function es(e){return yu(e?.leadingComments)}function Jo(e){return yu(e?.middleComments)}function P1(e){return e?.indicatorComment}function Mr(e){return e?.trailingComment}function Lr(e){return yu(e?.endComments)}function N1(e){let t=[],n;for(let r of e.split(/( +)/u))r!==" "?n===" "?t.push(r):t.push((t.pop()||"")+r):n===void 0&&t.unshift(""),n=r;return n===" "&&t.push((t.pop()||"")+" "),t[0]===""&&(t.shift(),t.unshift(" "+(t.shift()||""))),t}function jP(e,t,n){let r=t.split(`
`).map((i,s,o)=>s===0&&s===o.length-1?i:s!==0&&s!==o.length-1?i.trim():s===0?i.trimEnd():i.trimStart());return n.proseWrap==="preserve"?r.map(i=>i.length===0?[]:[i]):r.map(i=>i.length===0?[]:N1(i)).reduce((i,s,o)=>o!==0&&r[o-1].length>0&&s.length>0&&!(e==="quoteDouble"&&mr(!1,mr(!1,i,-1),-1).endsWith("\\"))?[...i.slice(0,-1),[...mr(!1,i,-1),...s]]:[...i,s],[]).map(i=>n.proseWrap==="never"?[i.join(" ")]:i)}function xP(e,{parentIndent:t,isLastDescendant:n,options:r}){let i=e.position.start.line===e.position.end.line?"":r.originalText.slice(e.position.start.offset,e.position.end.offset).match(/^[^\n]*\n(.*)$/su)[1],s;if(e.indent===null){let c=i.match(/^(?<leadingSpace> *)[^\n\r ]/mu);s=c?c.groups.leadingSpace.length:Number.POSITIVE_INFINITY}else s=e.indent-1+t;let o=i.split(`
`).map(c=>c.slice(s));if(r.proseWrap==="preserve"||e.type==="blockLiteral")return u(o.map(c=>c.length===0?[]:[c]));return u(o.map(c=>c.length===0?[]:N1(c)).reduce((c,f,d)=>d!==0&&o[d-1].length>0&&f.length>0&&!/^\s/u.test(f[0])&&!/^\s|\s$/u.test(mr(!1,c,-1))?[...c.slice(0,-1),[...mr(!1,c,-1),...f]]:[...c,f],[]).map(c=>c.reduce((f,d)=>f.length>0&&/\s$/u.test(mr(!1,f,-1))?[...f.slice(0,-1),mr(!1,f,-1)+" "+d]:[...f,d],[])).map(c=>r.proseWrap==="never"?[c.join(" ")]:c));function u(c){if(e.chomping==="keep")return mr(!1,c,-1).length===0?c.slice(0,-1):c;let f=0;for(let d=c.length-1;d>=0&&c[d].length===0;d--)f++;return f===0?c:f>=2&&!n?c.slice(0,-(f-1)):c.slice(0,-f)}}function nm(e){if(!e)return!0;switch(e.type){case"plain":case"quoteDouble":case"quoteSingle":case"alias":case"flowMapping":case"flowSequence":return!0;default:return!1}}var rm=new WeakMap;function R1(e,t){let{node:n,root:r}=e,i;return rm.has(r)?i=rm.get(r):(i=new Set,rm.set(r,i)),!i.has(n.position.end.line)&&(i.add(n.position.end.line),IP(n,t)&&!F1(e.parent))?S1:""}function F1(e){return Lr(e)&&!Ei(e,["documentHead","documentBody","flowMapping","flowSequence"])}function gr(e,t){return gf(" ".repeat(e),t)}function qP(e,t,n){let{node:r}=e,i=e.ancestors.filter(f=>f.type==="sequence"||f.type==="mapping").length,s=C1(e),o=[r.type==="blockFolded"?">":"|"];r.indent!==null&&o.push(r.indent.toString()),r.chomping!=="clip"&&o.push(r.chomping==="keep"?"+":"-"),P1(r)&&o.push(" ",t("indicatorComment"));let u=xP(r,{parentIndent:i,isLastDescendant:s,options:n}),c=[];for(let[f,d]of u.entries())f===0&&c.push(gt),c.push(E1(Un(pu,d))),f!==u.length-1?c.push(d.length===0?gt:lP(em)):r.chomping==="keep"&&s&&c.push(w1(d.length===0?gt:em));return r.indent===null?o.push(fP(gr(n.tabWidth,c))):o.push(w1(gr(r.indent-1+i,c))),o}var BP=qP;function I1(e,t,n){let{node:r}=e,i=r.type==="flowMapping",s=i?"{":"[",o=i?"}":"]",u=S1;i&&r.children.length>0&&n.bracketSpacing&&(u=pu);let c=mr(!1,r.children,-1),f=c?.type==="flowMappingItem"&&bf(c.key)&&bf(c.value);return[s,gr(n.tabWidth,[u,WP(e,t,n),n.trailingComma==="none"?"":Xp(","),Lr(r)?[gt,Un(gt,e.map(t,"endComments"))]:""]),f?"":u,o]}function WP(e,t,n){return e.map(({isLast:r,node:i,next:s})=>[t(),r?"":[",",pu,i.position.start.line!==s.position.start.line?R1(e,n.originalText):""]],"children")}function UP(e,t,n){var r;let{node:i,parent:s}=e,{key:o,value:u}=i,c=bf(o),f=bf(u);if(c&&f)return": ";let d=t("key"),h=VP(i)?" ":"";if(f)return i.type==="flowMappingItem"&&s.type==="flowMapping"?d:i.type==="mappingItem"&&im(o.content,n)&&!Mr(o.content)&&((r=s.tag)==null?void 0:r.value)!=="tag:yaml.org,2002:set"?[d,h,":"]:["? ",gr(2,d)];let v=t("value");if(c)return[": ",gr(2,v)];if(es(u)||!nm(o.content))return["? ",gr(2,d),gt,...e.map(()=>[t(),gt],"value","leadingComments"),": ",gr(2,v)];if(HP(o.content)&&!es(o.content)&&!Jo(o.content)&&!Mr(o.content)&&!Lr(o)&&!es(u.content)&&!Jo(u.content)&&!Lr(u)&&im(u.content,n))return[d,h,": ",v];let w=Symbol("mappingKey"),k=yf([Xp("? "),yf(gr(2,d),{id:w})]),$=[gt,": ",gr(2,v)],_=[h,":"];es(u.content)||Lr(u)&&u.content&&!Ei(u.content,["mapping","sequence"])||s.type==="mapping"&&Mr(o.content)&&nm(u.content)||Ei(u.content,["mapping","sequence"])&&u.content.tag===null&&u.content.anchor===null?_.push(gt):u.content?_.push(pu):Mr(u)&&_.push(" "),_.push(v);let T=gr(n.tabWidth,_);return im(o.content,n)&&!es(o.content)&&!Jo(o.content)&&!Lr(o)?_1([[d,T]]):_1([[k,Xp($,T,{groupId:w})]])}function im(e,t){if(!e)return!0;switch(e.type){case"plain":case"quoteSingle":case"quoteDouble":break;case"alias":return!0;default:return!1}if(t.proseWrap==="preserve")return e.position.start.line===e.position.end.line;if(/\\$/mu.test(t.originalText.slice(e.position.start.offset,e.position.end.offset)))return!1;switch(t.proseWrap){case"never":return!e.value.includes(`
`);case"always":return!/[\n ]/u.test(e.value);default:return!1}}function VP(e){var t;return((t=e.key.content)==null?void 0:t.type)==="alias"}function HP(e){if(!e)return!0;switch(e.type){case"plain":case"quoteDouble":case"quoteSingle":return e.position.start.line===e.position.end.line;case"alias":return!0;default:return!1}}var KP=UP;function zP(e){return A1(e,YP)}function YP(e){switch(e.type){case"document":vu(e,"head",()=>e.children[0]),vu(e,"body",()=>e.children[1]);break;case"documentBody":case"sequenceItem":case"flowSequenceItem":case"mappingKey":case"mappingValue":vu(e,"content",()=>e.children[0]);break;case"mappingItem":case"flowMappingItem":vu(e,"key",()=>e.children[0]),vu(e,"value",()=>e.children[1]);break}return e}var GP=zP;function JP(e,t,n){let{node:r}=e,i=[];r.type!=="mappingValue"&&es(r)&&i.push([Un(gt,e.map(n,"leadingComments")),gt]);let{tag:s,anchor:o}=r;s&&i.push(n("tag")),s&&o&&i.push(" "),o&&i.push(n("anchor"));let u="";return Ei(r,["mapping","sequence","comment","directive","mappingItem","sequenceItem"])&&!C1(e)&&(u=R1(e,t.originalText)),(s||o)&&(Ei(r,["sequence","mapping"])&&!Jo(r)?i.push(gt):i.push(" ")),Jo(r)&&i.push([r.middleComments.length===1?"":gt,Un(gt,e.map(n,"middleComments")),gt]),MP(e)?i.push(aP(t.originalText.slice(r.position.start.offset,r.position.end.offset).trimEnd())):i.push(yf(QP(e,t,n))),Mr(r)&&!Ei(r,["document","documentHead"])&&i.push(dP([r.type==="mappingValue"&&!r.content?"":" ",e.parent.type==="mappingKey"&&e.getParentNode(2).type==="mapping"&&nm(r)?"":Zp,n("trailingComment")])),F1(r)&&i.push(gr(r.type==="sequenceItem"?2:0,[gt,Un(gt,e.map(({node:c})=>[vP(t.originalText,vf(c))?gt:"",n()],"endComments"))])),i.push(u),i}function QP(e,t,n){let{node:r}=e;switch(r.type){case"root":{let i=[];e.each(({node:o,next:u,isFirst:c})=>{c||i.push(gt),i.push(n()),M1(o,u)?(i.push(gt,"..."),Mr(o)&&i.push(" ",n("trailingComment"))):u&&!Mr(u.head)&&i.push(gt,"---")},"children");let s=tm(r);return(!Ei(s,["blockLiteral","blockFolded"])||s.chomping!=="keep")&&i.push(gt),i}case"document":{let i=[];return ZP(e,t)==="head"&&((r.head.children.length>0||r.head.endComments.length>0)&&i.push(n("head")),Mr(r.head)?i.push(["---"," ",n(["head","trailingComment"])]):i.push("---")),XP(r)&&i.push(n("body")),Un(gt,i)}case"documentHead":return Un(gt,[...e.map(n,"children"),...e.map(n,"endComments")]);case"documentBody":{let{children:i,endComments:s}=r,o="";if(i.length>0&&s.length>0){let u=tm(r);Ei(u,["blockFolded","blockLiteral"])?u.chomping!=="keep"&&(o=[gt,gt]):o=gt}return[Un(gt,e.map(n,"children")),o,Un(gt,e.map(n,"endComments"))]}case"directive":return["%",Un(" ",[r.name,...r.parameters])];case"comment":return["#",r.value];case"alias":return["*",r.value];case"tag":return t.originalText.slice(r.position.start.offset,r.position.end.offset);case"anchor":return["&",r.value];case"plain":return bu(r.type,t.originalText.slice(r.position.start.offset,r.position.end.offset),t);case"quoteDouble":case"quoteSingle":{let i="'",s='"',o=t.originalText.slice(r.position.start.offset+1,r.position.end.offset-1);if(r.type==="quoteSingle"&&o.includes("\\")||r.type==="quoteDouble"&&/\\[^"]/u.test(o)){let c=r.type==="quoteDouble"?s:i;return[c,bu(r.type,o,t),c]}if(o.includes(s))return[i,bu(r.type,r.type==="quoteDouble"?Hp(!1,Hp(!1,o,String.raw`\"`,s),"'",i.repeat(2)):o,t),i];if(o.includes(i))return[s,bu(r.type,r.type==="quoteSingle"?Hp(!1,o,"''",i):o,t),s];let u=t.singleQuote?i:s;return[u,bu(r.type,o,t),u]}case"blockFolded":case"blockLiteral":return BP(e,n,t);case"mapping":case"sequence":return Un(gt,e.map(n,"children"));case"sequenceItem":return["- ",gr(2,r.content?n("content"):"")];case"mappingKey":case"mappingValue":return r.content?n("content"):"";case"mappingItem":case"flowMappingItem":return KP(e,n,t);case"flowMapping":return I1(e,n,t);case"flowSequence":return I1(e,n,t);case"flowSequenceItem":return n("content");default:throw new DP(r,"YAML")}}function XP(e){return e.body.children.length>0||Lr(e.body)}function M1(e,t){return Mr(e)||t&&(t.head.children.length>0||Lr(t.head))}function ZP(e,t){let n=e.node;if(e.isFirst&&/---(?:\s|$)/u.test(t.originalText.slice(vf(n),vf(n)+4))||n.head.children.length>0||Lr(n.head)||Mr(n.head))return"head";let r=e.next;return M1(n,r)?!1:r?"root":!1}function bu(e,t,n){let r=jP(e,t,n);return Un(gt,r.map(i=>E1(Un(pu,i))))}function L1(e,t){if(Ei(e))switch(e.type){case"comment":if(PP(e.value))return null;break;case"quoteDouble":case"quoteSingle":t.type="quote";break}}L1.ignoredProperties=new Set(["position"]);var eN={preprocess:GP,embed:wP,print:JP,massageAstNode:L1,insertPragma:RP,getVisitorKeys:CP},tN=eN,j1=[{linguistLanguageId:407,name:"YAML",type:"data",color:"#cb171e",tmScope:"source.yaml",aliases:["yml"],extensions:[".yml",".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock",".prettierrc",".stylelintrc",".lintstagedrc"],aceMode:"yaml",codemirrorMode:"yaml",codemirrorMimeType:"text/x-yaml",parsers:["yaml"],vscodeLanguageIds:["yaml","ansible","dockercompose","github-actions-workflow","home-assistant"]}],sm={bracketSpacing:{category:"Common",type:"boolean",default:!0,description:"Print spaces between brackets.",oppositeDescription:"Do not print spaces between brackets."},singleQuote:{category:"Common",type:"boolean",default:!1,description:"Use single quotes instead of double quotes."},proseWrap:{category:"Common",type:"choice",default:"preserve",description:"How to wrap prose.",choices:[{value:"always",description:"Wrap prose if it exceeds the print width."},{value:"never",description:"Do not wrap prose."},{value:"preserve",description:"Wrap prose as-is."}]}},nN={bracketSpacing:sm.bracketSpacing,singleQuote:sm.singleQuote,proseWrap:sm.proseWrap},x1=nN,om={};o1(om,{yaml:()=>w2});var Df=`
`,q1="\r",rN=function(){function e(t){this.length=t.length;for(var n=[0],r=0;r<t.length;)switch(t[r]){case Df:r+=Df.length,n.push(r);break;case q1:r+=q1.length,t[r]===Df&&(r+=Df.length),n.push(r);break;default:r++;break}this.offsets=n}return e.prototype.locationForIndex=function(t){if(t<0||t>this.length)return null;for(var n=0,r=this.offsets;r[n+1]<=t;)n++;var i=t-r[n];return{line:n,column:i}},e.prototype.indexForLocation=function(t){var n=t.line,r=t.column;return n<0||n>=this.offsets.length||r<0||r>this.lengthOfLine(n)?null:this.offsets[n]+r},e.prototype.lengthOfLine=function(t){var n=this.offsets[t],r=t===this.offsets.length-1?this.length:this.offsets[t+1];return r-n},e}();function Zn(e,t=null){"children"in e&&e.children.forEach(n=>Zn(n,e)),"anchor"in e&&e.anchor&&Zn(e.anchor,e),"tag"in e&&e.tag&&Zn(e.tag,e),"leadingComments"in e&&e.leadingComments.forEach(n=>Zn(n,e)),"middleComments"in e&&e.middleComments.forEach(n=>Zn(n,e)),"indicatorComment"in e&&e.indicatorComment&&Zn(e.indicatorComment,e),"trailingComment"in e&&e.trailingComment&&Zn(e.trailingComment,e),"endComments"in e&&e.endComments.forEach(n=>Zn(n,e)),Object.defineProperty(e,"_parent",{value:t,enumerable:!1})}function wf(e){return`${e.line}:${e.column}`}function iN(e){Zn(e);let t=sN(e),n=e.children.slice();e.comments.sort((r,i)=>r.position.start.offset-i.position.end.offset).filter(r=>!r._parent).forEach(r=>{for(;n.length>1&&r.position.start.line>n[0].position.end.line;)n.shift();oN(r,t,n[0])})}function sN(e){let t=Array.from(new Array(e.position.end.line),()=>({}));for(let n of e.comments)t[n.position.start.line-1].comment=n;return B1(t,e),t}function B1(e,t){if(t.position.start.offset!==t.position.end.offset){if("leadingComments"in t){let{start:n}=t.position,{leadingAttachableNode:r}=e[n.line-1];(!r||n.column<r.position.start.column)&&(e[n.line-1].leadingAttachableNode=t)}if("trailingComment"in t&&t.position.end.column>1&&t.type!=="document"&&t.type!=="documentHead"){let{end:n}=t.position,{trailingAttachableNode:r}=e[n.line-1];(!r||n.column>=r.position.end.column)&&(e[n.line-1].trailingAttachableNode=t)}if(t.type!=="root"&&t.type!=="document"&&t.type!=="documentHead"&&t.type!=="documentBody"){let{start:n,end:r}=t.position,i=[r.line].concat(n.line===r.line?[]:n.line);for(let s of i){let o=e[s-1].trailingNode;(!o||r.column>=o.position.end.column)&&(e[s-1].trailingNode=t)}}"children"in t&&t.children.forEach(n=>{B1(e,n)})}}function oN(e,t,n){let r=e.position.start.line,{trailingAttachableNode:i}=t[r-1];if(i){if(i.trailingComment)throw new Error(`Unexpected multiple trailing comment at ${wf(e.position.start)}`);Zn(e,i),i.trailingComment=e;return}for(let o=r;o>=n.position.start.line;o--){let{trailingNode:u}=t[o-1],c;if(u)c=u;else if(o!==r&&t[o-1].comment)c=t[o-1].comment._parent;else continue;if((c.type==="sequence"||c.type==="mapping")&&(c=c.children[0]),c.type==="mappingItem"){let[f,d]=c.children;c=W1(f)?f:d}for(;;){if(aN(c,e)){Zn(e,c),c.endComments.push(e);return}if(!c._parent)break;c=c._parent}break}for(let o=r+1;o<=n.position.end.line;o++){let{leadingAttachableNode:u}=t[o-1];if(u){Zn(e,u),u.leadingComments.push(e);return}}let s=n.children[1];Zn(e,s),s.endComments.push(e)}function aN(e,t){if(e.position.start.offset<t.position.start.offset&&e.position.end.offset>t.position.end.offset)switch(e.type){case"flowMapping":case"flowSequence":return e.children.length===0||t.position.start.line>e.children[e.children.length-1].position.end.line}if(t.position.end.offset<e.position.end.offset)return!1;switch(e.type){case"sequenceItem":return t.position.start.column>e.position.start.column;case"mappingKey":case"mappingValue":return t.position.start.column>e._parent.position.start.column&&(e.children.length===0||e.children.length===1&&e.children[0].type!=="blockFolded"&&e.children[0].type!=="blockLiteral")&&(e.type==="mappingValue"||W1(e));default:return!1}}function W1(e){return e.position.start!==e.position.end&&(e.children.length===0||e.position.start.offset!==e.children[0].position.start.offset)}function an(e,t){return{type:e,position:t}}function uN(e,t,n){return{...an("root",e),children:t,comments:n}}function _f(e){switch(e.type){case"DOCUMENT":for(let t=e.contents.length-1;t>=0;t--)e.contents[t].type==="BLANK_LINE"?e.contents.splice(t,1):_f(e.contents[t]);for(let t=e.directives.length-1;t>=0;t--)e.directives[t].type==="BLANK_LINE"&&e.directives.splice(t,1);break;case"FLOW_MAP":case"FLOW_SEQ":case"MAP":case"SEQ":for(let t=e.items.length-1;t>=0;t--){let n=e.items[t];"char"in n||(n.type==="BLANK_LINE"?e.items.splice(t,1):_f(n))}break;case"MAP_KEY":case"MAP_VALUE":case"SEQ_ITEM":e.node&&_f(e.node);break;case"ALIAS":case"BLANK_LINE":case"BLOCK_FOLDED":case"BLOCK_LITERAL":case"COMMENT":case"DIRECTIVE":case"PLAIN":case"QUOTE_DOUBLE":case"QUOTE_SINGLE":break;default:throw new Error(`Unexpected node type ${JSON.stringify(e.type)}`)}}function Qo(){return{leadingComments:[]}}function Ef(e=null){return{trailingComment:e}}function Hs(){return{...Qo(),...Ef()}}function cN(e,t,n){return{...an("alias",e),...Hs(),...t,value:n}}function lN(e,t){let n=e.cstNode;return cN(t.transformRange({origStart:n.valueRange.origStart-1,origEnd:n.valueRange.origEnd}),t.transformContent(e),n.rawValue)}function fN(e){return{...e,type:"blockFolded"}}function dN(e,t,n,r,i,s){return{...an("blockValue",e),...Qo(),...t,chomping:n,indent:r,value:i,indicatorComment:s}}var Xo;(function(e){e.Tag="!",e.Anchor="&",e.Comment="#"})(Xo||(Xo={}));function hN(e,t){return{...an("anchor",e),value:t}}function am(e,t){return{...an("comment",e),value:t}}function pN(e,t,n){return{anchor:t,tag:e,middleComments:n}}function mN(e,t){return{...an("tag",e),value:t}}function U1(e,t,n=()=>!1){let r=e.cstNode,i=[],s=null,o=null,u=null;for(let c of r.props){let f=t.text[c.origStart];switch(f){case Xo.Tag:s=s||c,o=mN(t.transformRange(c),e.tag);break;case Xo.Anchor:s=s||c,u=hN(t.transformRange(c),r.anchor);break;case Xo.Comment:{let d=am(t.transformRange(c),t.text.slice(c.origStart+1,c.origEnd));t.comments.push(d),!n(d)&&s&&s.origEnd<=c.origStart&&c.origEnd<=r.valueRange.origStart&&i.push(d);break}default:throw new Error(`Unexpected leading character ${JSON.stringify(f)}`)}}return pN(o,u,i)}var um;(function(e){e.CLIP="clip",e.STRIP="strip",e.KEEP="keep"})(um||(um={}));function V1(e,t){let n=e.cstNode,r=1,i=n.chomping==="CLIP"?0:1,s=n.header.origEnd-n.header.origStart-r-i!==0,o=t.transformRange({origStart:n.header.origStart,origEnd:n.valueRange.origEnd}),u=null,c=U1(e,t,f=>{if(!(o.start.offset<f.position.start.offset&&f.position.end.offset<o.end.offset))return!1;if(u)throw new Error(`Unexpected multiple indicator comments at ${wf(f.position.start)}`);return u=f,!0});return dN(o,c,um[n.chomping],s?n.blockIndent:null,n.strValue,u)}function gN(e,t){return fN(V1(e,t))}function yN(e){return{...e,type:"blockLiteral"}}function vN(e,t){return yN(V1(e,t))}function bN(e,t){return am(t.transformRange(e.range),e.comment)}function DN(e,t,n){return{...an("directive",e),...Hs(),name:t,parameters:n}}function cm(e,t){for(let n of e.props){let r=t.text[n.origStart];switch(r){case Xo.Comment:t.comments.push(am(t.transformRange(n),t.text.slice(n.origStart+1,n.origEnd)));break;default:throw new Error(`Unexpected leading character ${JSON.stringify(r)}`)}}}function wN(e,t){return cm(e,t),DN(t.transformRange(e.range),e.name,e.parameters)}function _N(e,t,n,r){return{...an("document",e),...Ef(r),children:[t,n]}}function Ks(e,t){return{start:e,end:t}}function H1(e){return{start:e,end:e}}function zs(e=[]){return{endComments:e}}function EN(e,t,n){return{...an("documentBody",e),...zs(n),children:t?[t]:[]}}function ts(e){return e[e.length-1]}function K1(e,t){let n=e.match(t);return n?n.index:-1}function SN(e,t,n){let r=e.cstNode,{comments:i,endComments:s,documentTrailingComment:o,documentHeadTrailingComment:u}=$N(r,t,n),c=t.transformNode(e.contents),{position:f,documentEndPoint:d}=kN(r,c,t);return t.comments.push(...i,...s),{documentBody:EN(f,c,s),documentEndPoint:d,documentTrailingComment:o,documentHeadTrailingComment:u}}function $N(e,t,n){let r=[],i=[],s=[],o=[],u=!1;for(let c=e.contents.length-1;c>=0;c--){let f=e.contents[c];if(f.type==="COMMENT"){let d=t.transformNode(f);n&&n.line===d.position.start.line?o.unshift(d):u?r.unshift(d):d.position.start.offset>=e.valueRange.origEnd?s.unshift(d):r.unshift(d)}else u=!0}if(s.length>1)throw new Error(`Unexpected multiple document trailing comments at ${wf(s[1].position.start)}`);if(o.length>1)throw new Error(`Unexpected multiple documentHead trailing comments at ${wf(o[1].position.start)}`);return{comments:r,endComments:i,documentTrailingComment:ts(s)||null,documentHeadTrailingComment:ts(o)||null}}function kN(e,t,n){let r=K1(n.text.slice(e.valueRange.origEnd),/^\.\.\./),i=r===-1?e.valueRange.origEnd:Math.max(0,e.valueRange.origEnd-1);n.text[i-1]==="\r"&&i--;let s=n.transformRange({origStart:t!==null?t.position.start.offset:i,origEnd:i}),o=r===-1?s.end:n.transformOffset(e.valueRange.origEnd+3);return{position:s,documentEndPoint:o}}function TN(e,t,n,r){return{...an("documentHead",e),...zs(n),...Ef(r),children:t}}function AN(e,t){let n=e.cstNode,{directives:r,comments:i,endComments:s}=CN(n,t),{position:o,endMarkerPoint:u}=ON(n,r,t);return t.comments.push(...i,...s),{createDocumentHeadWithTrailingComment:c=>(c&&t.comments.push(c),TN(o,r,s,c)),documentHeadEndMarkerPoint:u}}function CN(e,t){let n=[],r=[],i=[],s=!1;for(let o=e.directives.length-1;o>=0;o--){let u=t.transformNode(e.directives[o]);u.type==="comment"?s?r.unshift(u):i.unshift(u):(s=!0,n.unshift(u))}return{directives:n,comments:r,endComments:i}}function ON(e,t,n){let r=K1(n.text.slice(0,e.valueRange.origStart),/---\s*$/);r>0&&!/[\r\n]/.test(n.text[r-1])&&(r=-1);let i=r===-1?{origStart:e.valueRange.origStart,origEnd:e.valueRange.origStart}:{origStart:r,origEnd:r+3};return t.length!==0&&(i.origStart=t[0].position.start.offset),{position:n.transformRange(i),endMarkerPoint:r===-1?null:n.transformOffset(r)}}function PN(e,t){let{createDocumentHeadWithTrailingComment:n,documentHeadEndMarkerPoint:r}=AN(e,t),{documentBody:i,documentEndPoint:s,documentTrailingComment:o,documentHeadTrailingComment:u}=SN(e,t,r),c=n(u);return o&&t.comments.push(o),_N(Ks(c.position.start,s),c,i,o)}function z1(e,t,n){return{...an("flowCollection",e),...Hs(),...zs(),...t,children:n}}function NN(e,t,n){return{...z1(e,t,n),type:"flowMapping"}}function Y1(e,t,n){return{...an("flowMappingItem",e),...Qo(),children:[t,n]}}function Sf(e,t){let n=[];for(let r of e)r&&"type"in r&&r.type==="COMMENT"?t.comments.push(t.transformNode(r)):n.push(r);return n}function G1(e){let[t,n]=["?",":"].map(r=>{let i=e.find(s=>"char"in s&&s.char===r);return i?{origStart:i.origOffset,origEnd:i.origOffset+1}:null});return{additionalKeyRange:t,additionalValueRange:n}}function J1(e,t){let n=t;return r=>e.slice(n,n=r)}function Q1(e){let t=[],n=J1(e,1),r=!1;for(let i=1;i<e.length-1;i++){let s=e[i];if("char"in s&&s.char===","){t.push(n(i)),n(i+1),r=!1;continue}r=!0}return r&&t.push(n(e.length-1)),t}function X1(e,t){return{...an("mappingKey",e),...Ef(),...zs(),children:t?[t]:[]}}function Z1(e,t){return{...an("mappingValue",e),...Hs(),...zs(),children:t?[t]:[]}}function lm(e,t,n,r,i){let s=t.transformNode(e.key),o=t.transformNode(e.value),u=s||r?X1(t.transformRange({origStart:r?r.origStart:s.position.start.offset,origEnd:s?s.position.end.offset:r.origStart+1}),s):null,c=o||i?Z1(t.transformRange({origStart:i?i.origStart:o.position.start.offset,origEnd:o?o.position.end.offset:i.origStart+1}),o):null;return n(Ks(u?u.position.start:c.position.start,c?c.position.end:u.position.end),u||X1(H1(c.position.start),null),c||Z1(H1(u.position.end),null))}function RN(e,t){let n=Sf(e.cstNode.items,t),r=Q1(n),i=e.items.map((u,c)=>{let f=r[c],{additionalKeyRange:d,additionalValueRange:h}=G1(f);return lm(u,t,Y1,d,h)}),s=n[0],o=ts(n);return NN(t.transformRange({origStart:s.origOffset,origEnd:o.origOffset+1}),t.transformContent(e),i)}function FN(e,t,n){return{...z1(e,t,n),type:"flowSequence"}}function IN(e,t){return{...an("flowSequenceItem",e),children:[t]}}function MN(e,t){let n=Sf(e.cstNode.items,t),r=Q1(n),i=e.items.map((u,c)=>{if(u.type!=="PAIR"){let f=t.transformNode(u);return IN(Ks(f.position.start,f.position.end),f)}else{let f=r[c],{additionalKeyRange:d,additionalValueRange:h}=G1(f);return lm(u,t,Y1,d,h)}}),s=n[0],o=ts(n);return FN(t.transformRange({origStart:s.origOffset,origEnd:o.origOffset+1}),t.transformContent(e),i)}function LN(e,t,n){return{...an("mapping",e),...Qo(),...t,children:n}}function jN(e,t,n){return{...an("mappingItem",e),...Qo(),children:[t,n]}}function xN(e,t){let n=e.cstNode;n.items.filter(o=>o.type==="MAP_KEY"||o.type==="MAP_VALUE").forEach(o=>cm(o,t));let r=Sf(n.items,t),i=qN(r),s=e.items.map((o,u)=>{let c=i[u],[f,d]=c[0].type==="MAP_VALUE"?[null,c[0].range]:[c[0].range,c.length===1?null:c[1].range];return lm(o,t,jN,f,d)});return LN(Ks(s[0].position.start,ts(s).position.end),t.transformContent(e),s)}function qN(e){let t=[],n=J1(e,0),r=!1;for(let i=0;i<e.length;i++){if(e[i].type==="MAP_VALUE"){t.push(n(i+1)),r=!1;continue}r&&t.push(n(i)),r=!0}return r&&t.push(n(1/0)),t}function BN(e,t,n){return{...an("plain",e),...Hs(),...t,value:n}}function WN(e,t,n){for(let r=t;r>=0;r--)if(n.test(e[r]))return r;return-1}function UN(e,t){let n=e.cstNode;return BN(t.transformRange({origStart:n.valueRange.origStart,origEnd:WN(t.text,n.valueRange.origEnd-1,/\S/)+1}),t.transformContent(e),n.strValue)}function VN(e){return{...e,type:"quoteDouble"}}function HN(e,t,n){return{...an("quoteValue",e),...t,...Hs(),value:n}}function ew(e,t){let n=e.cstNode;return HN(t.transformRange(n.valueRange),t.transformContent(e),n.strValue)}function KN(e,t){return VN(ew(e,t))}function zN(e){return{...e,type:"quoteSingle"}}function YN(e,t){return zN(ew(e,t))}function GN(e,t,n){return{...an("sequence",e),...Qo(),...zs(),...t,children:n}}function JN(e,t){return{...an("sequenceItem",e),...Hs(),...zs(),children:t?[t]:[]}}function QN(e,t){let n=Sf(e.cstNode.items,t).map((r,i)=>{cm(r,t);let s=t.transformNode(e.items[i]);return JN(Ks(t.transformOffset(r.valueRange.origStart),s===null?t.transformOffset(r.valueRange.origStart+1):s.position.end),s)});return GN(Ks(n[0].position.start,ts(n).position.end),t.transformContent(e),n)}function XN(e,t){if(e===null||e.type===void 0&&e.value===null)return null;switch(e.type){case"ALIAS":return lN(e,t);case"BLOCK_FOLDED":return gN(e,t);case"BLOCK_LITERAL":return vN(e,t);case"COMMENT":return bN(e,t);case"DIRECTIVE":return wN(e,t);case"DOCUMENT":return PN(e,t);case"FLOW_MAP":return RN(e,t);case"FLOW_SEQ":return MN(e,t);case"MAP":return xN(e,t);case"PLAIN":return UN(e,t);case"QUOTE_DOUBLE":return KN(e,t);case"QUOTE_SINGLE":return YN(e,t);case"SEQ":return QN(e,t);default:throw new Error(`Unexpected node type ${e.type}`)}}function ZN(e,t,n){let r=new SyntaxError(e);return r.name="YAMLSyntaxError",r.source=t,r.position=n,r}function e2(e,t){let n=e.source.range||e.source.valueRange;return ZN(e.message,t.text,t.transformRange(n))}function t2(e,t,n){return{offset:e,line:t,column:n}}function n2(e,t){e<0?e=0:e>t.text.length&&(e=t.text.length);let n=t.locator.locationForIndex(e);return t2(e,n.line+1,n.column+1)}function r2(e,t){return Ks(t.transformOffset(e.origStart),t.transformOffset(e.origEnd))}function i2(e){if(!e.setOrigRanges()){let t=n=>{if(s2(n))return n.origStart=n.start,n.origEnd=n.end,!0;if(o2(n))return n.origOffset=n.offset,!0};e.forEach(n=>fm(n,t))}}function fm(e,t){if(!(!e||typeof e!="object")&&t(e)!==!0)for(let n of Object.keys(e)){if(n==="context"||n==="error")continue;let r=e[n];Array.isArray(r)?r.forEach(i=>fm(i,t)):fm(r,t)}}function s2(e){return typeof e.start=="number"}function o2(e){return typeof e.offset=="number"}function tw(e){if("children"in e){if(e.children.length===1){let t=e.children[0];if(t.type==="plain"&&t.tag===null&&t.anchor===null&&t.value==="")return e.children.splice(0,1),e}e.children.forEach(tw)}return e}function nw(e,t,n,r){let i=t(e);return s=>{r(i,s)&&n(e,i=s)}}function rw(e){if(e===null||!("children"in e))return;let t=e.children;if(t.forEach(rw),e.type==="document"){let[s,o]=e.children;s.position.start.offset===s.position.end.offset?s.position.start=s.position.end=o.position.start:o.position.start.offset===o.position.end.offset&&(o.position.start=o.position.end=s.position.end)}let n=nw(e.position,a2,u2,f2),r=nw(e.position,c2,l2,d2);"endComments"in e&&e.endComments.length!==0&&(n(e.endComments[0].position.start),r(ts(e.endComments).position.end));let i=t.filter(s=>s!==null);if(i.length!==0){let s=i[0],o=ts(i);n(s.position.start),r(o.position.end),"leadingComments"in s&&s.leadingComments.length!==0&&n(s.leadingComments[0].position.start),"tag"in s&&s.tag&&n(s.tag.position.start),"anchor"in s&&s.anchor&&n(s.anchor.position.start),"trailingComment"in o&&o.trailingComment&&r(o.trailingComment.position.end)}}function a2(e){return e.start}function u2(e,t){e.start=t}function c2(e){return e.end}function l2(e,t){e.end=t}function f2(e,t){return t.offset<e.offset}function d2(e,t){return t.offset>e.offset}var h2=a1(QO()),yr=a1(XO());yr.default.findPair,yr.default.toJSON,yr.default.parseMap,yr.default.parseSeq,yr.default.stringifyNumber,yr.default.stringifyString,yr.default.Type,yr.default.YAMLError,yr.default.YAMLReferenceError;var p2=yr.default.YAMLSemanticError;yr.default.YAMLSyntaxError,yr.default.YAMLWarning;var{Document:m2,parseCST:g2}=h2.default;function y2(e){let t=g2(e);i2(t);let n=t.map(u=>new m2({merge:!1,keepCstNodes:!0}).parse(u)),r=new rN(e),i=[],s={text:e,locator:r,comments:i,transformOffset:u=>n2(u,s),transformRange:u=>r2(u,s),transformNode:u=>XN(u,s),transformContent:u=>U1(u,s)};for(let u of n)for(let c of u.errors)if(!(c instanceof p2&&c.message==='Map keys must be unique; "<<" is repeated'))throw e2(c,s);n.forEach(u=>_f(u.cstNode));let o=uN(s.transformRange({origStart:0,origEnd:s.text.length}),n.map(s.transformNode),i);return iN(o),rw(o),tw(o),o}function v2(e,t){let n=new SyntaxError(e+" ("+t.loc.start.line+":"+t.loc.start.column+")");return Object.assign(n,t)}var b2=v2;function D2(e){try{let t=y2(e);return delete t.comments,t}catch(t){throw t!=null&&t.position?b2(t.message,{loc:t.position,cause:t}):t}}var w2={astFormat:"yaml",parse:D2,hasPragma:NP,locStart:vf,locEnd:OP},iw={yaml:tN},_2=l1,E2=Object.freeze({__proto__:null,default:_2,languages:j1,options:x1,parsers:om,printers:iw}),S2=Object.create,dm=Object.defineProperty,$2=Object.getOwnPropertyDescriptor,k2=Object.getOwnPropertyNames,T2=Object.getPrototypeOf,A2=Object.prototype.hasOwnProperty,sw=e=>{throw TypeError(e)},ow=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),hm=(e,t)=>{for(var n in t)dm(e,n,{get:t[n],enumerable:!0})},C2=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of k2(t))!A2.call(e,i)&&i!==n&&dm(e,i,{get:()=>t[i],enumerable:!(r=$2(t,i))||r.enumerable});return e},$f=(e,t,n)=>(n=e!=null?S2(T2(e)):{},C2(dm(n,"default",{value:e,enumerable:!0}),e)),O2=(e,t,n)=>t.has(e)||sw("Cannot "+n),P2=(e,t,n)=>t.has(e)?sw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Du=(e,t,n)=>(O2(e,t,"access private method"),n),pm=ow((e,t)=>{var n=new Proxy(String,{get:()=>n});t.exports=n}),N2=ow(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(){return new Proxy({},{get:()=>s=>s})}var n=/\r\n|[\n\r\u2028\u2029]/;function r(s,o,u){let c=Object.assign({column:0,line:-1},s.start),f=Object.assign({},c,s.end),{linesAbove:d=2,linesBelow:h=3}=u||{},v=c.line,w=c.column,k=f.line,$=f.column,_=Math.max(v-(d+1),0),T=Math.min(o.length,k+h);v===-1&&(_=0),k===-1&&(T=o.length);let b=k-v,m={};if(b)for(let y=0;y<=b;y++){let p=y+v;if(!w)m[p]=!0;else if(y===0){let D=o[p-1].length;m[p]=[w,D-w+1]}else if(y===b)m[p]=[0,$];else{let D=o[p-y].length;m[p]=[0,D]}}else w===$?w?m[v]=[w,0]:m[v]=!0:m[v]=[w,$-w];return{start:_,end:T,markerLines:m}}function i(s,o,u={}){let c=t(),f=s.split(n),{start:d,end:h,markerLines:v}=r(o,f,u),w=o.start&&typeof o.start.column=="number",k=String(h).length,$=s.split(n,h).slice(d,h).map((_,T)=>{let b=d+1+T,m=` ${` ${b}`.slice(-k)} |`,y=v[b],p=!v[b+1];if(y){let D="";if(Array.isArray(y)){let E=_.slice(0,Math.max(y[0]-1,0)).replace(/[^\t]/g," "),P=y[1]||1;D=[`
 `,c.gutter(m.replace(/\d/g," "))," ",E,c.marker("^").repeat(P)].join(""),p&&u.message&&(D+=" "+c.message(u.message))}return[c.marker(">"),c.gutter(m),_.length>0?` ${_}`:"",D].join("")}else return` ${c.gutter(m)}${_.length>0?` ${_}`:""}`}).join(`
`);return u.message&&!w&&($=`${" ".repeat(k+1)}${u.message}
${$}`),$}e.codeFrameColumns=i}),R2={};hm(R2,{__debug:()=>qI,check:()=>jI,doc:()=>y_,format:()=>zm,formatWithCursor:()=>D_,getSupportInfo:()=>xI,util:()=>v_,version:()=>dI});var F2=(e,t,n,r)=>{if(!(e&&t==null))return t.replaceAll?t.replaceAll(n,r):n.global?t.replace(n,r):t.split(n).join(r)},kf=F2;function Qr(){}Qr.prototype={diff:function(e,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={});var s=this;function o(m){return m=s.postProcess(m,r),i?(setTimeout(function(){i(m)},0),!0):m}e=this.castInput(e,r),t=this.castInput(t,r),e=this.removeEmpty(this.tokenize(e,r)),t=this.removeEmpty(this.tokenize(t,r));var u=t.length,c=e.length,f=1,d=u+c;r.maxEditLength!=null&&(d=Math.min(d,r.maxEditLength));var h=(n=r.timeout)!==null&&n!==void 0?n:1/0,v=Date.now()+h,w=[{oldPos:-1,lastComponent:void 0}],k=this.extractCommon(w[0],t,e,0,r);if(w[0].oldPos+1>=c&&k+1>=u)return o(aw(s,w[0].lastComponent,t,e,s.useLongestToken));var $=-1/0,_=1/0;function T(){for(var m=Math.max($,-f);m<=Math.min(_,f);m+=2){var y=void 0,p=w[m-1],D=w[m+1];p&&(w[m-1]=void 0);var E=!1;if(D){var P=D.oldPos-m;E=D&&0<=P&&P<u}var C=p&&p.oldPos+1<c;if(!E&&!C){w[m]=void 0;continue}if(!C||E&&p.oldPos<D.oldPos?y=s.addToPath(D,!0,!1,0,r):y=s.addToPath(p,!1,!0,1,r),k=s.extractCommon(y,t,e,m,r),y.oldPos+1>=c&&k+1>=u)return o(aw(s,y.lastComponent,t,e,s.useLongestToken));w[m]=y,y.oldPos+1>=c&&(_=Math.min(_,m-1)),k+1>=u&&($=Math.max($,m+1))}f++}if(i)(function m(){setTimeout(function(){if(f>d||Date.now()>v)return i();T()||m()},0)})();else for(;f<=d&&Date.now()<=v;){var b=T();if(b)return b}},addToPath:function(e,t,n,r,i){var s=e.lastComponent;return s&&!i.oneChangePerToken&&s.added===t&&s.removed===n?{oldPos:e.oldPos+r,lastComponent:{count:s.count+1,added:t,removed:n,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:t,removed:n,previousComponent:s}}},extractCommon:function(e,t,n,r,i){for(var s=t.length,o=n.length,u=e.oldPos,c=u-r,f=0;c+1<s&&u+1<o&&this.equals(n[u+1],t[c+1],i);)c++,u++,f++,i.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return f&&!i.oneChangePerToken&&(e.lastComponent={count:f,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=u,c},equals:function(e,t,n){return n.comparator?n.comparator(e,t):e===t||n.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};function aw(e,t,n,r,i){for(var s=[],o;t;)s.push(t),o=t.previousComponent,delete t.previousComponent,t=o;s.reverse();for(var u=0,c=s.length,f=0,d=0;u<c;u++){var h=s[u];if(h.removed)h.value=e.join(r.slice(d,d+h.count)),d+=h.count;else{if(!h.added&&i){var v=n.slice(f,f+h.count);v=v.map(function(w,k){var $=r[d+k];return $.length>w.length?$:w}),h.value=e.join(v)}else h.value=e.join(n.slice(f,f+h.count));f+=h.count,h.added||(d+=h.count)}}return s}function uw(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function cw(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function mm(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}function gm(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}function wu(e,t){return mm(e,t,"")}function Tf(e,t){return gm(e,t,"")}function lw(e,t){return t.slice(0,I2(e,t))}function I2(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var r=t.length;e.length<t.length&&(r=e.length);var i=Array(r),s=0;i[0]=0;for(var o=1;o<r;o++){for(t[o]==t[s]?i[o]=i[s]:i[o]=s;s>0&&t[o]!=t[s];)s=i[s];t[o]==t[s]&&s++}s=0;for(var u=n;u<e.length;u++){for(;s>0&&e[u]!=t[s];)s=i[s];e[u]==t[s]&&s++}return s}var Af="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",M2=new RegExp("[".concat(Af,"]+|\\s+|[^").concat(Af,"]"),"ug"),Cf=new Qr;Cf.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()},Cf.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(s){return s.segment})}else n=e.match(M2)||[];var r=[],i=null;return n.forEach(function(s){/\s/.test(s)?i==null?r.push(s):r.push(r.pop()+s):/\s/.test(i)?r[r.length-1]==i?r.push(r.pop()+s):r.push(i+s):r.push(s),i=s}),r},Cf.join=function(e){return e.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")},Cf.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,r=null,i=null;return e.forEach(function(s){s.added?r=s:s.removed?i=s:((r||i)&&fw(n,i,r,s),n=s,r=null,i=null)}),(r||i)&&fw(n,i,r,null),e};function fw(e,t,n,r){if(t&&n){var i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0],o=n.value.match(/^\s*/)[0],u=n.value.match(/\s*$/)[0];if(e){var c=uw(i,o);e.value=gm(e.value,o,c),t.value=wu(t.value,c),n.value=wu(n.value,c)}if(r){var f=cw(s,u);r.value=mm(r.value,u,f),t.value=Tf(t.value,f),n.value=Tf(n.value,f)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(e&&r){var d=r.value.match(/^\s*/)[0],h=t.value.match(/^\s*/)[0],v=t.value.match(/\s*$/)[0],w=uw(d,h);t.value=wu(t.value,w);var k=cw(wu(d,w),v);t.value=Tf(t.value,k),r.value=mm(r.value,d,k),e.value=gm(e.value,d,d.slice(0,d.length-k.length))}else if(r){var $=r.value.match(/^\s*/)[0],_=t.value.match(/\s*$/)[0],T=lw(_,$);t.value=Tf(t.value,T)}else if(e){var b=e.value.match(/\s*$/)[0],m=t.value.match(/^\s*/)[0],y=lw(b,m);t.value=wu(t.value,y)}}var L2=new Qr;L2.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(Af,"]+|[^\\S\\n\\r]+|[^").concat(Af,"]"),"ug");return e.match(t)||[]};var ym=new Qr;ym.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var i=0;i<r.length;i++){var s=r[i];i%2&&!t.newlineIsToken?n[n.length-1]+=s:n.push(s)}return n},ym.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Qr.prototype.equals.call(this,e,t,n)};var j2=new Qr;j2.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var x2=new Qr;x2.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}var _u=new Qr;_u.useLongestToken=!0,_u.tokenize=ym.tokenize,_u.castInput=function(e,t){var n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(s,o){return typeof o>"u"?n:o}:r;return typeof e=="string"?e:JSON.stringify(bm(e,null,null,i),i,"  ")},_u.equals=function(e,t,n){return Qr.prototype.equals.call(_u,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function bm(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return n[s];var o;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),o=new Array(e.length),n.push(o),s=0;s<e.length;s+=1)o[s]=bm(e[s],t,n,r,i);return t.pop(),n.pop(),o}if(e&&e.toJSON&&(e=e.toJSON()),vm(e)==="object"&&e!==null){t.push(e),o={},n.push(o);var u=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&u.push(c);for(u.sort(),s=0;s<u.length;s+=1)c=u[s],o[c]=bm(e[c],t,n,r,c);t.pop(),n.pop()}else o=e;return o}var Of=new Qr;Of.tokenize=function(e){return e.slice()},Of.join=Of.removeEmpty=function(e){return e};function q2(e,t,n){return Of.diff(e,t,n)}function B2(e){let t=e.indexOf("\r");return t!==-1?e.charAt(t+1)===`
`?"crlf":"cr":"lf"}function Dm(e){switch(e){case"cr":return"\r";case"crlf":return`\r
`;default:return`
`}}function dw(e,t){let n;switch(t){case`
`:n=/\n/gu;break;case"\r":n=/\r/gu;break;case`\r
`:n=/\r\n/gu;break;default:throw new Error(`Unexpected "eol" ${JSON.stringify(t)}.`)}let r=e.match(n);return r?r.length:0}function W2(e){return kf(!1,e,/\r\n?/gu,`
`)}var Ys="string",Si="array",Gs="cursor",$i="indent",ki="align",Ti="trim",Vn="group",Xr="fill",er="if-break",Ai="indent-if-break",Ci="line-suffix",Oi="line-suffix-boundary",_n="line",Zr="label",vr="break-parent",hw=new Set([Gs,$i,ki,Ti,Vn,Xr,er,Ai,Ci,Oi,_n,Zr,vr]),U2=(e,t,n)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[n<0?t.length+n:n]:t.at(n)},gn=U2;function V2(e){if(typeof e=="string")return Ys;if(Array.isArray(e))return Si;if(!e)return;let{type:t}=e;if(hw.has(t))return t}var Js=V2,H2=e=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(e);function K2(e){let t=e===null?"null":typeof e;if(t!=="string"&&t!=="object")return`Unexpected doc '${t}', 
Expected it to be 'string' or 'object'.`;if(Js(e))throw new Error("doc is valid.");let n=Object.prototype.toString.call(e);if(n!=="[object Object]")return`Unexpected doc '${n}'.`;let r=H2([...hw].map(i=>`'${i}'`));return`Unexpected doc.type '${e.type}'.
Expected it to be ${r}.`}var z2=class extends Error{name="InvalidDocError";constructor(e){super(K2(e)),this.doc=e}},Zo=z2,pw={};function Y2(e,t,n,r){let i=[e];for(;i.length>0;){let s=i.pop();if(s===pw){n(i.pop());continue}n&&i.push(s,pw);let o=Js(s);if(!o)throw new Zo(s);if(t?.(s)!==!1)switch(o){case Si:case Xr:{let u=o===Si?s:s.parts;for(let c=u.length,f=c-1;f>=0;--f)i.push(u[f]);break}case er:i.push(s.flatContents,s.breakContents);break;case Vn:if(r&&s.expandedStates)for(let u=s.expandedStates.length,c=u-1;c>=0;--c)i.push(s.expandedStates[c]);else i.push(s.contents);break;case ki:case $i:case Ai:case Zr:case Ci:i.push(s.contents);break;case Ys:case Gs:case Ti:case Oi:case _n:case vr:break;default:throw new Zo(s)}}}var wm=Y2;function Pf(e,t){if(typeof e=="string")return t(e);let n=new Map;return r(e);function r(s){if(n.has(s))return n.get(s);let o=i(s);return n.set(s,o),o}function i(s){switch(Js(s)){case Si:return t(s.map(r));case Xr:return t({...s,parts:s.parts.map(r)});case er:return t({...s,breakContents:r(s.breakContents),flatContents:r(s.flatContents)});case Vn:{let{expandedStates:o,contents:u}=s;return o?(o=o.map(r),u=o[0]):u=r(u),t({...s,contents:u,expandedStates:o})}case ki:case $i:case Ai:case Zr:case Ci:return t({...s,contents:r(s.contents)});case Ys:case Gs:case Ti:case Oi:case _n:case vr:return t(s);default:throw new Zo(s)}}}function _m(e,t,n){let r=n,i=!1;function s(o){if(i)return!1;let u=t(o);u!==void 0&&(i=!0,r=u)}return wm(e,s),r}function G2(e){if(e.type===Vn&&e.break||e.type===_n&&e.hard||e.type===vr)return!0}function J2(e){return _m(e,G2,!1)}function mw(e){if(e.length>0){let t=gn(!1,e,-1);!t.expandedStates&&!t.break&&(t.break="propagated")}return null}function Q2(e){let t=new Set,n=[];function r(s){if(s.type===vr&&mw(n),s.type===Vn){if(n.push(s),t.has(s))return!1;t.add(s)}}function i(s){s.type===Vn&&n.pop().break&&mw(n)}wm(e,r,i,!0)}function X2(e){return e.type===_n&&!e.hard?e.soft?"":" ":e.type===er?e.flatContents:e}function Z2(e){return Pf(e,X2)}function gw(e){for(e=[...e];e.length>=2&&gn(!1,e,-2).type===_n&&gn(!1,e,-1).type===vr;)e.length-=2;if(e.length>0){let t=Eu(gn(!1,e,-1));e[e.length-1]=t}return e}function Eu(e){switch(Js(e)){case $i:case Ai:case Vn:case Ci:case Zr:{let t=Eu(e.contents);return{...e,contents:t}}case er:return{...e,breakContents:Eu(e.breakContents),flatContents:Eu(e.flatContents)};case Xr:return{...e,parts:gw(e.parts)};case Si:return gw(e);case Ys:return e.replace(/[\n\r]*$/u,"");case ki:case Gs:case Ti:case Oi:case _n:case vr:break;default:throw new Zo(e)}return e}function yw(e){return Eu(tR(e))}function eR(e){switch(Js(e)){case Xr:if(e.parts.every(t=>t===""))return"";break;case Vn:if(!e.contents&&!e.id&&!e.break&&!e.expandedStates)return"";if(e.contents.type===Vn&&e.contents.id===e.id&&e.contents.break===e.break&&e.contents.expandedStates===e.expandedStates)return e.contents;break;case ki:case $i:case Ai:case Ci:if(!e.contents)return"";break;case er:if(!e.flatContents&&!e.breakContents)return"";break;case Si:{let t=[];for(let n of e){if(!n)continue;let[r,...i]=Array.isArray(n)?n:[n];typeof r=="string"&&typeof gn(!1,t,-1)=="string"?t[t.length-1]+=r:t.push(r),t.push(...i)}return t.length===0?"":t.length===1?t[0]:t}case Ys:case Gs:case Ti:case Oi:case _n:case Zr:case vr:break;default:throw new Zo(e)}return e}function tR(e){return Pf(e,t=>eR(t))}function nR(e,t=ww){return Pf(e,n=>typeof n=="string"?_w(t,n.split(`
`)):n)}function rR(e){if(e.type===_n)return!0}function iR(e){return _m(e,rR,!1)}function Nf(e,t){return e.type===Zr?{...e,contents:t(e.contents)}:t(e)}var sR=()=>{},oR=sR;function Rf(e){return{type:$i,contents:e}}function ea(e,t){return{type:ki,contents:t,n:e}}function vw(e,t={}){return oR(t.expandedStates),{type:Vn,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function aR(e){return ea(Number.NEGATIVE_INFINITY,e)}function uR(e){return ea({type:"root"},e)}function cR(e){return ea(-1,e)}function lR(e,t){return vw(e[0],{...t,expandedStates:e})}function fR(e){return{type:Xr,parts:e}}function dR(e,t="",n={}){return{type:er,breakContents:e,flatContents:t,groupId:n.groupId}}function hR(e,t){return{type:Ai,contents:e,groupId:t.groupId,negate:t.negate}}function Em(e){return{type:Ci,contents:e}}var pR={type:Oi},Ff={type:vr},mR={type:Ti},Sm={type:_n,hard:!0},bw={type:_n,hard:!0,literal:!0},Dw={type:_n},gR={type:_n,soft:!0},Qs=[Sm,Ff],ww=[bw,Ff],Xs={type:Gs};function _w(e,t){let n=[];for(let r=0;r<t.length;r++)r!==0&&n.push(e),n.push(t[r]);return n}function Ew(e,t,n){let r=e;if(t>0){for(let i=0;i<Math.floor(t/n);++i)r=Rf(r);r=ea(t%n,r),r=ea(Number.NEGATIVE_INFINITY,r)}return r}function yR(e,t){return e?{type:Zr,label:e,contents:t}:t}function Pi(e){var t;if(!e)return"";if(Array.isArray(e)){let n=[];for(let r of e)if(Array.isArray(r))n.push(...Pi(r));else{let i=Pi(r);i!==""&&n.push(i)}return n}return e.type===er?{...e,breakContents:Pi(e.breakContents),flatContents:Pi(e.flatContents)}:e.type===Vn?{...e,contents:Pi(e.contents),expandedStates:(t=e.expandedStates)==null?void 0:t.map(Pi)}:e.type===Xr?{type:"fill",parts:e.parts.map(Pi)}:e.contents?{...e,contents:Pi(e.contents)}:e}function vR(e){let t=Object.create(null),n=new Set;return r(Pi(e));function r(s,o,u){var c,f;if(typeof s=="string")return JSON.stringify(s);if(Array.isArray(s)){let d=s.map(r).filter(Boolean);return d.length===1?d[0]:`[${d.join(", ")}]`}if(s.type===_n){let d=((c=u?.[o+1])==null?void 0:c.type)===vr;return s.literal?d?"literalline":"literallineWithoutBreakParent":s.hard?d?"hardline":"hardlineWithoutBreakParent":s.soft?"softline":"line"}if(s.type===vr)return((f=u?.[o-1])==null?void 0:f.type)===_n&&u[o-1].hard?void 0:"breakParent";if(s.type===Ti)return"trim";if(s.type===$i)return"indent("+r(s.contents)+")";if(s.type===ki)return s.n===Number.NEGATIVE_INFINITY?"dedentToRoot("+r(s.contents)+")":s.n<0?"dedent("+r(s.contents)+")":s.n.type==="root"?"markAsRoot("+r(s.contents)+")":"align("+JSON.stringify(s.n)+", "+r(s.contents)+")";if(s.type===er)return"ifBreak("+r(s.breakContents)+(s.flatContents?", "+r(s.flatContents):"")+(s.groupId?(s.flatContents?"":', ""')+`, { groupId: ${i(s.groupId)} }`:"")+")";if(s.type===Ai){let d=[];s.negate&&d.push("negate: true"),s.groupId&&d.push(`groupId: ${i(s.groupId)}`);let h=d.length>0?`, { ${d.join(", ")} }`:"";return`indentIfBreak(${r(s.contents)}${h})`}if(s.type===Vn){let d=[];s.break&&s.break!=="propagated"&&d.push("shouldBreak: true"),s.id&&d.push(`id: ${i(s.id)}`);let h=d.length>0?`, { ${d.join(", ")} }`:"";return s.expandedStates?`conditionalGroup([${s.expandedStates.map(v=>r(v)).join(",")}]${h})`:`group(${r(s.contents)}${h})`}if(s.type===Xr)return`fill([${s.parts.map(d=>r(d)).join(", ")}])`;if(s.type===Ci)return"lineSuffix("+r(s.contents)+")";if(s.type===Oi)return"lineSuffixBoundary";if(s.type===Zr)return`label(${JSON.stringify(s.label)}, ${r(s.contents)})`;throw new Error("Unknown doc type "+s.type)}function i(s){if(typeof s!="symbol")return JSON.stringify(String(s));if(s in t)return t[s];let o=s.description||"symbol";for(let u=0;;u++){let c=o+(u>0?` #${u}`:"");if(!n.has(c))return n.add(c),t[s]=`Symbol.for(${JSON.stringify(c)})`}}}var bR=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function DR(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}function wR(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e===94192||e===94193||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101631&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129673||e>=129679&&e<=129734||e>=129742&&e<=129756||e>=129759&&e<=129769||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}var _R=e=>!(DR(e)||wR(e)),ER=/[^\x20-\x7F]/u;function SR(e){if(!e)return 0;if(!ER.test(e))return e.length;e=e.replace(bR(),"  ");let t=0;for(let n of e){let r=n.codePointAt(0);r<=31||r>=127&&r<=159||r>=768&&r<=879||(t+=_R(r)?1:2)}return t}var $m=SR,Hn=Symbol("MODE_BREAK"),ei=Symbol("MODE_FLAT"),ta=Symbol("cursor"),km=Symbol("DOC_FILL_PRINTED_LENGTH");function Sw(){return{value:"",length:0,queue:[]}}function $R(e,t){return Tm(e,{type:"indent"},t)}function kR(e,t,n){return t===Number.NEGATIVE_INFINITY?e.root||Sw():t<0?Tm(e,{type:"dedent"},n):t?t.type==="root"?{...e,root:e}:Tm(e,{type:typeof t=="string"?"stringAlign":"numberAlign",n:t},n):e}function Tm(e,t,n){let r=t.type==="dedent"?e.queue.slice(0,-1):[...e.queue,t],i="",s=0,o=0,u=0;for(let k of r)switch(k.type){case"indent":d(),n.useTabs?c(1):f(n.tabWidth);break;case"stringAlign":d(),i+=k.n,s+=k.n.length;break;case"numberAlign":o+=1,u+=k.n;break;default:throw new Error(`Unexpected type '${k.type}'`)}return v(),{...e,value:i,length:s,queue:r};function c(k){i+="	".repeat(k),s+=n.tabWidth*k}function f(k){i+=" ".repeat(k),s+=k}function d(){n.useTabs?h():v()}function h(){o>0&&c(o),w()}function v(){u>0&&f(u),w()}function w(){o=0,u=0}}function Am(e){let t=0,n=0,r=e.length;e:for(;r--;){let i=e[r];if(i===ta){n++;continue}for(let s=i.length-1;s>=0;s--){let o=i[s];if(o===" "||o==="	")t++;else{e[r]=i.slice(0,s+1);break e}}}if(t>0||n>0)for(e.length=r+1;n-- >0;)e.push(ta);return t}function If(e,t,n,r,i,s){if(n===Number.POSITIVE_INFINITY)return!0;let o=t.length,u=[e],c=[];for(;n>=0;){if(u.length===0){if(o===0)return!0;u.push(t[--o]);continue}let{mode:f,doc:d}=u.pop(),h=Js(d);switch(h){case Ys:c.push(d),n-=$m(d);break;case Si:case Xr:{let v=h===Si?d:d.parts,w=d[km]??0;for(let k=v.length-1;k>=w;k--)u.push({mode:f,doc:v[k]});break}case $i:case ki:case Ai:case Zr:u.push({mode:f,doc:d.contents});break;case Ti:n+=Am(c);break;case Vn:{if(s&&d.break)return!1;let v=d.break?Hn:f,w=d.expandedStates&&v===Hn?gn(!1,d.expandedStates,-1):d.contents;u.push({mode:v,doc:w});break}case er:{let v=(d.groupId?i[d.groupId]||ei:f)===Hn?d.breakContents:d.flatContents;v&&u.push({mode:f,doc:v});break}case _n:if(f===Hn||d.hard)return!0;d.soft||(c.push(" "),n--);break;case Ci:r=!0;break;case Oi:if(r)return!1;break}}return!1}function Mf(e,t){let n={},r=t.printWidth,i=Dm(t.endOfLine),s=0,o=[{ind:Sw(),mode:Hn,doc:e}],u=[],c=!1,f=[],d=0;for(Q2(e);o.length>0;){let{ind:v,mode:w,doc:k}=o.pop();switch(Js(k)){case Ys:{let $=i!==`
`?kf(!1,k,`
`,i):k;u.push($),o.length>0&&(s+=$m($));break}case Si:for(let $=k.length-1;$>=0;$--)o.push({ind:v,mode:w,doc:k[$]});break;case Gs:if(d>=2)throw new Error("There are too many 'cursor' in doc.");u.push(ta),d++;break;case $i:o.push({ind:$R(v,t),mode:w,doc:k.contents});break;case ki:o.push({ind:kR(v,k.n,t),mode:w,doc:k.contents});break;case Ti:s-=Am(u);break;case Vn:switch(w){case ei:if(!c){o.push({ind:v,mode:k.break?Hn:ei,doc:k.contents});break}case Hn:{c=!1;let $={ind:v,mode:ei,doc:k.contents},_=r-s,T=f.length>0;if(!k.break&&If($,o,_,T,n))o.push($);else if(k.expandedStates){let b=gn(!1,k.expandedStates,-1);if(k.break){o.push({ind:v,mode:Hn,doc:b});break}else for(let m=1;m<k.expandedStates.length+1;m++)if(m>=k.expandedStates.length){o.push({ind:v,mode:Hn,doc:b});break}else{let y=k.expandedStates[m],p={ind:v,mode:ei,doc:y};if(If(p,o,_,T,n)){o.push(p);break}}}else o.push({ind:v,mode:Hn,doc:k.contents});break}}k.id&&(n[k.id]=gn(!1,o,-1).mode);break;case Xr:{let $=r-s,_=k[km]??0,{parts:T}=k,b=T.length-_;if(b===0)break;let m=T[_+0],y=T[_+1],p={ind:v,mode:ei,doc:m},D={ind:v,mode:Hn,doc:m},E=If(p,[],$,f.length>0,n,!0);if(b===1){E?o.push(p):o.push(D);break}let P={ind:v,mode:ei,doc:y},C={ind:v,mode:Hn,doc:y};if(b===2){E?o.push(P,p):o.push(C,D);break}let R=T[_+2],I={ind:v,mode:w,doc:{...k,[km]:_+2}};If({ind:v,mode:ei,doc:[m,y,R]},[],$,f.length>0,n,!0)?o.push(I,P,p):E?o.push(I,C,p):o.push(I,C,D);break}case er:case Ai:{let $=k.groupId?n[k.groupId]:w;if($===Hn){let _=k.type===er?k.breakContents:k.negate?k.contents:Rf(k.contents);_&&o.push({ind:v,mode:w,doc:_})}if($===ei){let _=k.type===er?k.flatContents:k.negate?Rf(k.contents):k.contents;_&&o.push({ind:v,mode:w,doc:_})}break}case Ci:f.push({ind:v,mode:w,doc:k.contents});break;case Oi:f.length>0&&o.push({ind:v,mode:w,doc:Sm});break;case _n:switch(w){case ei:if(k.hard)c=!0;else{k.soft||(u.push(" "),s+=1);break}case Hn:if(f.length>0){o.push({ind:v,mode:w,doc:k},...f.reverse()),f.length=0;break}k.literal?v.root?(u.push(i,v.root.value),s=v.root.length):(u.push(i),s=0):(s-=Am(u),u.push(i+v.value),s=v.length);break}break;case Zr:o.push({ind:v,mode:w,doc:k.contents});break;case vr:break;default:throw new Zo(k)}o.length===0&&f.length>0&&(o.push(...f.reverse()),f.length=0)}let h=u.indexOf(ta);if(h!==-1){let v=u.indexOf(ta,h+1);if(v===-1)return{formatted:u.filter(_=>_!==ta).join("")};let w=u.slice(0,h).join(""),k=u.slice(h+1,v).join(""),$=u.slice(v+1).join("");return{formatted:w+k+$,cursorNodeStart:w.length,cursorNodeText:k}}return{formatted:u.join("")}}function TR(e,t,n=0){let r=0;for(let i=n;i<e.length;++i)e[i]==="	"?r=r+t-r%t:r++;return r}var Cm=TR,Zs,Om,Lf,AR=class{constructor(e){P2(this,Zs),this.stack=[e]}get key(){let{stack:e,siblings:t}=this;return gn(!1,e,t===null?-2:-4)??null}get index(){return this.siblings===null?null:gn(!1,this.stack,-2)}get node(){return gn(!1,this.stack,-1)}get parent(){return this.getNode(1)}get grandparent(){return this.getNode(2)}get isInArray(){return this.siblings!==null}get siblings(){let{stack:e}=this,t=gn(!1,e,-3);return Array.isArray(t)?t:null}get next(){let{siblings:e}=this;return e===null?null:e[this.index+1]}get previous(){let{siblings:e}=this;return e===null?null:e[this.index-1]}get isFirst(){return this.index===0}get isLast(){let{siblings:e,index:t}=this;return e!==null&&t===e.length-1}get isRoot(){return this.stack.length===1}get root(){return this.stack[0]}get ancestors(){return[...Du(this,Zs,Lf).call(this)]}getName(){let{stack:e}=this,{length:t}=e;return t>1?gn(!1,e,-2):null}getValue(){return gn(!1,this.stack,-1)}getNode(e=0){let t=Du(this,Zs,Om).call(this,e);return t===-1?null:this.stack[t]}getParentNode(e=0){return this.getNode(e+1)}call(e,...t){let{stack:n}=this,{length:r}=n,i=gn(!1,n,-1);for(let s of t)i=i[s],n.push(s,i);try{return e(this)}finally{n.length=r}}callParent(e,t=0){let n=Du(this,Zs,Om).call(this,t+1),r=this.stack.splice(n+1);try{return e(this)}finally{this.stack.push(...r)}}each(e,...t){let{stack:n}=this,{length:r}=n,i=gn(!1,n,-1);for(let s of t)i=i[s],n.push(s,i);try{for(let s=0;s<i.length;++s)n.push(s,i[s]),e(this,s,i),n.length-=2}finally{n.length=r}}map(e,...t){let n=[];return this.each((r,i,s)=>{n[i]=e(r,i,s)},...t),n}match(...e){let t=this.stack.length-1,n=null,r=this.stack[t--];for(let i of e){if(r===void 0)return!1;let s=null;if(typeof n=="number"&&(s=n,n=this.stack[t--],r=this.stack[t--]),i&&!i(r,n,s))return!1;n=this.stack[t--],r=this.stack[t--]}return!0}findAncestor(e){for(let t of Du(this,Zs,Lf).call(this))if(e(t))return t}hasAncestor(e){for(let t of Du(this,Zs,Lf).call(this))if(e(t))return!0;return!1}};Zs=new WeakSet,Om=function(e){let{stack:t}=this;for(let n=t.length-1;n>=0;n-=2)if(!Array.isArray(t[n])&&--e<0)return n;return-1},Lf=function*(){let{stack:e}=this;for(let t=e.length-3;t>=0;t-=2){let n=e[t];Array.isArray(n)||(yield n)}};var CR=AR,$w=new Proxy(()=>{},{get:()=>$w}),Pm=$w;function OR(e){return e!==null&&typeof e=="object"}var PR=OR;function*jf(e,t){let{getVisitorKeys:n,filter:r=()=>!0}=t,i=s=>PR(s)&&r(s);for(let s of n(e)){let o=e[s];if(Array.isArray(o))for(let u of o)i(u)&&(yield u);else i(o)&&(yield o)}}function*NR(e,t){let n=[e];for(let r=0;r<n.length;r++){let i=n[r];for(let s of jf(i,t))yield s,n.push(s)}}function RR(e,t){return jf(e,t).next().done}function Su(e){return(t,n,r)=>{let i=!!(r!=null&&r.backwards);if(n===!1)return!1;let{length:s}=t,o=n;for(;o>=0&&o<s;){let u=t.charAt(o);if(e instanceof RegExp){if(!e.test(u))return o}else if(!e.includes(u))return o;i?o--:o++}return o===-1||o===s?o:!1}}var FR=Su(/\s/u),ns=Su(" 	"),kw=Su(",; 	"),Tw=Su(/[^\n\r]/u);function IR(e,t,n){let r=!!(n!=null&&n.backwards);if(t===!1)return!1;let i=e.charAt(t);if(r){if(e.charAt(t-1)==="\r"&&i===`
`)return t-2;if(i===`
`||i==="\r"||i==="\u2028"||i==="\u2029")return t-1}else{if(i==="\r"&&e.charAt(t+1)===`
`)return t+2;if(i===`
`||i==="\r"||i==="\u2028"||i==="\u2029")return t+1}return t}var eo=IR;function MR(e,t,n={}){let r=ns(e,n.backwards?t-1:t,n),i=eo(e,r,n);return r!==i}var rs=MR;function LR(e){return Array.isArray(e)&&e.length>0}var jR=LR,Aw=new Set(["tokens","comments","parent","enclosingNode","precedingNode","followingNode"]),xR=e=>Object.keys(e).filter(t=>!Aw.has(t));function qR(e){return e?t=>e(t,Aw):xR}var xf=qR;function BR(e){let t=e.type||e.kind||"(unknown type)",n=String(e.name||e.id&&(typeof e.id=="object"?e.id.name:e.id)||e.key&&(typeof e.key=="object"?e.key.name:e.key)||e.value&&(typeof e.value=="object"?"":String(e.value))||e.operator||"");return n.length>20&&(n=n.slice(0,19)+"…"),t+(n?" "+n:"")}function Nm(e,t){(e.comments??(e.comments=[])).push(t),t.printed=!1,t.nodeDescription=BR(e)}function na(e,t){t.leading=!0,t.trailing=!1,Nm(e,t)}function to(e,t,n){t.leading=!1,t.trailing=!1,n&&(t.marker=n),Nm(e,t)}function ra(e,t){t.leading=!1,t.trailing=!0,Nm(e,t)}var Rm=new WeakMap;function Fm(e,t){if(Rm.has(e))return Rm.get(e);let{printer:{getCommentChildNodes:n,canAttachComment:r,getVisitorKeys:i},locStart:s,locEnd:o}=t;if(!r)return[];let u=(n?.(e,t)??[...jf(e,{getVisitorKeys:xf(i)})]).flatMap(c=>r(c)?[c]:Fm(c,t));return u.sort((c,f)=>s(c)-s(f)||o(c)-o(f)),Rm.set(e,u),u}function Cw(e,t,n,r){let{locStart:i,locEnd:s}=n,o=i(t),u=s(t),c=Fm(e,n),f,d,h=0,v=c.length;for(;h<v;){let w=h+v>>1,k=c[w],$=i(k),_=s(k);if($<=o&&u<=_)return Cw(k,t,n,k);if(_<=o){f=k,h=w+1;continue}if(u<=$){d=k,v=w;continue}throw new Error("Comment location overlaps with node location")}if(r?.type==="TemplateLiteral"){let{quasis:w}=r,k=Mm(w,t,n);f&&Mm(w,f,n)!==k&&(f=null),d&&Mm(w,d,n)!==k&&(d=null)}return{enclosingNode:r,precedingNode:f,followingNode:d}}var Im=()=>!1;function WR(e,t){let{comments:n}=e;if(delete e.comments,!jR(n)||!t.printer.canAttachComment)return;let r=[],{locStart:i,locEnd:s,printer:{experimentalFeatures:{avoidAstMutation:o=!1}={},handleComments:u={}},originalText:c}=t,{ownLine:f=Im,endOfLine:d=Im,remaining:h=Im}=u,v=n.map((w,k)=>({...Cw(e,w,t),comment:w,text:c,options:t,ast:e,isLastComment:n.length-1===k}));for(let[w,k]of v.entries()){let{comment:$,precedingNode:_,enclosingNode:T,followingNode:b,text:m,options:y,ast:p,isLastComment:D}=k;if(y.parser==="json"||y.parser==="json5"||y.parser==="jsonc"||y.parser==="__js_expression"||y.parser==="__ts_expression"||y.parser==="__vue_expression"||y.parser==="__vue_ts_expression"){if(i($)-i(p)<=0){na(p,$);continue}if(s($)-s(p)>=0){ra(p,$);continue}}let E;if(o?E=[k]:($.enclosingNode=T,$.precedingNode=_,$.followingNode=b,E=[$,m,y,p,D]),UR(m,y,v,w))$.placement="ownLine",f(...E)||(b?na(b,$):_?ra(_,$):to(T||p,$));else if(VR(m,y,v,w))$.placement="endOfLine",d(...E)||(_?ra(_,$):b?na(b,$):to(T||p,$));else if($.placement="remaining",!h(...E))if(_&&b){let P=r.length;P>0&&r[P-1].followingNode!==b&&Pw(r,y),r.push(k)}else _?ra(_,$):b?na(b,$):to(T||p,$)}if(Pw(r,t),!o)for(let w of n)delete w.precedingNode,delete w.enclosingNode,delete w.followingNode}var Ow=e=>!/[\S\n\u2028\u2029]/u.test(e);function UR(e,t,n,r){let{comment:i,precedingNode:s}=n[r],{locStart:o,locEnd:u}=t,c=o(i);if(s)for(let f=r-1;f>=0;f--){let{comment:d,precedingNode:h}=n[f];if(h!==s||!Ow(e.slice(u(d),c)))break;c=o(d)}return rs(e,c,{backwards:!0})}function VR(e,t,n,r){let{comment:i,followingNode:s}=n[r],{locStart:o,locEnd:u}=t,c=u(i);if(s)for(let f=r+1;f<n.length;f++){let{comment:d,followingNode:h}=n[f];if(h!==s||!Ow(e.slice(c,o(d))))break;c=u(d)}return rs(e,c)}function Pw(e,t){var n,r;let i=e.length;if(i===0)return;let{precedingNode:s,followingNode:o}=e[0],u=t.locStart(o),c;for(c=i;c>0;--c){let{comment:f,precedingNode:d,followingNode:h}=e[c-1];Pm.strictEqual(d,s),Pm.strictEqual(h,o);let v=t.originalText.slice(t.locEnd(f),u);if(((r=(n=t.printer).isGap)==null?void 0:r.call(n,v,t))??/^[\s(]*$/u.test(v))u=t.locStart(f);else break}for(let[f,{comment:d}]of e.entries())f<c?ra(s,d):na(o,d);for(let f of[s,o])f.comments&&f.comments.length>1&&f.comments.sort((d,h)=>t.locStart(d)-t.locStart(h));e.length=0}function Mm(e,t,n){let r=n.locStart(t)-1;for(let i=1;i<e.length;++i)if(r<n.locStart(e[i]))return i-1;return 0}function HR(e,t){let n=t-1;n=ns(e,n,{backwards:!0}),n=eo(e,n,{backwards:!0}),n=ns(e,n,{backwards:!0});let r=eo(e,n,{backwards:!0});return n!==r}var Lm=HR;function Nw(e,t){let n=e.node;return n.printed=!0,t.printer.printComment(e,t)}function KR(e,t){var n;let r=e.node,i=[Nw(e,t)],{printer:s,originalText:o,locStart:u,locEnd:c}=t;if((n=s.isBlockComment)!=null&&n.call(s,r)){let d=rs(o,c(r))?rs(o,u(r),{backwards:!0})?Qs:Dw:" ";i.push(d)}else i.push(Qs);let f=eo(o,ns(o,c(r)));return f!==!1&&rs(o,f)&&i.push(Qs),i}function zR(e,t,n){var r;let i=e.node,s=Nw(e,t),{printer:o,originalText:u,locStart:c}=t,f=(r=o.isBlockComment)==null?void 0:r.call(o,i);if(n!=null&&n.hasLineSuffix&&!(n!=null&&n.isBlock)||rs(u,c(i),{backwards:!0})){let d=Lm(u,c(i));return{doc:Em([Qs,d?Qs:"",s]),isBlock:f,hasLineSuffix:!0}}return!f||n!=null&&n.hasLineSuffix?{doc:[Em([" ",s]),Ff],isBlock:f,hasLineSuffix:!0}:{doc:[" ",s],isBlock:f,hasLineSuffix:!1}}function YR(e,t){let n=e.node;if(!n)return{};let r=t[Symbol.for("printedComments")];if((n.comments||[]).filter(u=>!r.has(u)).length===0)return{leading:"",trailing:""};let i=[],s=[],o;return e.each(()=>{let u=e.node;if(r!=null&&r.has(u))return;let{leading:c,trailing:f}=u;c?i.push(KR(e,t)):f&&(o=zR(e,t,o),s.push(o.doc))},"comments"),{leading:i,trailing:s}}function GR(e,t,n){let{leading:r,trailing:i}=YR(e,n);return!r&&!i?t:Nf(t,s=>[r,s,i])}function JR(e){let{[Symbol.for("comments")]:t,[Symbol.for("printedComments")]:n}=e;for(let r of t){if(!r.printed&&!n.has(r))throw new Error('Comment "'+r.value.trim()+'" was not printed. Please report this error!');delete r.printed}}var Rw=class extends Error{name="ConfigError"},Fw=class extends Error{name="UndefinedParserError"},QR={cursorOffset:{category:"Special",type:"int",default:-1,range:{start:-1,end:1/0,step:1},description:"Print (to stderr) where a cursor at the given position would move to after formatting.",cliCategory:"Editor"},endOfLine:{category:"Global",type:"choice",default:"lf",description:"Which end of line characters to apply.",choices:[{value:"lf",description:"Line Feed only (\\n), common on Linux and macOS as well as inside git repos"},{value:"crlf",description:"Carriage Return + Line Feed characters (\\r\\n), common on Windows"},{value:"cr",description:"Carriage Return character only (\\r), used very rarely"},{value:"auto",description:`Maintain existing
(mixed values within one file are normalised by looking at what's used after the first line)`}]},filepath:{category:"Special",type:"path",description:"Specify the input filepath. This will be used to do parser inference.",cliName:"stdin-filepath",cliCategory:"Other",cliDescription:"Path to the file to pretend that stdin comes from."},insertPragma:{category:"Special",type:"boolean",default:!1,description:"Insert @format pragma into file's first docblock comment.",cliCategory:"Other"},parser:{category:"Global",type:"choice",default:void 0,description:"Which parser to use.",exception:e=>typeof e=="string"||typeof e=="function",choices:[{value:"flow",description:"Flow"},{value:"babel",description:"JavaScript"},{value:"babel-flow",description:"Flow"},{value:"babel-ts",description:"TypeScript"},{value:"typescript",description:"TypeScript"},{value:"acorn",description:"JavaScript"},{value:"espree",description:"JavaScript"},{value:"meriyah",description:"JavaScript"},{value:"css",description:"CSS"},{value:"less",description:"Less"},{value:"scss",description:"SCSS"},{value:"json",description:"JSON"},{value:"json5",description:"JSON5"},{value:"jsonc",description:"JSON with Comments"},{value:"json-stringify",description:"JSON.stringify"},{value:"graphql",description:"GraphQL"},{value:"markdown",description:"Markdown"},{value:"mdx",description:"MDX"},{value:"vue",description:"Vue"},{value:"yaml",description:"YAML"},{value:"glimmer",description:"Ember / Handlebars"},{value:"html",description:"HTML"},{value:"angular",description:"Angular"},{value:"lwc",description:"Lightning Web Components"}]},plugins:{type:"path",array:!0,default:[{value:[]}],category:"Global",description:"Add a plugin. Multiple plugins can be passed as separate `--plugin`s.",exception:e=>typeof e=="string"||typeof e=="object",cliName:"plugin",cliCategory:"Config"},printWidth:{category:"Global",type:"int",default:80,description:"The line length where Prettier will try wrap.",range:{start:0,end:1/0,step:1}},rangeEnd:{category:"Special",type:"int",default:1/0,range:{start:0,end:1/0,step:1},description:`Format code ending at a given character offset (exclusive).
The range will extend forwards to the end of the selected statement.`,cliCategory:"Editor"},rangeStart:{category:"Special",type:"int",default:0,range:{start:0,end:1/0,step:1},description:`Format code starting at a given character offset.
The range will extend backwards to the start of the first line containing the selected statement.`,cliCategory:"Editor"},requirePragma:{category:"Special",type:"boolean",default:!1,description:`Require either '@prettier' or '@format' to be present in the file's first docblock comment
in order for it to be formatted.`,cliCategory:"Other"},tabWidth:{type:"int",category:"Global",default:2,description:"Number of spaces per indentation level.",range:{start:0,end:1/0,step:1}},useTabs:{category:"Global",type:"boolean",default:!1,description:"Indent with tabs instead of spaces."},embeddedLanguageFormatting:{category:"Global",type:"choice",default:"auto",description:"Control how Prettier formats quoted code embedded in the file.",choices:[{value:"auto",description:"Format embedded code if Prettier can automatically identify it."},{value:"off",description:"Never automatically format embedded code."}]}};function Iw({plugins:e=[],showDeprecated:t=!1}={}){let n=e.flatMap(i=>i.languages??[]),r=[];for(let i of ZR(Object.assign({},...e.map(({options:s})=>s),QR)))!t&&i.deprecated||(Array.isArray(i.choices)&&(t||(i.choices=i.choices.filter(s=>!s.deprecated)),i.name==="parser"&&(i.choices=[...i.choices,...XR(i.choices,n,e)])),i.pluginDefaults=Object.fromEntries(e.filter(s=>{var o;return((o=s.defaultOptions)==null?void 0:o[i.name])!==void 0}).map(s=>[s.name,s.defaultOptions[i.name]])),r.push(i));return{languages:n,options:r}}function*XR(e,t,n){let r=new Set(e.map(i=>i.value));for(let i of t)if(i.parsers){for(let s of i.parsers)if(!r.has(s)){r.add(s);let o=n.find(c=>c.parsers&&Object.prototype.hasOwnProperty.call(c.parsers,s)),u=i.name;o!=null&&o.name&&(u+=` (plugin: ${o.name})`),yield{value:s,description:u}}}}function ZR(e){let t=[];for(let[n,r]of Object.entries(e)){let i={name:n,...r};Array.isArray(i.default)&&(i.default=gn(!1,i.default,-1).value),t.push(i)}return t}var eF=e=>String(e).split(/[/\\]/u).pop();function Mw(e,t){if(!t)return;let n=eF(t).toLowerCase();return e.find(({filenames:r})=>r?.some(i=>i.toLowerCase()===n))??e.find(({extensions:r})=>r?.some(i=>n.endsWith(i)))}function tF(e,t){if(t)return e.find(({name:n})=>n.toLowerCase()===t)??e.find(({aliases:n})=>n?.includes(t))??e.find(({extensions:n})=>n?.includes(`.${t}`))}function nF(e,t){let n=e.plugins.flatMap(i=>i.languages??[]),r=tF(n,t.language)??Mw(n,t.physicalFile)??Mw(n,t.file)??(t.physicalFile,void 0);return r?.parsers[0]}var rF=nF,ia={key:e=>/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?e:JSON.stringify(e),value(e){if(e===null||typeof e!="object")return JSON.stringify(e);if(Array.isArray(e))return`[${e.map(n=>ia.value(n)).join(", ")}]`;let t=Object.keys(e);return t.length===0?"{}":`{ ${t.map(n=>`${ia.key(n)}: ${ia.value(e[n])}`).join(", ")} }`},pair:({key:e,value:t})=>ia.value({[e]:t})},Lw=$f(pm()),iF=(e,t,{descriptor:n})=>{let r=[`${Lw.default.yellow(typeof e=="string"?n.key(e):n.pair(e))} is deprecated`];return t&&r.push(`we now treat it as ${Lw.default.blue(typeof t=="string"?n.key(t):n.pair(t))}`),r.join("; ")+"."},sa=$f(pm()),jw=Symbol.for("vnopts.VALUE_NOT_EXIST"),qf=Symbol.for("vnopts.VALUE_UNCHANGED"),xw=" ".repeat(2),sF=(e,t,n)=>{let{text:r,list:i}=n.normalizeExpectedResult(n.schemas[e].expected(n)),s=[];return r&&s.push(qw(e,t,r,n.descriptor)),i&&s.push([qw(e,t,i.title,n.descriptor)].concat(i.values.map(o=>Bw(o,n.loggerPrintWidth))).join(`
`)),Ww(s,n.loggerPrintWidth)};function qw(e,t,n,r){return[`Invalid ${sa.default.red(r.key(e))} value.`,`Expected ${sa.default.blue(n)},`,`but received ${t===jw?sa.default.gray("nothing"):sa.default.red(r.value(t))}.`].join(" ")}function Bw({text:e,list:t},n){let r=[];return e&&r.push(`- ${sa.default.blue(e)}`),t&&r.push([`- ${sa.default.blue(t.title)}:`].concat(t.values.map(i=>Bw(i,n-xw.length).replace(/^|\n/g,`$&${xw}`))).join(`
`)),Ww(r,n)}function Ww(e,t){if(e.length===1)return e[0];let[n,r]=e,[i,s]=e.map(o=>o.split(`
`,1)[0].length);return i>t&&i>s?r:n}var Uw=$f(pm()),jm=[],Vw=[];function oF(e,t){if(e===t)return 0;let n=e;e.length>t.length&&(e=t,t=n);let r=e.length,i=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-i);)r--,i--;let s=0;for(;s<r&&e.charCodeAt(s)===t.charCodeAt(s);)s++;if(r-=s,i-=s,r===0)return i;let o,u,c,f,d=0,h=0;for(;d<r;)Vw[d]=e.charCodeAt(s+d),jm[d]=++d;for(;h<i;)for(o=t.charCodeAt(s+h),c=h++,u=h,d=0;d<r;d++)f=o===Vw[d]?c:c+1,c=jm[d],u=jm[d]=c>u?f>u?u+1:f:f>c?c+1:f;return u}var Hw=(e,t,{descriptor:n,logger:r,schemas:i})=>{let s=[`Ignored unknown option ${Uw.default.yellow(n.pair({key:e,value:t}))}.`],o=Object.keys(i).sort().find(u=>oF(e,u)<3);o&&s.push(`Did you mean ${Uw.default.blue(n.key(o))}?`),r.warn(s.join(" "))},aF=["default","expected","validate","deprecated","forward","redirect","overlap","preprocess","postprocess"];function uF(e,t){let n=new e(t),r=Object.create(n);for(let i of aF)i in t&&(r[i]=cF(t[i],n,is.prototype[i].length));return r}var is=class{static create(e){return uF(this,e)}constructor(e){this.name=e.name}default(e){}expected(e){return"nothing"}validate(e,t){return!1}deprecated(e,t){return!1}forward(e,t){}redirect(e,t){}overlap(e,t,n){return e}preprocess(e,t){return e}postprocess(e,t){return qf}};function cF(e,t,n){return typeof e=="function"?(...r)=>e(...r.slice(0,n-1),t,...r.slice(n-1)):()=>e}var lF=class extends is{constructor(e){super(e),this._sourceName=e.sourceName}expected(e){return e.schemas[this._sourceName].expected(e)}validate(e,t){return t.schemas[this._sourceName].validate(e,t)}redirect(e,t){return this._sourceName}},fF=class extends is{expected(){return"anything"}validate(){return!0}},dF=class extends is{constructor({valueSchema:e,name:t=e.name,...n}){super({...n,name:t}),this._valueSchema=e}expected(e){let{text:t,list:n}=e.normalizeExpectedResult(this._valueSchema.expected(e));return{text:t&&`an array of ${t}`,list:n&&{title:"an array of the following values",values:[{list:n}]}}}validate(e,t){if(!Array.isArray(e))return!1;let n=[];for(let r of e){let i=t.normalizeValidateResult(this._valueSchema.validate(r,t),r);i!==!0&&n.push(i.value)}return n.length===0?!0:{value:n}}deprecated(e,t){let n=[];for(let r of e){let i=t.normalizeDeprecatedResult(this._valueSchema.deprecated(r,t),r);i!==!1&&n.push(...i.map(({value:s})=>({value:[s]})))}return n}forward(e,t){let n=[];for(let r of e){let i=t.normalizeForwardResult(this._valueSchema.forward(r,t),r);n.push(...i.map(Kw))}return n}redirect(e,t){let n=[],r=[];for(let i of e){let s=t.normalizeRedirectResult(this._valueSchema.redirect(i,t),i);"remain"in s&&n.push(s.remain),r.push(...s.redirect.map(Kw))}return n.length===0?{redirect:r}:{redirect:r,remain:n}}overlap(e,t){return e.concat(t)}};function Kw({from:e,to:t}){return{from:[e],to:t}}var hF=class extends is{expected(){return"true or false"}validate(e){return typeof e=="boolean"}};function pF(e,t){let n=Object.create(null);for(let r of e){let i=r[t];if(n[i])throw new Error(`Duplicate ${t} ${JSON.stringify(i)}`);n[i]=r}return n}function mF(e,t){let n=new Map;for(let r of e){let i=r[t];if(n.has(i))throw new Error(`Duplicate ${t} ${JSON.stringify(i)}`);n.set(i,r)}return n}function gF(){let e=Object.create(null);return t=>{let n=JSON.stringify(t);return e[n]?!0:(e[n]=!0,!1)}}function yF(e,t){let n=[],r=[];for(let i of e)t(i)?n.push(i):r.push(i);return[n,r]}function vF(e){return e===Math.floor(e)}function bF(e,t){if(e===t)return 0;let n=typeof e,r=typeof t,i=["undefined","object","boolean","number","string"];return n!==r?i.indexOf(n)-i.indexOf(r):n!=="string"?Number(e)-Number(t):e.localeCompare(t)}function DF(e){return(...t)=>{let n=e(...t);return typeof n=="string"?new Error(n):n}}function zw(e){return e===void 0?{}:e}function Yw(e){if(typeof e=="string")return{text:e};let{text:t,list:n}=e;return wF((t||n)!==void 0,"Unexpected `expected` result, there should be at least one field."),n?{text:t,list:{title:n.title,values:n.values.map(Yw)}}:{text:t}}function Gw(e,t){return e===!0?!0:e===!1?{value:t}:e}function Jw(e,t,n=!1){return e===!1?!1:e===!0?n?!0:[{value:t}]:"value"in e?[e]:e.length===0?!1:e}function Qw(e,t){return typeof e=="string"||"key"in e?{from:t,to:e}:"from"in e?{from:e.from,to:e.to}:{from:t,to:e.to}}function xm(e,t){return e===void 0?[]:Array.isArray(e)?e.map(n=>Qw(n,t)):[Qw(e,t)]}function Xw(e,t){let n=xm(typeof e=="object"&&"redirect"in e?e.redirect:e,t);return n.length===0?{remain:t,redirect:n}:typeof e=="object"&&"remain"in e?{remain:e.remain,redirect:n}:{redirect:n}}function wF(e,t){if(!e)throw new Error(t)}var _F=class extends is{constructor(e){super(e),this._choices=mF(e.choices.map(t=>t&&typeof t=="object"?t:{value:t}),"value")}expected({descriptor:e}){let t=Array.from(this._choices.keys()).map(i=>this._choices.get(i)).filter(({hidden:i})=>!i).map(i=>i.value).sort(bF).map(e.value),n=t.slice(0,-2),r=t.slice(-2);return{text:n.concat(r.join(" or ")).join(", "),list:{title:"one of the following values",values:t}}}validate(e){return this._choices.has(e)}deprecated(e){let t=this._choices.get(e);return t&&t.deprecated?{value:e}:!1}forward(e){let t=this._choices.get(e);return t?t.forward:void 0}redirect(e){let t=this._choices.get(e);return t?t.redirect:void 0}},EF=class extends is{expected(){return"a number"}validate(e,t){return typeof e=="number"}},SF=class extends EF{expected(){return"an integer"}validate(e,t){return t.normalizeValidateResult(super.validate(e,t),e)===!0&&vF(e)}},Zw=class extends is{expected(){return"a string"}validate(e){return typeof e=="string"}},$F=ia,kF=Hw,TF=sF,AF=iF,CF=class{constructor(e,t){let{logger:n=console,loggerPrintWidth:r=80,descriptor:i=$F,unknown:s=kF,invalid:o=TF,deprecated:u=AF,missing:c=()=>!1,required:f=()=>!1,preprocess:d=v=>v,postprocess:h=()=>qf}=t||{};this._utils={descriptor:i,logger:n||{warn:()=>{}},loggerPrintWidth:r,schemas:pF(e,"name"),normalizeDefaultResult:zw,normalizeExpectedResult:Yw,normalizeDeprecatedResult:Jw,normalizeForwardResult:xm,normalizeRedirectResult:Xw,normalizeValidateResult:Gw},this._unknownHandler=s,this._invalidHandler=DF(o),this._deprecatedHandler=u,this._identifyMissing=(v,w)=>!(v in w)||c(v,w),this._identifyRequired=f,this._preprocess=d,this._postprocess=h,this.cleanHistory()}cleanHistory(){this._hasDeprecationWarned=gF()}normalize(e){let t={},n=[this._preprocess(e,this._utils)],r=()=>{for(;n.length!==0;){let i=n.shift(),s=this._applyNormalization(i,t);n.push(...s)}};r();for(let i of Object.keys(this._utils.schemas)){let s=this._utils.schemas[i];if(!(i in t)){let o=zw(s.default(this._utils));"value"in o&&n.push({[i]:o.value})}}r();for(let i of Object.keys(this._utils.schemas)){if(!(i in t))continue;let s=this._utils.schemas[i],o=t[i],u=s.postprocess(o,this._utils);u!==qf&&(this._applyValidation(u,i,s),t[i]=u)}return this._applyPostprocess(t),this._applyRequiredCheck(t),t}_applyNormalization(e,t){let n=[],{knownKeys:r,unknownKeys:i}=this._partitionOptionKeys(e);for(let s of r){let o=this._utils.schemas[s],u=o.preprocess(e[s],this._utils);this._applyValidation(u,s,o);let c=({from:h,to:v})=>{n.push(typeof v=="string"?{[v]:h}:{[v.key]:v.value})},f=({value:h,redirectTo:v})=>{let w=Jw(o.deprecated(h,this._utils),u,!0);if(w!==!1)if(w===!0)this._hasDeprecationWarned(s)||this._utils.logger.warn(this._deprecatedHandler(s,v,this._utils));else for(let{value:k}of w){let $={key:s,value:k};if(!this._hasDeprecationWarned($)){let _=typeof v=="string"?{key:v,value:k}:v;this._utils.logger.warn(this._deprecatedHandler($,_,this._utils))}}};xm(o.forward(u,this._utils),u).forEach(c);let d=Xw(o.redirect(u,this._utils),u);if(d.redirect.forEach(c),"remain"in d){let h=d.remain;t[s]=s in t?o.overlap(t[s],h,this._utils):h,f({value:h})}for(let{from:h,to:v}of d.redirect)f({value:h,redirectTo:v})}for(let s of i){let o=e[s];this._applyUnknownHandler(s,o,t,(u,c)=>{n.push({[u]:c})})}return n}_applyRequiredCheck(e){for(let t of Object.keys(this._utils.schemas))if(this._identifyMissing(t,e)&&this._identifyRequired(t))throw this._invalidHandler(t,jw,this._utils)}_partitionOptionKeys(e){let[t,n]=yF(Object.keys(e).filter(r=>!this._identifyMissing(r,e)),r=>r in this._utils.schemas);return{knownKeys:t,unknownKeys:n}}_applyValidation(e,t,n){let r=Gw(n.validate(e,this._utils),e);if(r!==!0)throw this._invalidHandler(t,r.value,this._utils)}_applyUnknownHandler(e,t,n,r){let i=this._unknownHandler(e,t,this._utils);if(i)for(let s of Object.keys(i)){if(this._identifyMissing(s,i))continue;let o=i[s];s in this._utils.schemas?r(s,o):n[s]=o}}_applyPostprocess(e){let t=this._postprocess(e,this._utils);if(t!==qf){if(t.delete)for(let n of t.delete)delete e[n];if(t.override){let{knownKeys:n,unknownKeys:r}=this._partitionOptionKeys(t.override);for(let i of n){let s=t.override[i];this._applyValidation(s,i,this._utils.schemas[i]),e[i]=s}for(let i of r){let s=t.override[i];this._applyUnknownHandler(i,s,e,(o,u)=>{let c=this._utils.schemas[o];this._applyValidation(u,o,c),e[o]=u})}}}}},qm;function OF(e,t,{logger:n=!1,isCLI:r=!1,passThrough:i=!1,FlagSchema:s,descriptor:o}={}){if(r){if(!s)throw new Error("'FlagSchema' option is required.");if(!o)throw new Error("'descriptor' option is required.")}else o=ia;let u=i?Array.isArray(i)?(v,w)=>i.includes(v)?{[v]:w}:void 0:(v,w)=>({[v]:w}):(v,w,k)=>{let{_:$,..._}=k.schemas;return Hw(v,w,{...k,schemas:_})},c=PF(t,{isCLI:r,FlagSchema:s}),f=new CF(c,{logger:n,unknown:u,descriptor:o}),d=n!==!1;d&&qm&&(f._hasDeprecationWarned=qm);let h=f.normalize(e);return d&&(qm=f._hasDeprecationWarned),h}function PF(e,{isCLI:t,FlagSchema:n}){let r=[];t&&r.push(fF.create({name:"_"}));for(let i of e)r.push(NF(i,{isCLI:t,optionInfos:e,FlagSchema:n})),i.alias&&t&&r.push(lF.create({name:i.alias,sourceName:i.name}));return r}function NF(e,{isCLI:t,optionInfos:n,FlagSchema:r}){let{name:i}=e,s={name:i},o,u={};switch(e.type){case"int":o=SF,t&&(s.preprocess=Number);break;case"string":o=Zw;break;case"choice":o=_F,s.choices=e.choices.map(c=>c!=null&&c.redirect?{...c,redirect:{to:{key:e.name,value:c.redirect}}}:c);break;case"boolean":o=hF;break;case"flag":o=r,s.flags=n.flatMap(c=>[c.alias,c.description&&c.name,c.oppositeDescription&&`no-${c.name}`].filter(Boolean));break;case"path":o=Zw;break;default:throw new Error(`Unexpected type ${e.type}`)}if(e.exception?s.validate=(c,f,d)=>e.exception(c)||f.validate(c,d):s.validate=(c,f,d)=>c===void 0||f.validate(c,d),e.redirect&&(u.redirect=c=>c?{to:typeof e.redirect=="string"?e.redirect:{key:e.redirect.option,value:e.redirect.value}}:void 0),e.deprecated&&(u.deprecated=!0),t&&!e.array){let c=s.preprocess||(f=>f);s.preprocess=(f,d,h)=>d.preprocess(c(Array.isArray(f)?gn(!1,f,-1):f),h)}return e.array?dF.create({...t?{preprocess:c=>Array.isArray(c)?c:[c]}:{},...u,valueSchema:o.create(s)}):o.create({...s,...u})}var RF=OF,FF=(e,t,n)=>{if(!(e&&t==null)){if(t.findLast)return t.findLast(n);for(let r=t.length-1;r>=0;r--){let i=t[r];if(n(i,r,t))return i}}},e_=FF;function t_(e,t){if(!t)throw new Error("parserName is required.");let n=e_(!1,e,i=>i.parsers&&Object.prototype.hasOwnProperty.call(i.parsers,t));if(n)return n;let r=`Couldn't resolve parser "${t}".`;throw r+=" Plugins must be explicitly added to the standalone bundle.",new Rw(r)}function IF(e,t){if(!t)throw new Error("astFormat is required.");let n=e_(!1,e,i=>i.printers&&Object.prototype.hasOwnProperty.call(i.printers,t));if(n)return n;let r=`Couldn't find plugin for AST format "${t}".`;throw r+=" Plugins must be explicitly added to the standalone bundle.",new Rw(r)}function n_({plugins:e,parser:t}){let n=t_(e,t);return r_(n,t)}function r_(e,t){let n=e.parsers[t];return typeof n=="function"?n():n}function MF(e,t){let n=e.printers[t];return typeof n=="function"?n():n}var i_={astFormat:"estree",printer:{},originalText:void 0,locStart:null,locEnd:null};async function LF(e,t={}){var n;let r={...e};if(!r.parser)if(r.filepath){if(r.parser=rF(r,{physicalFile:r.filepath}),!r.parser)throw new Fw(`No parser could be inferred for file "${r.filepath}".`)}else throw new Fw("No parser and no file path given, couldn't infer a parser.");let i=Iw({plugins:e.plugins,showDeprecated:!0}).options,s={...i_,...Object.fromEntries(i.filter(v=>v.default!==void 0).map(v=>[v.name,v.default]))},o=t_(r.plugins,r.parser),u=await r_(o,r.parser);r.astFormat=u.astFormat,r.locEnd=u.locEnd,r.locStart=u.locStart;let c=(n=o.printers)!=null&&n[u.astFormat]?o:IF(r.plugins,u.astFormat),f=await MF(c,u.astFormat);r.printer=f;let d=c.defaultOptions?Object.fromEntries(Object.entries(c.defaultOptions).filter(([,v])=>v!==void 0)):{},h={...s,...d};for(let[v,w]of Object.entries(h))(r[v]===null||r[v]===void 0)&&(r[v]=w);return r.parser==="json"&&(r.trailingComma="none"),RF(r,i,{passThrough:Object.keys(i_),...t})}var oa=LF,jF=$f(N2());async function xF(e,t){let n=await n_(t),r=n.preprocess?n.preprocess(e,t):e;t.originalText=r;let i;try{i=await n.parse(r,t,t)}catch(s){qF(s,e)}return{text:r,ast:i}}function qF(e,t){let{loc:n}=e;if(n){let r=(0,jF.codeFrameColumns)(t,n,{highlightCode:!0});throw e.message+=`
`+r,e.codeFrame=r,e}throw e}var $u=xF;async function BF(e,t,n,r,i){let{embeddedLanguageFormatting:s,printer:{embed:o,hasPrettierIgnore:u=()=>!1,getVisitorKeys:c}}=n;if(!o||s!=="auto")return;if(o.length>2)throw new Error("printer.embed has too many parameters. The API changed in Prettier v3. Please update your plugin. See https://prettier.io/docs/plugins#optional-embed");let f=xf(o.getVisitorKeys??c),d=[];w();let h=e.stack;for(let{print:k,node:$,pathStack:_}of d)try{e.stack=_;let T=await k(v,t,e,n);T&&i.set($,T)}catch(T){if(globalThis.PRETTIER_DEBUG)throw T}e.stack=h;function v(k,$){return WF(k,$,n,r)}function w(){let{node:k}=e;if(k===null||typeof k!="object"||u(e))return;for(let _ of f(k))Array.isArray(k[_])?e.each(w,_):e.call(w,_);let $=o(e,n);if($){if(typeof $=="function"){d.push({print:$,node:k,pathStack:[...e.stack]});return}i.set(k,$)}}}async function WF(e,t,n,r){let i=await oa({...n,...t,parentParser:n.parser,originalText:e},{passThrough:!0}),{ast:s}=await $u(e,i),o=await r(s,i);return yw(o)}function UF(e,t){let{originalText:n,[Symbol.for("comments")]:r,locStart:i,locEnd:s,[Symbol.for("printedComments")]:o}=t,{node:u}=e,c=i(u),f=s(u);for(let d of r)i(d)>=c&&s(d)<=f&&o.add(d);return n.slice(c,f)}var VF=UF;async function Bf(e,t){({ast:e}=await o_(e,t));let n=new Map,r=new CR(e),i=new Map;await BF(r,o,t,Bf,i);let s=await s_(r,t,o,void 0,i);if(JR(t),t.nodeAfterCursor&&!t.nodeBeforeCursor)return[Xs,s];if(t.nodeBeforeCursor&&!t.nodeAfterCursor)return[s,Xs];return s;function o(c,f){return c===void 0||c===r?u(f):Array.isArray(c)?r.call(()=>u(f),...c):r.call(()=>u(f),c)}function u(c){let f=r.node;if(f==null)return"";let d=f&&typeof f=="object"&&c===void 0;if(d&&n.has(f))return n.get(f);let h=s_(r,t,o,c,i);return d&&n.set(f,h),h}}function s_(e,t,n,r,i){var s;let{node:o}=e,{printer:u}=t,c;switch((s=u.hasPrettierIgnore)!=null&&s.call(u,e)?c=VF(e,t):i.has(o)?c=i.get(o):c=u.print(e,t,n,r),o){case t.cursorNode:c=Nf(c,f=>[Xs,f,Xs]);break;case t.nodeBeforeCursor:c=Nf(c,f=>[f,Xs]);break;case t.nodeAfterCursor:c=Nf(c,f=>[Xs,f]);break}return u.printComment&&(!u.willPrintOwnComments||!u.willPrintOwnComments(e,t))&&(c=GR(e,c,t)),c}async function o_(e,t){let n=e.comments??[];t[Symbol.for("comments")]=n,t[Symbol.for("tokens")]=e.tokens??[],t[Symbol.for("printedComments")]=new Set,WR(e,t);let{printer:{preprocess:r}}=t;return e=r?await r(e,t):e,{ast:e,comments:n}}function HF(e,t){let{cursorOffset:n,locStart:r,locEnd:i}=t,s=xf(t.printer.getVisitorKeys),o=w=>r(w)<=n&&i(w)>=n,u=e,c=[e];for(let w of NR(e,{getVisitorKeys:s,filter:o}))c.push(w),u=w;if(RR(u,{getVisitorKeys:s}))return{cursorNode:u};let f,d,h=-1,v=Number.POSITIVE_INFINITY;for(;c.length>0&&(f===void 0||d===void 0);){u=c.pop();let w=f!==void 0,k=d!==void 0;for(let $ of jf(u,{getVisitorKeys:s})){if(!w){let _=i($);_<=n&&_>h&&(f=$,h=_)}if(!k){let _=r($);_>=n&&_<v&&(d=$,v=_)}}}return{nodeBeforeCursor:f,nodeAfterCursor:d}}var KF=HF;function zF(e,t){let{printer:{massageAstNode:n,getVisitorKeys:r}}=t;if(!n)return e;let i=xf(r),s=n.ignoredProperties??new Set;return o(e);function o(u,c){if(!(u!==null&&typeof u=="object"))return u;if(Array.isArray(u))return u.map(v=>o(v,c)).filter(Boolean);let f={},d=new Set(i(u));for(let v in u)!Object.prototype.hasOwnProperty.call(u,v)||s.has(v)||(d.has(v)?f[v]=o(u[v],u):f[v]=u[v]);let h=n(u,f,c);if(h!==null)return h??f}}var YF=zF,GF=(e,t,n)=>{if(!(e&&t==null)){if(t.findLastIndex)return t.findLastIndex(n);for(let r=t.length-1;r>=0;r--){let i=t[r];if(n(i,r,t))return r}return-1}},JF=GF,QF=({parser:e})=>e==="json"||e==="json5"||e==="jsonc"||e==="json-stringify";function XF(e,t){let n=[e.node,...e.parentNodes],r=new Set([t.node,...t.parentNodes]);return n.find(i=>u_.has(i.type)&&r.has(i))}function a_(e){let t=JF(!1,e,n=>n.type!=="Program"&&n.type!=="File");return t===-1?e:e.slice(0,t+1)}function ZF(e,t,{locStart:n,locEnd:r}){let i=e.node,s=t.node;if(i===s)return{startNode:i,endNode:s};let o=n(e.node);for(let c of a_(t.parentNodes))if(n(c)>=o)s=c;else break;let u=r(t.node);for(let c of a_(e.parentNodes)){if(r(c)<=u)i=c;else break;if(i===s)break}return{startNode:i,endNode:s}}function Bm(e,t,n,r,i=[],s){let{locStart:o,locEnd:u}=n,c=o(e),f=u(e);if(!(t>f||t<c||s==="rangeEnd"&&t===c||s==="rangeStart"&&t===f)){for(let d of Fm(e,n)){let h=Bm(d,t,n,r,[e,...i],s);if(h)return h}if(!r||r(e,i[0]))return{node:e,parentNodes:i}}}function eI(e,t){return t!=="DeclareExportDeclaration"&&e!=="TypeParameterDeclaration"&&(e==="Directive"||e==="TypeAlias"||e==="TSExportAssignment"||e.startsWith("Declare")||e.startsWith("TSDeclare")||e.endsWith("Statement")||e.endsWith("Declaration"))}var u_=new Set(["JsonRoot","ObjectExpression","ArrayExpression","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","UnaryExpression","TemplateLiteral"]),tI=new Set(["OperationDefinition","FragmentDefinition","VariableDefinition","TypeExtensionDefinition","ObjectTypeDefinition","FieldDefinition","DirectiveDefinition","EnumTypeDefinition","EnumValueDefinition","InputValueDefinition","InputObjectTypeDefinition","SchemaDefinition","OperationTypeDefinition","InterfaceTypeDefinition","UnionTypeDefinition","ScalarTypeDefinition"]);function c_(e,t,n){if(!t)return!1;switch(e.parser){case"flow":case"babel":case"babel-flow":case"babel-ts":case"typescript":case"acorn":case"espree":case"meriyah":case"__babel_estree":return eI(t.type,n?.type);case"json":case"json5":case"jsonc":case"json-stringify":return u_.has(t.type);case"graphql":return tI.has(t.kind);case"vue":return t.tag!=="root"}return!1}function nI(e,t,n){let{rangeStart:r,rangeEnd:i,locStart:s,locEnd:o}=t;Pm.ok(i>r);let u=e.slice(r,i).search(/\S/u),c=u===-1;if(!c)for(r+=u;i>r&&!/\S/u.test(e[i-1]);--i);let f=Bm(n,r,t,(w,k)=>c_(t,w,k),[],"rangeStart"),d=c?f:Bm(n,i,t,w=>c_(t,w),[],"rangeEnd");if(!f||!d)return{rangeStart:0,rangeEnd:0};let h,v;if(QF(t)){let w=XF(f,d);h=w,v=w}else({startNode:h,endNode:v}=ZF(f,d,t));return{rangeStart:Math.min(s(h),s(v)),rangeEnd:Math.max(o(h),o(v))}}var l_="\uFEFF",f_=Symbol("cursor");async function d_(e,t,n=0){if(!e||e.trim().length===0)return{formatted:"",cursorOffset:-1,comments:[]};let{ast:r,text:i}=await $u(e,t);t.cursorOffset>=0&&(t={...t,...KF(r,t)});let s=await Bf(r,t);n>0&&(s=Ew([Qs,s],n,t.tabWidth));let o=Mf(s,t);if(n>0){let c=o.formatted.trim();o.cursorNodeStart!==void 0&&(o.cursorNodeStart-=o.formatted.indexOf(c),o.cursorNodeStart<0&&(o.cursorNodeStart=0,o.cursorNodeText=o.cursorNodeText.trimStart()),o.cursorNodeStart+o.cursorNodeText.length>c.length&&(o.cursorNodeText=o.cursorNodeText.trimEnd())),o.formatted=c+Dm(t.endOfLine)}let u=t[Symbol.for("comments")];if(t.cursorOffset>=0){let c,f,d,h;if((t.cursorNode||t.nodeBeforeCursor||t.nodeAfterCursor)&&o.cursorNodeText)if(d=o.cursorNodeStart,h=o.cursorNodeText,t.cursorNode)c=t.locStart(t.cursorNode),f=i.slice(c,t.locEnd(t.cursorNode));else{if(!t.nodeBeforeCursor&&!t.nodeAfterCursor)throw new Error("Cursor location must contain at least one of cursorNode, nodeBeforeCursor, nodeAfterCursor");c=t.nodeBeforeCursor?t.locEnd(t.nodeBeforeCursor):0;let T=t.nodeAfterCursor?t.locStart(t.nodeAfterCursor):i.length;f=i.slice(c,T)}else c=0,f=i,d=0,h=o.formatted;let v=t.cursorOffset-c;if(f===h)return{formatted:o.formatted,cursorOffset:d+v,comments:u};let w=f.split("");w.splice(v,0,f_);let k=h.split(""),$=q2(w,k),_=d;for(let T of $)if(T.removed){if(T.value.includes(f_))break}else _+=T.count;return{formatted:o.formatted,cursorOffset:_,comments:u}}return{formatted:o.formatted,cursorOffset:-1,comments:u}}async function rI(e,t){let{ast:n,text:r}=await $u(e,t),{rangeStart:i,rangeEnd:s}=nI(r,t,n),o=r.slice(i,s),u=Math.min(i,r.lastIndexOf(`
`,i)+1),c=r.slice(u,i).match(/^\s*/u)[0],f=Cm(c,t.tabWidth),d=await d_(o,{...t,rangeStart:0,rangeEnd:Number.POSITIVE_INFINITY,cursorOffset:t.cursorOffset>i&&t.cursorOffset<=s?t.cursorOffset-i:-1,endOfLine:"lf"},f),h=d.formatted.trimEnd(),{cursorOffset:v}=t;v>s?v+=h.length-o.length:d.cursorOffset>=0&&(v=d.cursorOffset+i);let w=r.slice(0,i)+h+r.slice(s);if(t.endOfLine!=="lf"){let k=Dm(t.endOfLine);v>=0&&k===`\r
`&&(v+=dw(w.slice(0,v),`
`)),w=kf(!1,w,`
`,k)}return{formatted:w,cursorOffset:v,comments:d.comments}}function Wm(e,t,n){return typeof t!="number"||Number.isNaN(t)||t<0||t>e.length?n:t}function h_(e,t){let{cursorOffset:n,rangeStart:r,rangeEnd:i}=t;return n=Wm(e,n,-1),r=Wm(e,r,0),i=Wm(e,i,e.length),{...t,cursorOffset:n,rangeStart:r,rangeEnd:i}}function p_(e,t){let{cursorOffset:n,rangeStart:r,rangeEnd:i,endOfLine:s}=h_(e,t),o=e.charAt(0)===l_;if(o&&(e=e.slice(1),n--,r--,i--),s==="auto"&&(s=B2(e)),e.includes("\r")){let u=c=>dw(e.slice(0,Math.max(c,0)),`\r
`);n-=u(n),r-=u(r),i-=u(i),e=W2(e)}return{hasBOM:o,text:e,options:h_(e,{...t,cursorOffset:n,rangeStart:r,rangeEnd:i,endOfLine:s})}}async function m_(e,t){let n=await n_(t);return!n.hasPragma||n.hasPragma(e)}async function g_(e,t){let{hasBOM:n,text:r,options:i}=p_(e,await oa(t));if(i.rangeStart>=i.rangeEnd&&r!==""||i.requirePragma&&!await m_(r,i))return{formatted:e,cursorOffset:t.cursorOffset,comments:[]};let s;return i.rangeStart>0||i.rangeEnd<r.length?s=await rI(r,i):(!i.requirePragma&&i.insertPragma&&i.printer.insertPragma&&!await m_(r,i)&&(r=i.printer.insertPragma(r)),s=await d_(r,i)),n&&(s.formatted=l_+s.formatted,s.cursorOffset>=0&&s.cursorOffset++),s}async function iI(e,t,n){let{text:r,options:i}=p_(e,await oa(t)),s=await $u(r,i);return n&&(n.preprocessForPrint&&(s.ast=await o_(s.ast,i)),n.massage&&(s.ast=YF(s.ast,i))),s}async function sI(e,t){t=await oa(t);let n=await Bf(e,t);return Mf(n,t)}async function oI(e,t){let n=vR(e),{formatted:r}=await g_(n,{...t,parser:"__js_expression"});return r}async function aI(e,t){t=await oa(t);let{ast:n}=await $u(e,t);return Bf(n,t)}async function uI(e,t){return Mf(e,await oa(t))}var y_={};hm(y_,{builders:()=>cI,printer:()=>lI,utils:()=>fI});var cI={join:_w,line:Dw,softline:gR,hardline:Qs,literalline:ww,group:vw,conditionalGroup:lR,fill:fR,lineSuffix:Em,lineSuffixBoundary:pR,cursor:Xs,breakParent:Ff,ifBreak:dR,trim:mR,indent:Rf,indentIfBreak:hR,align:ea,addAlignmentToDoc:Ew,markAsRoot:uR,dedentToRoot:aR,dedent:cR,hardlineWithoutBreakParent:Sm,literallineWithoutBreakParent:bw,label:yR,concat:e=>e},lI={printDocToString:Mf},fI={willBreak:J2,traverseDoc:wm,findInDoc:_m,mapDoc:Pf,removeLines:Z2,stripTrailingHardline:yw,replaceEndOfLine:nR,canBreak:iR},dI="3.5.3",v_={};hm(v_,{addDanglingComment:()=>to,addLeadingComment:()=>na,addTrailingComment:()=>ra,getAlignmentSize:()=>Cm,getIndentSize:()=>vI,getMaxContinuousCount:()=>wI,getNextNonSpaceNonCommentCharacter:()=>EI,getNextNonSpaceNonCommentCharacterIndex:()=>RI,getPreferredQuote:()=>$I,getStringWidth:()=>$m,hasNewline:()=>rs,hasNewlineInRange:()=>TI,hasSpaces:()=>CI,isNextLineEmpty:()=>LI,isNextLineEmptyAfterIndex:()=>Km,isPreviousLineEmpty:()=>II,makeString:()=>PI,skip:()=>Su,skipEverythingButNewLine:()=>Tw,skipInlineComment:()=>Um,skipNewline:()=>eo,skipSpaces:()=>ns,skipToLineEnd:()=>kw,skipTrailingComment:()=>Vm,skipWhitespace:()=>FR});function hI(e,t){if(t===!1)return!1;if(e.charAt(t)==="/"&&e.charAt(t+1)==="*"){for(let n=t+2;n<e.length;++n)if(e.charAt(n)==="*"&&e.charAt(n+1)==="/")return n+2}return t}var Um=hI;function pI(e,t){return t===!1?!1:e.charAt(t)==="/"&&e.charAt(t+1)==="/"?Tw(e,t):t}var Vm=pI;function mI(e,t){let n=null,r=t;for(;r!==n;)n=r,r=ns(e,r),r=Um(e,r),r=Vm(e,r),r=eo(e,r);return r}var Hm=mI;function gI(e,t){let n=null,r=t;for(;r!==n;)n=r,r=kw(e,r),r=Um(e,r),r=ns(e,r);return r=Vm(e,r),r=eo(e,r),r!==!1&&rs(e,r)}var Km=gI;function yI(e,t){let n=e.lastIndexOf(`
`);return n===-1?0:Cm(e.slice(n+1).match(/^[\t ]*/u)[0],t)}var vI=yI;function bI(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function DI(e,t){let n=e.match(new RegExp(`(${bI(t)})+`,"gu"));return n===null?0:n.reduce((r,i)=>Math.max(r,i.length/t.length),0)}var wI=DI;function _I(e,t){let n=Hm(e,t);return n===!1?"":e.charAt(n)}var EI=_I,Wf="'",b_='"';function SI(e,t){let n=t===!0||t===Wf?Wf:b_,r=n===Wf?b_:Wf,i=0,s=0;for(let o of e)o===n?i++:o===r&&s++;return i>s?r:n}var $I=SI;function kI(e,t,n){for(let r=t;r<n;++r)if(e.charAt(r)===`
`)return!0;return!1}var TI=kI;function AI(e,t,n={}){return ns(e,n.backwards?t-1:t,n)!==t}var CI=AI;function OI(e,t,n){let r=t==='"'?"'":'"',i=kf(!1,e,/\\(.)|(["'])/gsu,(s,o,u)=>o===r?o:u===t?"\\"+u:u||(n&&/^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/u.test(o)?o:"\\"+o));return t+i+t}var PI=OI;function NI(e,t,n){return Hm(e,n(t))}function RI(e,t){return arguments.length===2||typeof t=="number"?Hm(e,t):NI(...arguments)}function FI(e,t,n){return Lm(e,n(t))}function II(e,t){return arguments.length===2||typeof t=="number"?Lm(e,t):FI(...arguments)}function MI(e,t,n){return Km(e,n(t))}function LI(e,t){return arguments.length===2||typeof t=="number"?Km(e,t):MI(...arguments)}function no(e,t=1){return async(...n)=>{let r=n[t]??{},i=r.plugins??[];return n[t]={...r,plugins:Array.isArray(i)?i:Object.values(i)},e(...n)}}var D_=no(g_);async function zm(e,t){let{formatted:n}=await D_(e,{...t,cursorOffset:-1});return n}async function jI(e,t){return await zm(e,t)===e}var xI=no(Iw,0),qI={parse:no(iI),formatAST:no(sI),formatDoc:no(oI),printToDoc:no(aI),printDocToString:no(uI)};class BI{constructor(){this.formatterEnabled=!0}configure(t){t&&(this.formatterEnabled=t.format)}async format(t,n={}){if(!this.formatterEnabled)return[];try{const r=t.getText(),i={parser:"yaml",plugins:[E2],tabWidth:n.tabWidth||n.tabSize,singleQuote:n.singleQuote,bracketSpacing:n.bracketSpacing,proseWrap:n.proseWrap==="always"?"always":n.proseWrap==="never"?"never":"preserve",printWidth:n.printWidth},s=await zm(r,i);return[Pt.replace(Be.create(tn.create(0,0),t.positionAt(r.length)),s)]}catch{return[]}}}class WI{constructor(t){this.telemetry=t}findLinks(t){try{const n=pr.getYamlDocument(t),r=[];for(const i of n.documents)r.push(NA(t,i));return Promise.all(r).then(i=>[].concat(...i))}catch(n){this.telemetry?.sendError("yaml.documentLink.error",n)}}}function UI(e,t){if(!e)return;const n=[],r=pr.getYamlDocument(e);for(const s of r.documents)r.documents.length>1&&n.push(Uf(e,s.root)),s.visit(o=>{if(o.type==="object"&&o.parent?.type==="array"&&n.push(Uf(e,o)),o.type==="property"&&o.valueNode)switch(o.valueNode.type){case"array":case"object":n.push(Uf(e,o));break;case"string":{const u=e.positionAt(o.offset),c=e.positionAt(o.valueNode.offset+o.valueNode.length);u.line!==c.line&&n.push(Uf(e,o));break}default:return!0}return!0});const i=t&&t.rangeLimit;return typeof i!="number"||n.length<=i?n:(t&&t.onRangeLimitExceeded&&t.onRangeLimitExceeded(e.uri),n.slice(0,t.rangeLimit))}function Uf(e,t){const n=e.positionAt(t.offset);let r=e.positionAt(t.offset+t.length);const i=e.getText(Be.create(n,r)),s=i.length-i.trimRight().length;return s>0&&(r=e.positionAt(t.offset+t.length-s)),cc.create(n.line,r.line,n.character,r.character)}var Vf;(function(e){e.JUMP_TO_SCHEMA="jumpToSchema"})(Vf||(Vf={}));class VI{constructor(t){this.indentation=t}write(t){if(t.internalNode.srcToken.type!=="flow-collection")return null;const n=t.internalNode.srcToken,r=n.start.type==="flow-map-start"?"block-map":"block-seq",i=t.parent.type,s={type:r,offset:n.offset,indent:n.indent,items:[]};for(const o of n.items)Is(o,({key:u,sep:c,value:f})=>{if(r==="block-map"){const d=[{type:"space",indent:0,offset:u.offset,source:this.indentation}];i==="property"&&d.unshift({type:"newline",indent:0,offset:u.offset,source:`
`}),s.items.push({start:d,key:u,sep:c,value:f})}else r==="block-seq"&&s.items.push({start:[{type:"newline",indent:0,offset:f.offset,source:`
`},{type:"space",indent:0,offset:f.offset,source:this.indentation},{type:"seq-item-ind",indent:0,offset:f.offset,source:"-"},{type:"space",indent:0,offset:f.offset,source:" "}],value:f});if(f.type==="flow-collection")return Lt.SKIP});return vv(s)}}var ku={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var HI=ku.exports,w_;function KI(){return w_||(w_=1,function(e,t){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",h=1,v=2,w=4,k=1,$=2,_=1,T=2,b=4,m=8,y=16,p=32,D=64,E=128,P=256,C=512,R=30,I="...",F=800,j=16,Q=1,ae=2,ce=3,he=1/0,Te=9007199254740991,Ye=17976931348623157e292,ge=NaN,V=4294967295,oe=V-1,re=V>>>1,q=[["ary",E],["bind",_],["bindKey",T],["curry",m],["curryRight",y],["flip",C],["partial",p],["partialRight",D],["rearg",P]],X="[object Arguments]",fe="[object Array]",$e="[object AsyncFunction]",ke="[object Boolean]",Fe="[object Date]",we="[object DOMException]",U="[object Error]",J="[object Function]",de="[object GeneratorFunction]",ne="[object Map]",Se="[object Number]",Re="[object Null]",qe="[object Object]",Rt="[object Promise]",Tt="[object Proxy]",dt="[object RegExp]",Ke="[object Set]",Ft="[object String]",At="[object Symbol]",Xt="[object Undefined]",yt="[object WeakMap]",Y="[object WeakSet]",B="[object ArrayBuffer]",x="[object DataView]",W="[object Float32Array]",O="[object Float64Array]",S="[object Int8Array]",A="[object Int16Array]",M="[object Int32Array]",z="[object Uint8Array]",Z="[object Uint8ClampedArray]",se="[object Uint16Array]",Ee="[object Uint32Array]",je=/\b__p \+= '';/g,Pe=/\b(__p \+=) '' \+/g,xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ce=/&(?:amp|lt|gt|quot|#39);/g,at=/[&<>"']/g,jt=RegExp(Ce.source),et=RegExp(at.source),vt=/<%-([\s\S]+?)%>/g,rt=/<%([\s\S]+?)%>/g,Zt=/<%=([\s\S]+?)%>/g,rr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ti=/^\w*$/,ua=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ss=/[\\^$.*+?()[\]{}|]/g,ni=RegExp(ss.source),Fi=/^\s+/,G=/\s/,Kt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,He=/,? & /,te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,be=/[()=,{}\[\]\/\s]/,Ae=/\\(\\)?/g,Ie=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nt=/\w*$/,Ct=/^[-+]0x[0-9a-f]+$/i,Bt=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,ht=/^0o[0-7]+$/i,xt=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wt=/($^)/,En=/['\n\r\u2028\u2029\\]/g,Mn="\\ud800-\\udfff",Qm="\\u0300-\\u036f",SM="\\ufe20-\\ufe2f",$M="\\u20d0-\\u20ff",dE=Qm+SM+$M,hE="\\u2700-\\u27bf",pE="a-z\\xdf-\\xf6\\xf8-\\xff",kM="\\xac\\xb1\\xd7\\xf7",TM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",AM="\\u2000-\\u206f",CM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mE="A-Z\\xc0-\\xd6\\xd8-\\xde",gE="\\ufe0e\\ufe0f",yE=kM+TM+AM+CM,Xm="['’]",OM="["+Mn+"]",vE="["+yE+"]",Yf="["+dE+"]",bE="\\d+",PM="["+hE+"]",DE="["+pE+"]",wE="[^"+Mn+yE+bE+hE+pE+mE+"]",Zm="\\ud83c[\\udffb-\\udfff]",NM="(?:"+Yf+"|"+Zm+")",_E="[^"+Mn+"]",eg="(?:\\ud83c[\\udde6-\\uddff]){2}",tg="[\\ud800-\\udbff][\\udc00-\\udfff]",ca="["+mE+"]",EE="\\u200d",SE="(?:"+DE+"|"+wE+")",RM="(?:"+ca+"|"+wE+")",$E="(?:"+Xm+"(?:d|ll|m|re|s|t|ve))?",kE="(?:"+Xm+"(?:D|LL|M|RE|S|T|VE))?",TE=NM+"?",AE="["+gE+"]?",FM="(?:"+EE+"(?:"+[_E,eg,tg].join("|")+")"+AE+TE+")*",IM="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",MM="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",CE=AE+TE+FM,LM="(?:"+[PM,eg,tg].join("|")+")"+CE,jM="(?:"+[_E+Yf+"?",Yf,eg,tg,OM].join("|")+")",xM=RegExp(Xm,"g"),qM=RegExp(Yf,"g"),ng=RegExp(Zm+"(?="+Zm+")|"+jM+CE,"g"),BM=RegExp([ca+"?"+DE+"+"+$E+"(?="+[vE,ca,"$"].join("|")+")",RM+"+"+kE+"(?="+[vE,ca+SE,"$"].join("|")+")",ca+"?"+SE+"+"+$E,ca+"+"+kE,MM,IM,bE,LM].join("|"),"g"),WM=RegExp("["+EE+Mn+dE+gE+"]"),UM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,VM=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],HM=-1,qt={};qt[W]=qt[O]=qt[S]=qt[A]=qt[M]=qt[z]=qt[Z]=qt[se]=qt[Ee]=!0,qt[X]=qt[fe]=qt[B]=qt[ke]=qt[x]=qt[Fe]=qt[U]=qt[J]=qt[ne]=qt[Se]=qt[qe]=qt[dt]=qt[Ke]=qt[Ft]=qt[yt]=!1;var Mt={};Mt[X]=Mt[fe]=Mt[B]=Mt[x]=Mt[ke]=Mt[Fe]=Mt[W]=Mt[O]=Mt[S]=Mt[A]=Mt[M]=Mt[ne]=Mt[Se]=Mt[qe]=Mt[dt]=Mt[Ke]=Mt[Ft]=Mt[At]=Mt[z]=Mt[Z]=Mt[se]=Mt[Ee]=!0,Mt[U]=Mt[J]=Mt[yt]=!1;var KM={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},zM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YM={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},GM={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},JM=parseFloat,QM=parseInt,OE=typeof nc=="object"&&nc&&nc.Object===Object&&nc,XM=typeof self=="object"&&self&&self.Object===Object&&self,Sn=OE||XM||Function("return this")(),rg=t&&!t.nodeType&&t,uo=rg&&!0&&e&&!e.nodeType&&e,PE=uo&&uo.exports===rg,ig=PE&&OE.process,br=function(){try{var ue=uo&&uo.require&&uo.require("util").types;return ue||ig&&ig.binding&&ig.binding("util")}catch{}}(),NE=br&&br.isArrayBuffer,RE=br&&br.isDate,FE=br&&br.isMap,IE=br&&br.isRegExp,ME=br&&br.isSet,LE=br&&br.isTypedArray;function ir(ue,ye,me){switch(me.length){case 0:return ue.call(ye);case 1:return ue.call(ye,me[0]);case 2:return ue.call(ye,me[0],me[1]);case 3:return ue.call(ye,me[0],me[1],me[2])}return ue.apply(ye,me)}function ZM(ue,ye,me,Ne){for(var Xe=-1,Dt=ue==null?0:ue.length;++Xe<Dt;){var dn=ue[Xe];ye(Ne,dn,me(dn),ue)}return Ne}function Dr(ue,ye){for(var me=-1,Ne=ue==null?0:ue.length;++me<Ne&&ye(ue[me],me,ue)!==!1;);return ue}function eL(ue,ye){for(var me=ue==null?0:ue.length;me--&&ye(ue[me],me,ue)!==!1;);return ue}function jE(ue,ye){for(var me=-1,Ne=ue==null?0:ue.length;++me<Ne;)if(!ye(ue[me],me,ue))return!1;return!0}function os(ue,ye){for(var me=-1,Ne=ue==null?0:ue.length,Xe=0,Dt=[];++me<Ne;){var dn=ue[me];ye(dn,me,ue)&&(Dt[Xe++]=dn)}return Dt}function Gf(ue,ye){var me=ue==null?0:ue.length;return!!me&&la(ue,ye,0)>-1}function sg(ue,ye,me){for(var Ne=-1,Xe=ue==null?0:ue.length;++Ne<Xe;)if(me(ye,ue[Ne]))return!0;return!1}function Ut(ue,ye){for(var me=-1,Ne=ue==null?0:ue.length,Xe=Array(Ne);++me<Ne;)Xe[me]=ye(ue[me],me,ue);return Xe}function as(ue,ye){for(var me=-1,Ne=ye.length,Xe=ue.length;++me<Ne;)ue[Xe+me]=ye[me];return ue}function og(ue,ye,me,Ne){var Xe=-1,Dt=ue==null?0:ue.length;for(Ne&&Dt&&(me=ue[++Xe]);++Xe<Dt;)me=ye(me,ue[Xe],Xe,ue);return me}function tL(ue,ye,me,Ne){var Xe=ue==null?0:ue.length;for(Ne&&Xe&&(me=ue[--Xe]);Xe--;)me=ye(me,ue[Xe],Xe,ue);return me}function ag(ue,ye){for(var me=-1,Ne=ue==null?0:ue.length;++me<Ne;)if(ye(ue[me],me,ue))return!0;return!1}var nL=ug("length");function rL(ue){return ue.split("")}function iL(ue){return ue.match(te)||[]}function xE(ue,ye,me){var Ne;return me(ue,function(Xe,Dt,dn){if(ye(Xe,Dt,dn))return Ne=Dt,!1}),Ne}function Jf(ue,ye,me,Ne){for(var Xe=ue.length,Dt=me+(Ne?1:-1);Ne?Dt--:++Dt<Xe;)if(ye(ue[Dt],Dt,ue))return Dt;return-1}function la(ue,ye,me){return ye===ye?gL(ue,ye,me):Jf(ue,qE,me)}function sL(ue,ye,me,Ne){for(var Xe=me-1,Dt=ue.length;++Xe<Dt;)if(Ne(ue[Xe],ye))return Xe;return-1}function qE(ue){return ue!==ue}function BE(ue,ye){var me=ue==null?0:ue.length;return me?lg(ue,ye)/me:ge}function ug(ue){return function(ye){return ye==null?n:ye[ue]}}function cg(ue){return function(ye){return ue==null?n:ue[ye]}}function WE(ue,ye,me,Ne,Xe){return Xe(ue,function(Dt,dn,It){me=Ne?(Ne=!1,Dt):ye(me,Dt,dn,It)}),me}function oL(ue,ye){var me=ue.length;for(ue.sort(ye);me--;)ue[me]=ue[me].value;return ue}function lg(ue,ye){for(var me,Ne=-1,Xe=ue.length;++Ne<Xe;){var Dt=ye(ue[Ne]);Dt!==n&&(me=me===n?Dt:me+Dt)}return me}function fg(ue,ye){for(var me=-1,Ne=Array(ue);++me<ue;)Ne[me]=ye(me);return Ne}function aL(ue,ye){return Ut(ye,function(me){return[me,ue[me]]})}function UE(ue){return ue&&ue.slice(0,zE(ue)+1).replace(Fi,"")}function sr(ue){return function(ye){return ue(ye)}}function dg(ue,ye){return Ut(ye,function(me){return ue[me]})}function Bu(ue,ye){return ue.has(ye)}function VE(ue,ye){for(var me=-1,Ne=ue.length;++me<Ne&&la(ye,ue[me],0)>-1;);return me}function HE(ue,ye){for(var me=ue.length;me--&&la(ye,ue[me],0)>-1;);return me}function uL(ue,ye){for(var me=ue.length,Ne=0;me--;)ue[me]===ye&&++Ne;return Ne}var cL=cg(KM),lL=cg(zM);function fL(ue){return"\\"+GM[ue]}function dL(ue,ye){return ue==null?n:ue[ye]}function fa(ue){return WM.test(ue)}function hL(ue){return UM.test(ue)}function pL(ue){for(var ye,me=[];!(ye=ue.next()).done;)me.push(ye.value);return me}function hg(ue){var ye=-1,me=Array(ue.size);return ue.forEach(function(Ne,Xe){me[++ye]=[Xe,Ne]}),me}function KE(ue,ye){return function(me){return ue(ye(me))}}function us(ue,ye){for(var me=-1,Ne=ue.length,Xe=0,Dt=[];++me<Ne;){var dn=ue[me];(dn===ye||dn===d)&&(ue[me]=d,Dt[Xe++]=me)}return Dt}function Qf(ue){var ye=-1,me=Array(ue.size);return ue.forEach(function(Ne){me[++ye]=Ne}),me}function mL(ue){var ye=-1,me=Array(ue.size);return ue.forEach(function(Ne){me[++ye]=[Ne,Ne]}),me}function gL(ue,ye,me){for(var Ne=me-1,Xe=ue.length;++Ne<Xe;)if(ue[Ne]===ye)return Ne;return-1}function yL(ue,ye,me){for(var Ne=me+1;Ne--;)if(ue[Ne]===ye)return Ne;return Ne}function da(ue){return fa(ue)?bL(ue):nL(ue)}function jr(ue){return fa(ue)?DL(ue):rL(ue)}function zE(ue){for(var ye=ue.length;ye--&&G.test(ue.charAt(ye)););return ye}var vL=cg(YM);function bL(ue){for(var ye=ng.lastIndex=0;ng.test(ue);)++ye;return ye}function DL(ue){return ue.match(ng)||[]}function wL(ue){return ue.match(BM)||[]}var _L=function ue(ye){ye=ye==null?Sn:ha.defaults(Sn.Object(),ye,ha.pick(Sn,VM));var me=ye.Array,Ne=ye.Date,Xe=ye.Error,Dt=ye.Function,dn=ye.Math,It=ye.Object,pg=ye.RegExp,EL=ye.String,wr=ye.TypeError,Xf=me.prototype,SL=Dt.prototype,pa=It.prototype,Zf=ye["__core-js_shared__"],ed=SL.toString,Ot=pa.hasOwnProperty,$L=0,YE=function(){var a=/[^.]+$/.exec(Zf&&Zf.keys&&Zf.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),td=pa.toString,kL=ed.call(It),TL=Sn._,AL=pg("^"+ed.call(Ot).replace(ss,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nd=PE?ye.Buffer:n,cs=ye.Symbol,rd=ye.Uint8Array,GE=nd?nd.allocUnsafe:n,id=KE(It.getPrototypeOf,It),JE=It.create,QE=pa.propertyIsEnumerable,sd=Xf.splice,XE=cs?cs.isConcatSpreadable:n,Wu=cs?cs.iterator:n,co=cs?cs.toStringTag:n,od=function(){try{var a=mo(It,"defineProperty");return a({},"",{}),a}catch{}}(),CL=ye.clearTimeout!==Sn.clearTimeout&&ye.clearTimeout,OL=Ne&&Ne.now!==Sn.Date.now&&Ne.now,PL=ye.setTimeout!==Sn.setTimeout&&ye.setTimeout,ad=dn.ceil,ud=dn.floor,mg=It.getOwnPropertySymbols,NL=nd?nd.isBuffer:n,ZE=ye.isFinite,RL=Xf.join,FL=KE(It.keys,It),hn=dn.max,kn=dn.min,IL=Ne.now,ML=ye.parseInt,eS=dn.random,LL=Xf.reverse,gg=mo(ye,"DataView"),Uu=mo(ye,"Map"),yg=mo(ye,"Promise"),ma=mo(ye,"Set"),Vu=mo(ye,"WeakMap"),Hu=mo(It,"create"),cd=Vu&&new Vu,ga={},jL=go(gg),xL=go(Uu),qL=go(yg),BL=go(ma),WL=go(Vu),ld=cs?cs.prototype:n,Ku=ld?ld.valueOf:n,tS=ld?ld.toString:n;function H(a){if(en(a)&&!Ze(a)&&!(a instanceof ft)){if(a instanceof _r)return a;if(Ot.call(a,"__wrapped__"))return n$(a)}return new _r(a)}var ya=function(){function a(){}return function(l){if(!Gt(l))return{};if(JE)return JE(l);a.prototype=l;var g=new a;return a.prototype=n,g}}();function fd(){}function _r(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}H.templateSettings={escape:vt,evaluate:rt,interpolate:Zt,variable:"",imports:{_:H}},H.prototype=fd.prototype,H.prototype.constructor=H,_r.prototype=ya(fd.prototype),_r.prototype.constructor=_r;function ft(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function UL(){var a=new ft(this.__wrapped__);return a.__actions__=Kn(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Kn(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Kn(this.__views__),a}function VL(){if(this.__filtered__){var a=new ft(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function HL(){var a=this.__wrapped__.value(),l=this.__dir__,g=Ze(a),N=l<0,L=g?a.length:0,K=rx(0,L,this.__views__),ee=K.start,ie=K.end,le=ie-ee,ve=N?ie:ee-1,De=this.__iteratees__,_e=De.length,Oe=0,Me=kn(le,this.__takeCount__);if(!g||!N&&L==le&&Me==le)return $S(a,this.__actions__);var Ue=[];e:for(;le--&&Oe<Me;){ve+=l;for(var it=-1,Ve=a[ve];++it<_e;){var ut=De[it],pt=ut.iteratee,ur=ut.type,xn=pt(Ve);if(ur==ae)Ve=xn;else if(!xn){if(ur==Q)continue e;break e}}Ue[Oe++]=Ve}return Ue}ft.prototype=ya(fd.prototype),ft.prototype.constructor=ft;function lo(a){var l=-1,g=a==null?0:a.length;for(this.clear();++l<g;){var N=a[l];this.set(N[0],N[1])}}function KL(){this.__data__=Hu?Hu(null):{},this.size=0}function zL(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function YL(a){var l=this.__data__;if(Hu){var g=l[a];return g===c?n:g}return Ot.call(l,a)?l[a]:n}function GL(a){var l=this.__data__;return Hu?l[a]!==n:Ot.call(l,a)}function JL(a,l){var g=this.__data__;return this.size+=this.has(a)?0:1,g[a]=Hu&&l===n?c:l,this}lo.prototype.clear=KL,lo.prototype.delete=zL,lo.prototype.get=YL,lo.prototype.has=GL,lo.prototype.set=JL;function Ii(a){var l=-1,g=a==null?0:a.length;for(this.clear();++l<g;){var N=a[l];this.set(N[0],N[1])}}function QL(){this.__data__=[],this.size=0}function XL(a){var l=this.__data__,g=dd(l,a);if(g<0)return!1;var N=l.length-1;return g==N?l.pop():sd.call(l,g,1),--this.size,!0}function ZL(a){var l=this.__data__,g=dd(l,a);return g<0?n:l[g][1]}function ej(a){return dd(this.__data__,a)>-1}function tj(a,l){var g=this.__data__,N=dd(g,a);return N<0?(++this.size,g.push([a,l])):g[N][1]=l,this}Ii.prototype.clear=QL,Ii.prototype.delete=XL,Ii.prototype.get=ZL,Ii.prototype.has=ej,Ii.prototype.set=tj;function Mi(a){var l=-1,g=a==null?0:a.length;for(this.clear();++l<g;){var N=a[l];this.set(N[0],N[1])}}function nj(){this.size=0,this.__data__={hash:new lo,map:new(Uu||Ii),string:new lo}}function rj(a){var l=Sd(this,a).delete(a);return this.size-=l?1:0,l}function ij(a){return Sd(this,a).get(a)}function sj(a){return Sd(this,a).has(a)}function oj(a,l){var g=Sd(this,a),N=g.size;return g.set(a,l),this.size+=g.size==N?0:1,this}Mi.prototype.clear=nj,Mi.prototype.delete=rj,Mi.prototype.get=ij,Mi.prototype.has=sj,Mi.prototype.set=oj;function fo(a){var l=-1,g=a==null?0:a.length;for(this.__data__=new Mi;++l<g;)this.add(a[l])}function aj(a){return this.__data__.set(a,c),this}function uj(a){return this.__data__.has(a)}fo.prototype.add=fo.prototype.push=aj,fo.prototype.has=uj;function xr(a){var l=this.__data__=new Ii(a);this.size=l.size}function cj(){this.__data__=new Ii,this.size=0}function lj(a){var l=this.__data__,g=l.delete(a);return this.size=l.size,g}function fj(a){return this.__data__.get(a)}function dj(a){return this.__data__.has(a)}function hj(a,l){var g=this.__data__;if(g instanceof Ii){var N=g.__data__;if(!Uu||N.length<i-1)return N.push([a,l]),this.size=++g.size,this;g=this.__data__=new Mi(N)}return g.set(a,l),this.size=g.size,this}xr.prototype.clear=cj,xr.prototype.delete=lj,xr.prototype.get=fj,xr.prototype.has=dj,xr.prototype.set=hj;function nS(a,l){var g=Ze(a),N=!g&&yo(a),L=!g&&!N&&ps(a),K=!g&&!N&&!L&&wa(a),ee=g||N||L||K,ie=ee?fg(a.length,EL):[],le=ie.length;for(var ve in a)(l||Ot.call(a,ve))&&!(ee&&(ve=="length"||L&&(ve=="offset"||ve=="parent")||K&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||qi(ve,le)))&&ie.push(ve);return ie}function rS(a){var l=a.length;return l?a[Ag(0,l-1)]:n}function pj(a,l){return $d(Kn(a),ho(l,0,a.length))}function mj(a){return $d(Kn(a))}function vg(a,l,g){(g!==n&&!qr(a[l],g)||g===n&&!(l in a))&&Li(a,l,g)}function zu(a,l,g){var N=a[l];(!(Ot.call(a,l)&&qr(N,g))||g===n&&!(l in a))&&Li(a,l,g)}function dd(a,l){for(var g=a.length;g--;)if(qr(a[g][0],l))return g;return-1}function gj(a,l,g,N){return ls(a,function(L,K,ee){l(N,L,g(L),ee)}),N}function iS(a,l){return a&&ii(l,yn(l),a)}function yj(a,l){return a&&ii(l,Yn(l),a)}function Li(a,l,g){l=="__proto__"&&od?od(a,l,{configurable:!0,enumerable:!0,value:g,writable:!0}):a[l]=g}function bg(a,l){for(var g=-1,N=l.length,L=me(N),K=a==null;++g<N;)L[g]=K?n:Zg(a,l[g]);return L}function ho(a,l,g){return a===a&&(g!==n&&(a=a<=g?a:g),l!==n&&(a=a>=l?a:l)),a}function Er(a,l,g,N,L,K){var ee,ie=l&h,le=l&v,ve=l&w;if(g&&(ee=L?g(a,N,L,K):g(a)),ee!==n)return ee;if(!Gt(a))return a;var De=Ze(a);if(De){if(ee=sx(a),!ie)return Kn(a,ee)}else{var _e=Tn(a),Oe=_e==J||_e==de;if(ps(a))return AS(a,ie);if(_e==qe||_e==X||Oe&&!L){if(ee=le||Oe?{}:zS(a),!ie)return le?Yj(a,yj(ee,a)):zj(a,iS(ee,a))}else{if(!Mt[_e])return L?a:{};ee=ox(a,_e,ie)}}K||(K=new xr);var Me=K.get(a);if(Me)return Me;K.set(a,ee),_$(a)?a.forEach(function(Ve){ee.add(Er(Ve,l,g,Ve,a,K))}):D$(a)&&a.forEach(function(Ve,ut){ee.set(ut,Er(Ve,l,g,ut,a,K))});var Ue=ve?le?xg:jg:le?Yn:yn,it=De?n:Ue(a);return Dr(it||a,function(Ve,ut){it&&(ut=Ve,Ve=a[ut]),zu(ee,ut,Er(Ve,l,g,ut,a,K))}),ee}function vj(a){var l=yn(a);return function(g){return sS(g,a,l)}}function sS(a,l,g){var N=g.length;if(a==null)return!N;for(a=It(a);N--;){var L=g[N],K=l[L],ee=a[L];if(ee===n&&!(L in a)||!K(ee))return!1}return!0}function oS(a,l,g){if(typeof a!="function")throw new wr(o);return ec(function(){a.apply(n,g)},l)}function Yu(a,l,g,N){var L=-1,K=Gf,ee=!0,ie=a.length,le=[],ve=l.length;if(!ie)return le;g&&(l=Ut(l,sr(g))),N?(K=sg,ee=!1):l.length>=i&&(K=Bu,ee=!1,l=new fo(l));e:for(;++L<ie;){var De=a[L],_e=g==null?De:g(De);if(De=N||De!==0?De:0,ee&&_e===_e){for(var Oe=ve;Oe--;)if(l[Oe]===_e)continue e;le.push(De)}else K(l,_e,N)||le.push(De)}return le}var ls=RS(ri),aS=RS(wg,!0);function bj(a,l){var g=!0;return ls(a,function(N,L,K){return g=!!l(N,L,K),g}),g}function hd(a,l,g){for(var N=-1,L=a.length;++N<L;){var K=a[N],ee=l(K);if(ee!=null&&(ie===n?ee===ee&&!ar(ee):g(ee,ie)))var ie=ee,le=K}return le}function Dj(a,l,g,N){var L=a.length;for(g=nt(g),g<0&&(g=-g>L?0:L+g),N=N===n||N>L?L:nt(N),N<0&&(N+=L),N=g>N?0:S$(N);g<N;)a[g++]=l;return a}function uS(a,l){var g=[];return ls(a,function(N,L,K){l(N,L,K)&&g.push(N)}),g}function $n(a,l,g,N,L){var K=-1,ee=a.length;for(g||(g=ux),L||(L=[]);++K<ee;){var ie=a[K];l>0&&g(ie)?l>1?$n(ie,l-1,g,N,L):as(L,ie):N||(L[L.length]=ie)}return L}var Dg=FS(),cS=FS(!0);function ri(a,l){return a&&Dg(a,l,yn)}function wg(a,l){return a&&cS(a,l,yn)}function pd(a,l){return os(l,function(g){return Bi(a[g])})}function po(a,l){l=ds(l,a);for(var g=0,N=l.length;a!=null&&g<N;)a=a[si(l[g++])];return g&&g==N?a:n}function lS(a,l,g){var N=l(a);return Ze(a)?N:as(N,g(a))}function Ln(a){return a==null?a===n?Xt:Re:co&&co in It(a)?nx(a):mx(a)}function _g(a,l){return a>l}function wj(a,l){return a!=null&&Ot.call(a,l)}function _j(a,l){return a!=null&&l in It(a)}function Ej(a,l,g){return a>=kn(l,g)&&a<hn(l,g)}function Eg(a,l,g){for(var N=g?sg:Gf,L=a[0].length,K=a.length,ee=K,ie=me(K),le=1/0,ve=[];ee--;){var De=a[ee];ee&&l&&(De=Ut(De,sr(l))),le=kn(De.length,le),ie[ee]=!g&&(l||L>=120&&De.length>=120)?new fo(ee&&De):n}De=a[0];var _e=-1,Oe=ie[0];e:for(;++_e<L&&ve.length<le;){var Me=De[_e],Ue=l?l(Me):Me;if(Me=g||Me!==0?Me:0,!(Oe?Bu(Oe,Ue):N(ve,Ue,g))){for(ee=K;--ee;){var it=ie[ee];if(!(it?Bu(it,Ue):N(a[ee],Ue,g)))continue e}Oe&&Oe.push(Ue),ve.push(Me)}}return ve}function Sj(a,l,g,N){return ri(a,function(L,K,ee){l(N,g(L),K,ee)}),N}function Gu(a,l,g){l=ds(l,a),a=QS(a,l);var N=a==null?a:a[si($r(l))];return N==null?n:ir(N,a,g)}function fS(a){return en(a)&&Ln(a)==X}function $j(a){return en(a)&&Ln(a)==B}function kj(a){return en(a)&&Ln(a)==Fe}function Ju(a,l,g,N,L){return a===l?!0:a==null||l==null||!en(a)&&!en(l)?a!==a&&l!==l:Tj(a,l,g,N,Ju,L)}function Tj(a,l,g,N,L,K){var ee=Ze(a),ie=Ze(l),le=ee?fe:Tn(a),ve=ie?fe:Tn(l);le=le==X?qe:le,ve=ve==X?qe:ve;var De=le==qe,_e=ve==qe,Oe=le==ve;if(Oe&&ps(a)){if(!ps(l))return!1;ee=!0,De=!1}if(Oe&&!De)return K||(K=new xr),ee||wa(a)?VS(a,l,g,N,L,K):ex(a,l,le,g,N,L,K);if(!(g&k)){var Me=De&&Ot.call(a,"__wrapped__"),Ue=_e&&Ot.call(l,"__wrapped__");if(Me||Ue){var it=Me?a.value():a,Ve=Ue?l.value():l;return K||(K=new xr),L(it,Ve,g,N,K)}}return Oe?(K||(K=new xr),tx(a,l,g,N,L,K)):!1}function Aj(a){return en(a)&&Tn(a)==ne}function Sg(a,l,g,N){var L=g.length,K=L,ee=!N;if(a==null)return!K;for(a=It(a);L--;){var ie=g[L];if(ee&&ie[2]?ie[1]!==a[ie[0]]:!(ie[0]in a))return!1}for(;++L<K;){ie=g[L];var le=ie[0],ve=a[le],De=ie[1];if(ee&&ie[2]){if(ve===n&&!(le in a))return!1}else{var _e=new xr;if(N)var Oe=N(ve,De,le,a,l,_e);if(!(Oe===n?Ju(De,ve,k|$,N,_e):Oe))return!1}}return!0}function dS(a){if(!Gt(a)||lx(a))return!1;var l=Bi(a)?AL:Yt;return l.test(go(a))}function Cj(a){return en(a)&&Ln(a)==dt}function Oj(a){return en(a)&&Tn(a)==Ke}function Pj(a){return en(a)&&Pd(a.length)&&!!qt[Ln(a)]}function hS(a){return typeof a=="function"?a:a==null?Gn:typeof a=="object"?Ze(a)?gS(a[0],a[1]):mS(a):I$(a)}function $g(a){if(!Zu(a))return FL(a);var l=[];for(var g in It(a))Ot.call(a,g)&&g!="constructor"&&l.push(g);return l}function Nj(a){if(!Gt(a))return px(a);var l=Zu(a),g=[];for(var N in a)N=="constructor"&&(l||!Ot.call(a,N))||g.push(N);return g}function kg(a,l){return a<l}function pS(a,l){var g=-1,N=zn(a)?me(a.length):[];return ls(a,function(L,K,ee){N[++g]=l(L,K,ee)}),N}function mS(a){var l=Bg(a);return l.length==1&&l[0][2]?GS(l[0][0],l[0][1]):function(g){return g===a||Sg(g,a,l)}}function gS(a,l){return Ug(a)&&YS(l)?GS(si(a),l):function(g){var N=Zg(g,a);return N===n&&N===l?ey(g,a):Ju(l,N,k|$)}}function md(a,l,g,N,L){a!==l&&Dg(l,function(K,ee){if(L||(L=new xr),Gt(K))Rj(a,l,ee,g,md,N,L);else{var ie=N?N(Hg(a,ee),K,ee+"",a,l,L):n;ie===n&&(ie=K),vg(a,ee,ie)}},Yn)}function Rj(a,l,g,N,L,K,ee){var ie=Hg(a,g),le=Hg(l,g),ve=ee.get(le);if(ve){vg(a,g,ve);return}var De=K?K(ie,le,g+"",a,l,ee):n,_e=De===n;if(_e){var Oe=Ze(le),Me=!Oe&&ps(le),Ue=!Oe&&!Me&&wa(le);De=le,Oe||Me||Ue?Ze(ie)?De=ie:cn(ie)?De=Kn(ie):Me?(_e=!1,De=AS(le,!0)):Ue?(_e=!1,De=CS(le,!0)):De=[]:tc(le)||yo(le)?(De=ie,yo(ie)?De=$$(ie):(!Gt(ie)||Bi(ie))&&(De=zS(le))):_e=!1}_e&&(ee.set(le,De),L(De,le,N,K,ee),ee.delete(le)),vg(a,g,De)}function yS(a,l){var g=a.length;if(g)return l+=l<0?g:0,qi(l,g)?a[l]:n}function vS(a,l,g){l.length?l=Ut(l,function(K){return Ze(K)?function(ee){return po(ee,K.length===1?K[0]:K)}:K}):l=[Gn];var N=-1;l=Ut(l,sr(We()));var L=pS(a,function(K,ee,ie){var le=Ut(l,function(ve){return ve(K)});return{criteria:le,index:++N,value:K}});return oL(L,function(K,ee){return Kj(K,ee,g)})}function Fj(a,l){return bS(a,l,function(g,N){return ey(a,N)})}function bS(a,l,g){for(var N=-1,L=l.length,K={};++N<L;){var ee=l[N],ie=po(a,ee);g(ie,ee)&&Qu(K,ds(ee,a),ie)}return K}function Ij(a){return function(l){return po(l,a)}}function Tg(a,l,g,N){var L=N?sL:la,K=-1,ee=l.length,ie=a;for(a===l&&(l=Kn(l)),g&&(ie=Ut(a,sr(g)));++K<ee;)for(var le=0,ve=l[K],De=g?g(ve):ve;(le=L(ie,De,le,N))>-1;)ie!==a&&sd.call(ie,le,1),sd.call(a,le,1);return a}function DS(a,l){for(var g=a?l.length:0,N=g-1;g--;){var L=l[g];if(g==N||L!==K){var K=L;qi(L)?sd.call(a,L,1):Pg(a,L)}}return a}function Ag(a,l){return a+ud(eS()*(l-a+1))}function Mj(a,l,g,N){for(var L=-1,K=hn(ad((l-a)/(g||1)),0),ee=me(K);K--;)ee[N?K:++L]=a,a+=g;return ee}function Cg(a,l){var g="";if(!a||l<1||l>Te)return g;do l%2&&(g+=a),l=ud(l/2),l&&(a+=a);while(l);return g}function ot(a,l){return Kg(JS(a,l,Gn),a+"")}function Lj(a){return rS(_a(a))}function jj(a,l){var g=_a(a);return $d(g,ho(l,0,g.length))}function Qu(a,l,g,N){if(!Gt(a))return a;l=ds(l,a);for(var L=-1,K=l.length,ee=K-1,ie=a;ie!=null&&++L<K;){var le=si(l[L]),ve=g;if(le==="__proto__"||le==="constructor"||le==="prototype")return a;if(L!=ee){var De=ie[le];ve=N?N(De,le,ie):n,ve===n&&(ve=Gt(De)?De:qi(l[L+1])?[]:{})}zu(ie,le,ve),ie=ie[le]}return a}var wS=cd?function(a,l){return cd.set(a,l),a}:Gn,xj=od?function(a,l){return od(a,"toString",{configurable:!0,enumerable:!1,value:ny(l),writable:!0})}:Gn;function qj(a){return $d(_a(a))}function Sr(a,l,g){var N=-1,L=a.length;l<0&&(l=-l>L?0:L+l),g=g>L?L:g,g<0&&(g+=L),L=l>g?0:g-l>>>0,l>>>=0;for(var K=me(L);++N<L;)K[N]=a[N+l];return K}function Bj(a,l){var g;return ls(a,function(N,L,K){return g=l(N,L,K),!g}),!!g}function gd(a,l,g){var N=0,L=a==null?N:a.length;if(typeof l=="number"&&l===l&&L<=re){for(;N<L;){var K=N+L>>>1,ee=a[K];ee!==null&&!ar(ee)&&(g?ee<=l:ee<l)?N=K+1:L=K}return L}return Og(a,l,Gn,g)}function Og(a,l,g,N){var L=0,K=a==null?0:a.length;if(K===0)return 0;l=g(l);for(var ee=l!==l,ie=l===null,le=ar(l),ve=l===n;L<K;){var De=ud((L+K)/2),_e=g(a[De]),Oe=_e!==n,Me=_e===null,Ue=_e===_e,it=ar(_e);if(ee)var Ve=N||Ue;else ve?Ve=Ue&&(N||Oe):ie?Ve=Ue&&Oe&&(N||!Me):le?Ve=Ue&&Oe&&!Me&&(N||!it):Me||it?Ve=!1:Ve=N?_e<=l:_e<l;Ve?L=De+1:K=De}return kn(K,oe)}function _S(a,l){for(var g=-1,N=a.length,L=0,K=[];++g<N;){var ee=a[g],ie=l?l(ee):ee;if(!g||!qr(ie,le)){var le=ie;K[L++]=ee===0?0:ee}}return K}function ES(a){return typeof a=="number"?a:ar(a)?ge:+a}function or(a){if(typeof a=="string")return a;if(Ze(a))return Ut(a,or)+"";if(ar(a))return tS?tS.call(a):"";var l=a+"";return l=="0"&&1/a==-he?"-0":l}function fs(a,l,g){var N=-1,L=Gf,K=a.length,ee=!0,ie=[],le=ie;if(g)ee=!1,L=sg;else if(K>=i){var ve=l?null:Xj(a);if(ve)return Qf(ve);ee=!1,L=Bu,le=new fo}else le=l?[]:ie;e:for(;++N<K;){var De=a[N],_e=l?l(De):De;if(De=g||De!==0?De:0,ee&&_e===_e){for(var Oe=le.length;Oe--;)if(le[Oe]===_e)continue e;l&&le.push(_e),ie.push(De)}else L(le,_e,g)||(le!==ie&&le.push(_e),ie.push(De))}return ie}function Pg(a,l){return l=ds(l,a),a=QS(a,l),a==null||delete a[si($r(l))]}function SS(a,l,g,N){return Qu(a,l,g(po(a,l)),N)}function yd(a,l,g,N){for(var L=a.length,K=N?L:-1;(N?K--:++K<L)&&l(a[K],K,a););return g?Sr(a,N?0:K,N?K+1:L):Sr(a,N?K+1:0,N?L:K)}function $S(a,l){var g=a;return g instanceof ft&&(g=g.value()),og(l,function(N,L){return L.func.apply(L.thisArg,as([N],L.args))},g)}function Ng(a,l,g){var N=a.length;if(N<2)return N?fs(a[0]):[];for(var L=-1,K=me(N);++L<N;)for(var ee=a[L],ie=-1;++ie<N;)ie!=L&&(K[L]=Yu(K[L]||ee,a[ie],l,g));return fs($n(K,1),l,g)}function kS(a,l,g){for(var N=-1,L=a.length,K=l.length,ee={};++N<L;){var ie=N<K?l[N]:n;g(ee,a[N],ie)}return ee}function Rg(a){return cn(a)?a:[]}function Fg(a){return typeof a=="function"?a:Gn}function ds(a,l){return Ze(a)?a:Ug(a,l)?[a]:t$(St(a))}var Wj=ot;function hs(a,l,g){var N=a.length;return g=g===n?N:g,!l&&g>=N?a:Sr(a,l,g)}var TS=CL||function(a){return Sn.clearTimeout(a)};function AS(a,l){if(l)return a.slice();var g=a.length,N=GE?GE(g):new a.constructor(g);return a.copy(N),N}function Ig(a){var l=new a.constructor(a.byteLength);return new rd(l).set(new rd(a)),l}function Uj(a,l){var g=l?Ig(a.buffer):a.buffer;return new a.constructor(g,a.byteOffset,a.byteLength)}function Vj(a){var l=new a.constructor(a.source,Nt.exec(a));return l.lastIndex=a.lastIndex,l}function Hj(a){return Ku?It(Ku.call(a)):{}}function CS(a,l){var g=l?Ig(a.buffer):a.buffer;return new a.constructor(g,a.byteOffset,a.length)}function OS(a,l){if(a!==l){var g=a!==n,N=a===null,L=a===a,K=ar(a),ee=l!==n,ie=l===null,le=l===l,ve=ar(l);if(!ie&&!ve&&!K&&a>l||K&&ee&&le&&!ie&&!ve||N&&ee&&le||!g&&le||!L)return 1;if(!N&&!K&&!ve&&a<l||ve&&g&&L&&!N&&!K||ie&&g&&L||!ee&&L||!le)return-1}return 0}function Kj(a,l,g){for(var N=-1,L=a.criteria,K=l.criteria,ee=L.length,ie=g.length;++N<ee;){var le=OS(L[N],K[N]);if(le){if(N>=ie)return le;var ve=g[N];return le*(ve=="desc"?-1:1)}}return a.index-l.index}function PS(a,l,g,N){for(var L=-1,K=a.length,ee=g.length,ie=-1,le=l.length,ve=hn(K-ee,0),De=me(le+ve),_e=!N;++ie<le;)De[ie]=l[ie];for(;++L<ee;)(_e||L<K)&&(De[g[L]]=a[L]);for(;ve--;)De[ie++]=a[L++];return De}function NS(a,l,g,N){for(var L=-1,K=a.length,ee=-1,ie=g.length,le=-1,ve=l.length,De=hn(K-ie,0),_e=me(De+ve),Oe=!N;++L<De;)_e[L]=a[L];for(var Me=L;++le<ve;)_e[Me+le]=l[le];for(;++ee<ie;)(Oe||L<K)&&(_e[Me+g[ee]]=a[L++]);return _e}function Kn(a,l){var g=-1,N=a.length;for(l||(l=me(N));++g<N;)l[g]=a[g];return l}function ii(a,l,g,N){var L=!g;g||(g={});for(var K=-1,ee=l.length;++K<ee;){var ie=l[K],le=N?N(g[ie],a[ie],ie,g,a):n;le===n&&(le=a[ie]),L?Li(g,ie,le):zu(g,ie,le)}return g}function zj(a,l){return ii(a,Wg(a),l)}function Yj(a,l){return ii(a,HS(a),l)}function vd(a,l){return function(g,N){var L=Ze(g)?ZM:gj,K=l?l():{};return L(g,a,We(N,2),K)}}function va(a){return ot(function(l,g){var N=-1,L=g.length,K=L>1?g[L-1]:n,ee=L>2?g[2]:n;for(K=a.length>3&&typeof K=="function"?(L--,K):n,ee&&jn(g[0],g[1],ee)&&(K=L<3?n:K,L=1),l=It(l);++N<L;){var ie=g[N];ie&&a(l,ie,N,K)}return l})}function RS(a,l){return function(g,N){if(g==null)return g;if(!zn(g))return a(g,N);for(var L=g.length,K=l?L:-1,ee=It(g);(l?K--:++K<L)&&N(ee[K],K,ee)!==!1;);return g}}function FS(a){return function(l,g,N){for(var L=-1,K=It(l),ee=N(l),ie=ee.length;ie--;){var le=ee[a?ie:++L];if(g(K[le],le,K)===!1)break}return l}}function Gj(a,l,g){var N=l&_,L=Xu(a);function K(){var ee=this&&this!==Sn&&this instanceof K?L:a;return ee.apply(N?g:this,arguments)}return K}function IS(a){return function(l){l=St(l);var g=fa(l)?jr(l):n,N=g?g[0]:l.charAt(0),L=g?hs(g,1).join(""):l.slice(1);return N[a]()+L}}function ba(a){return function(l){return og(R$(N$(l).replace(xM,"")),a,"")}}function Xu(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var g=ya(a.prototype),N=a.apply(g,l);return Gt(N)?N:g}}function Jj(a,l,g){var N=Xu(a);function L(){for(var K=arguments.length,ee=me(K),ie=K,le=Da(L);ie--;)ee[ie]=arguments[ie];var ve=K<3&&ee[0]!==le&&ee[K-1]!==le?[]:us(ee,le);if(K-=ve.length,K<g)return qS(a,l,bd,L.placeholder,n,ee,ve,n,n,g-K);var De=this&&this!==Sn&&this instanceof L?N:a;return ir(De,this,ee)}return L}function MS(a){return function(l,g,N){var L=It(l);if(!zn(l)){var K=We(g,3);l=yn(l),g=function(ie){return K(L[ie],ie,L)}}var ee=a(l,g,N);return ee>-1?L[K?l[ee]:ee]:n}}function LS(a){return xi(function(l){var g=l.length,N=g,L=_r.prototype.thru;for(a&&l.reverse();N--;){var K=l[N];if(typeof K!="function")throw new wr(o);if(L&&!ee&&Ed(K)=="wrapper")var ee=new _r([],!0)}for(N=ee?N:g;++N<g;){K=l[N];var ie=Ed(K),le=ie=="wrapper"?qg(K):n;le&&Vg(le[0])&&le[1]==(E|m|p|P)&&!le[4].length&&le[9]==1?ee=ee[Ed(le[0])].apply(ee,le[3]):ee=K.length==1&&Vg(K)?ee[ie]():ee.thru(K)}return function(){var ve=arguments,De=ve[0];if(ee&&ve.length==1&&Ze(De))return ee.plant(De).value();for(var _e=0,Oe=g?l[_e].apply(this,ve):De;++_e<g;)Oe=l[_e].call(this,Oe);return Oe}})}function bd(a,l,g,N,L,K,ee,ie,le,ve){var De=l&E,_e=l&_,Oe=l&T,Me=l&(m|y),Ue=l&C,it=Oe?n:Xu(a);function Ve(){for(var ut=arguments.length,pt=me(ut),ur=ut;ur--;)pt[ur]=arguments[ur];if(Me)var xn=Da(Ve),cr=uL(pt,xn);if(N&&(pt=PS(pt,N,L,Me)),K&&(pt=NS(pt,K,ee,Me)),ut-=cr,Me&&ut<ve){var ln=us(pt,xn);return qS(a,l,bd,Ve.placeholder,g,pt,ln,ie,le,ve-ut)}var Br=_e?g:this,Ui=Oe?Br[a]:a;return ut=pt.length,ie?pt=gx(pt,ie):Ue&&ut>1&&pt.reverse(),De&&le<ut&&(pt.length=le),this&&this!==Sn&&this instanceof Ve&&(Ui=it||Xu(Ui)),Ui.apply(Br,pt)}return Ve}function jS(a,l){return function(g,N){return Sj(g,a,l(N),{})}}function Dd(a,l){return function(g,N){var L;if(g===n&&N===n)return l;if(g!==n&&(L=g),N!==n){if(L===n)return N;typeof g=="string"||typeof N=="string"?(g=or(g),N=or(N)):(g=ES(g),N=ES(N)),L=a(g,N)}return L}}function Mg(a){return xi(function(l){return l=Ut(l,sr(We())),ot(function(g){var N=this;return a(l,function(L){return ir(L,N,g)})})})}function wd(a,l){l=l===n?" ":or(l);var g=l.length;if(g<2)return g?Cg(l,a):l;var N=Cg(l,ad(a/da(l)));return fa(l)?hs(jr(N),0,a).join(""):N.slice(0,a)}function Qj(a,l,g,N){var L=l&_,K=Xu(a);function ee(){for(var ie=-1,le=arguments.length,ve=-1,De=N.length,_e=me(De+le),Oe=this&&this!==Sn&&this instanceof ee?K:a;++ve<De;)_e[ve]=N[ve];for(;le--;)_e[ve++]=arguments[++ie];return ir(Oe,L?g:this,_e)}return ee}function xS(a){return function(l,g,N){return N&&typeof N!="number"&&jn(l,g,N)&&(g=N=n),l=Wi(l),g===n?(g=l,l=0):g=Wi(g),N=N===n?l<g?1:-1:Wi(N),Mj(l,g,N,a)}}function _d(a){return function(l,g){return typeof l=="string"&&typeof g=="string"||(l=kr(l),g=kr(g)),a(l,g)}}function qS(a,l,g,N,L,K,ee,ie,le,ve){var De=l&m,_e=De?ee:n,Oe=De?n:ee,Me=De?K:n,Ue=De?n:K;l|=De?p:D,l&=~(De?D:p),l&b||(l&=-4);var it=[a,l,L,Me,_e,Ue,Oe,ie,le,ve],Ve=g.apply(n,it);return Vg(a)&&XS(Ve,it),Ve.placeholder=N,ZS(Ve,a,l)}function Lg(a){var l=dn[a];return function(g,N){if(g=kr(g),N=N==null?0:kn(nt(N),292),N&&ZE(g)){var L=(St(g)+"e").split("e"),K=l(L[0]+"e"+(+L[1]+N));return L=(St(K)+"e").split("e"),+(L[0]+"e"+(+L[1]-N))}return l(g)}}var Xj=ma&&1/Qf(new ma([,-0]))[1]==he?function(a){return new ma(a)}:sy;function BS(a){return function(l){var g=Tn(l);return g==ne?hg(l):g==Ke?mL(l):aL(l,a(l))}}function ji(a,l,g,N,L,K,ee,ie){var le=l&T;if(!le&&typeof a!="function")throw new wr(o);var ve=N?N.length:0;if(ve||(l&=-97,N=L=n),ee=ee===n?ee:hn(nt(ee),0),ie=ie===n?ie:nt(ie),ve-=L?L.length:0,l&D){var De=N,_e=L;N=L=n}var Oe=le?n:qg(a),Me=[a,l,g,N,L,De,_e,K,ee,ie];if(Oe&&hx(Me,Oe),a=Me[0],l=Me[1],g=Me[2],N=Me[3],L=Me[4],ie=Me[9]=Me[9]===n?le?0:a.length:hn(Me[9]-ve,0),!ie&&l&(m|y)&&(l&=-25),!l||l==_)var Ue=Gj(a,l,g);else l==m||l==y?Ue=Jj(a,l,ie):(l==p||l==(_|p))&&!L.length?Ue=Qj(a,l,g,N):Ue=bd.apply(n,Me);var it=Oe?wS:XS;return ZS(it(Ue,Me),a,l)}function WS(a,l,g,N){return a===n||qr(a,pa[g])&&!Ot.call(N,g)?l:a}function US(a,l,g,N,L,K){return Gt(a)&&Gt(l)&&(K.set(l,a),md(a,l,n,US,K),K.delete(l)),a}function Zj(a){return tc(a)?n:a}function VS(a,l,g,N,L,K){var ee=g&k,ie=a.length,le=l.length;if(ie!=le&&!(ee&&le>ie))return!1;var ve=K.get(a),De=K.get(l);if(ve&&De)return ve==l&&De==a;var _e=-1,Oe=!0,Me=g&$?new fo:n;for(K.set(a,l),K.set(l,a);++_e<ie;){var Ue=a[_e],it=l[_e];if(N)var Ve=ee?N(it,Ue,_e,l,a,K):N(Ue,it,_e,a,l,K);if(Ve!==n){if(Ve)continue;Oe=!1;break}if(Me){if(!ag(l,function(ut,pt){if(!Bu(Me,pt)&&(Ue===ut||L(Ue,ut,g,N,K)))return Me.push(pt)})){Oe=!1;break}}else if(!(Ue===it||L(Ue,it,g,N,K))){Oe=!1;break}}return K.delete(a),K.delete(l),Oe}function ex(a,l,g,N,L,K,ee){switch(g){case x:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case B:return!(a.byteLength!=l.byteLength||!K(new rd(a),new rd(l)));case ke:case Fe:case Se:return qr(+a,+l);case U:return a.name==l.name&&a.message==l.message;case dt:case Ft:return a==l+"";case ne:var ie=hg;case Ke:var le=N&k;if(ie||(ie=Qf),a.size!=l.size&&!le)return!1;var ve=ee.get(a);if(ve)return ve==l;N|=$,ee.set(a,l);var De=VS(ie(a),ie(l),N,L,K,ee);return ee.delete(a),De;case At:if(Ku)return Ku.call(a)==Ku.call(l)}return!1}function tx(a,l,g,N,L,K){var ee=g&k,ie=jg(a),le=ie.length,ve=jg(l),De=ve.length;if(le!=De&&!ee)return!1;for(var _e=le;_e--;){var Oe=ie[_e];if(!(ee?Oe in l:Ot.call(l,Oe)))return!1}var Me=K.get(a),Ue=K.get(l);if(Me&&Ue)return Me==l&&Ue==a;var it=!0;K.set(a,l),K.set(l,a);for(var Ve=ee;++_e<le;){Oe=ie[_e];var ut=a[Oe],pt=l[Oe];if(N)var ur=ee?N(pt,ut,Oe,l,a,K):N(ut,pt,Oe,a,l,K);if(!(ur===n?ut===pt||L(ut,pt,g,N,K):ur)){it=!1;break}Ve||(Ve=Oe=="constructor")}if(it&&!Ve){var xn=a.constructor,cr=l.constructor;xn!=cr&&"constructor"in a&&"constructor"in l&&!(typeof xn=="function"&&xn instanceof xn&&typeof cr=="function"&&cr instanceof cr)&&(it=!1)}return K.delete(a),K.delete(l),it}function xi(a){return Kg(JS(a,n,s$),a+"")}function jg(a){return lS(a,yn,Wg)}function xg(a){return lS(a,Yn,HS)}var qg=cd?function(a){return cd.get(a)}:sy;function Ed(a){for(var l=a.name+"",g=ga[l],N=Ot.call(ga,l)?g.length:0;N--;){var L=g[N],K=L.func;if(K==null||K==a)return L.name}return l}function Da(a){var l=Ot.call(H,"placeholder")?H:a;return l.placeholder}function We(){var a=H.iteratee||ry;return a=a===ry?hS:a,arguments.length?a(arguments[0],arguments[1]):a}function Sd(a,l){var g=a.__data__;return cx(l)?g[typeof l=="string"?"string":"hash"]:g.map}function Bg(a){for(var l=yn(a),g=l.length;g--;){var N=l[g],L=a[N];l[g]=[N,L,YS(L)]}return l}function mo(a,l){var g=dL(a,l);return dS(g)?g:n}function nx(a){var l=Ot.call(a,co),g=a[co];try{a[co]=n;var N=!0}catch{}var L=td.call(a);return N&&(l?a[co]=g:delete a[co]),L}var Wg=mg?function(a){return a==null?[]:(a=It(a),os(mg(a),function(l){return QE.call(a,l)}))}:oy,HS=mg?function(a){for(var l=[];a;)as(l,Wg(a)),a=id(a);return l}:oy,Tn=Ln;(gg&&Tn(new gg(new ArrayBuffer(1)))!=x||Uu&&Tn(new Uu)!=ne||yg&&Tn(yg.resolve())!=Rt||ma&&Tn(new ma)!=Ke||Vu&&Tn(new Vu)!=yt)&&(Tn=function(a){var l=Ln(a),g=l==qe?a.constructor:n,N=g?go(g):"";if(N)switch(N){case jL:return x;case xL:return ne;case qL:return Rt;case BL:return Ke;case WL:return yt}return l});function rx(a,l,g){for(var N=-1,L=g.length;++N<L;){var K=g[N],ee=K.size;switch(K.type){case"drop":a+=ee;break;case"dropRight":l-=ee;break;case"take":l=kn(l,a+ee);break;case"takeRight":a=hn(a,l-ee);break}}return{start:a,end:l}}function ix(a){var l=a.match(zt);return l?l[1].split(He):[]}function KS(a,l,g){l=ds(l,a);for(var N=-1,L=l.length,K=!1;++N<L;){var ee=si(l[N]);if(!(K=a!=null&&g(a,ee)))break;a=a[ee]}return K||++N!=L?K:(L=a==null?0:a.length,!!L&&Pd(L)&&qi(ee,L)&&(Ze(a)||yo(a)))}function sx(a){var l=a.length,g=new a.constructor(l);return l&&typeof a[0]=="string"&&Ot.call(a,"index")&&(g.index=a.index,g.input=a.input),g}function zS(a){return typeof a.constructor=="function"&&!Zu(a)?ya(id(a)):{}}function ox(a,l,g){var N=a.constructor;switch(l){case B:return Ig(a);case ke:case Fe:return new N(+a);case x:return Uj(a,g);case W:case O:case S:case A:case M:case z:case Z:case se:case Ee:return CS(a,g);case ne:return new N;case Se:case Ft:return new N(a);case dt:return Vj(a);case Ke:return new N;case At:return Hj(a)}}function ax(a,l){var g=l.length;if(!g)return a;var N=g-1;return l[N]=(g>1?"& ":"")+l[N],l=l.join(g>2?", ":" "),a.replace(Kt,`{
/* [wrapped with `+l+`] */
`)}function ux(a){return Ze(a)||yo(a)||!!(XE&&a&&a[XE])}function qi(a,l){var g=typeof a;return l=l??Te,!!l&&(g=="number"||g!="symbol"&&xt.test(a))&&a>-1&&a%1==0&&a<l}function jn(a,l,g){if(!Gt(g))return!1;var N=typeof l;return(N=="number"?zn(g)&&qi(l,g.length):N=="string"&&l in g)?qr(g[l],a):!1}function Ug(a,l){if(Ze(a))return!1;var g=typeof a;return g=="number"||g=="symbol"||g=="boolean"||a==null||ar(a)?!0:ti.test(a)||!rr.test(a)||l!=null&&a in It(l)}function cx(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function Vg(a){var l=Ed(a),g=H[l];if(typeof g!="function"||!(l in ft.prototype))return!1;if(a===g)return!0;var N=qg(g);return!!N&&a===N[0]}function lx(a){return!!YE&&YE in a}var fx=Zf?Bi:ay;function Zu(a){var l=a&&a.constructor,g=typeof l=="function"&&l.prototype||pa;return a===g}function YS(a){return a===a&&!Gt(a)}function GS(a,l){return function(g){return g==null?!1:g[a]===l&&(l!==n||a in It(g))}}function dx(a){var l=Cd(a,function(N){return g.size===f&&g.clear(),N}),g=l.cache;return l}function hx(a,l){var g=a[1],N=l[1],L=g|N,K=L<(_|T|E),ee=N==E&&g==m||N==E&&g==P&&a[7].length<=l[8]||N==(E|P)&&l[7].length<=l[8]&&g==m;if(!(K||ee))return a;N&_&&(a[2]=l[2],L|=g&_?0:b);var ie=l[3];if(ie){var le=a[3];a[3]=le?PS(le,ie,l[4]):ie,a[4]=le?us(a[3],d):l[4]}return ie=l[5],ie&&(le=a[5],a[5]=le?NS(le,ie,l[6]):ie,a[6]=le?us(a[5],d):l[6]),ie=l[7],ie&&(a[7]=ie),N&E&&(a[8]=a[8]==null?l[8]:kn(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=L,a}function px(a){var l=[];if(a!=null)for(var g in It(a))l.push(g);return l}function mx(a){return td.call(a)}function JS(a,l,g){return l=hn(l===n?a.length-1:l,0),function(){for(var N=arguments,L=-1,K=hn(N.length-l,0),ee=me(K);++L<K;)ee[L]=N[l+L];L=-1;for(var ie=me(l+1);++L<l;)ie[L]=N[L];return ie[l]=g(ee),ir(a,this,ie)}}function QS(a,l){return l.length<2?a:po(a,Sr(l,0,-1))}function gx(a,l){for(var g=a.length,N=kn(l.length,g),L=Kn(a);N--;){var K=l[N];a[N]=qi(K,g)?L[K]:n}return a}function Hg(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var XS=e$(wS),ec=PL||function(a,l){return Sn.setTimeout(a,l)},Kg=e$(xj);function ZS(a,l,g){var N=l+"";return Kg(a,ax(N,yx(ix(N),g)))}function e$(a){var l=0,g=0;return function(){var N=IL(),L=j-(N-g);if(g=N,L>0){if(++l>=F)return arguments[0]}else l=0;return a.apply(n,arguments)}}function $d(a,l){var g=-1,N=a.length,L=N-1;for(l=l===n?N:l;++g<l;){var K=Ag(g,L),ee=a[K];a[K]=a[g],a[g]=ee}return a.length=l,a}var t$=dx(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(ua,function(g,N,L,K){l.push(L?K.replace(Ae,"$1"):N||g)}),l});function si(a){if(typeof a=="string"||ar(a))return a;var l=a+"";return l=="0"&&1/a==-he?"-0":l}function go(a){if(a!=null){try{return ed.call(a)}catch{}try{return a+""}catch{}}return""}function yx(a,l){return Dr(q,function(g){var N="_."+g[0];l&g[1]&&!Gf(a,N)&&a.push(N)}),a.sort()}function n$(a){if(a instanceof ft)return a.clone();var l=new _r(a.__wrapped__,a.__chain__);return l.__actions__=Kn(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function vx(a,l,g){(g?jn(a,l,g):l===n)?l=1:l=hn(nt(l),0);var N=a==null?0:a.length;if(!N||l<1)return[];for(var L=0,K=0,ee=me(ad(N/l));L<N;)ee[K++]=Sr(a,L,L+=l);return ee}function bx(a){for(var l=-1,g=a==null?0:a.length,N=0,L=[];++l<g;){var K=a[l];K&&(L[N++]=K)}return L}function Dx(){var a=arguments.length;if(!a)return[];for(var l=me(a-1),g=arguments[0],N=a;N--;)l[N-1]=arguments[N];return as(Ze(g)?Kn(g):[g],$n(l,1))}var wx=ot(function(a,l){return cn(a)?Yu(a,$n(l,1,cn,!0)):[]}),_x=ot(function(a,l){var g=$r(l);return cn(g)&&(g=n),cn(a)?Yu(a,$n(l,1,cn,!0),We(g,2)):[]}),Ex=ot(function(a,l){var g=$r(l);return cn(g)&&(g=n),cn(a)?Yu(a,$n(l,1,cn,!0),n,g):[]});function Sx(a,l,g){var N=a==null?0:a.length;return N?(l=g||l===n?1:nt(l),Sr(a,l<0?0:l,N)):[]}function $x(a,l,g){var N=a==null?0:a.length;return N?(l=g||l===n?1:nt(l),l=N-l,Sr(a,0,l<0?0:l)):[]}function kx(a,l){return a&&a.length?yd(a,We(l,3),!0,!0):[]}function Tx(a,l){return a&&a.length?yd(a,We(l,3),!0):[]}function Ax(a,l,g,N){var L=a==null?0:a.length;return L?(g&&typeof g!="number"&&jn(a,l,g)&&(g=0,N=L),Dj(a,l,g,N)):[]}function r$(a,l,g){var N=a==null?0:a.length;if(!N)return-1;var L=g==null?0:nt(g);return L<0&&(L=hn(N+L,0)),Jf(a,We(l,3),L)}function i$(a,l,g){var N=a==null?0:a.length;if(!N)return-1;var L=N-1;return g!==n&&(L=nt(g),L=g<0?hn(N+L,0):kn(L,N-1)),Jf(a,We(l,3),L,!0)}function s$(a){var l=a==null?0:a.length;return l?$n(a,1):[]}function Cx(a){var l=a==null?0:a.length;return l?$n(a,he):[]}function Ox(a,l){var g=a==null?0:a.length;return g?(l=l===n?1:nt(l),$n(a,l)):[]}function Px(a){for(var l=-1,g=a==null?0:a.length,N={};++l<g;){var L=a[l];N[L[0]]=L[1]}return N}function o$(a){return a&&a.length?a[0]:n}function Nx(a,l,g){var N=a==null?0:a.length;if(!N)return-1;var L=g==null?0:nt(g);return L<0&&(L=hn(N+L,0)),la(a,l,L)}function Rx(a){var l=a==null?0:a.length;return l?Sr(a,0,-1):[]}var Fx=ot(function(a){var l=Ut(a,Rg);return l.length&&l[0]===a[0]?Eg(l):[]}),Ix=ot(function(a){var l=$r(a),g=Ut(a,Rg);return l===$r(g)?l=n:g.pop(),g.length&&g[0]===a[0]?Eg(g,We(l,2)):[]}),Mx=ot(function(a){var l=$r(a),g=Ut(a,Rg);return l=typeof l=="function"?l:n,l&&g.pop(),g.length&&g[0]===a[0]?Eg(g,n,l):[]});function Lx(a,l){return a==null?"":RL.call(a,l)}function $r(a){var l=a==null?0:a.length;return l?a[l-1]:n}function jx(a,l,g){var N=a==null?0:a.length;if(!N)return-1;var L=N;return g!==n&&(L=nt(g),L=L<0?hn(N+L,0):kn(L,N-1)),l===l?yL(a,l,L):Jf(a,qE,L,!0)}function xx(a,l){return a&&a.length?yS(a,nt(l)):n}var qx=ot(a$);function a$(a,l){return a&&a.length&&l&&l.length?Tg(a,l):a}function Bx(a,l,g){return a&&a.length&&l&&l.length?Tg(a,l,We(g,2)):a}function Wx(a,l,g){return a&&a.length&&l&&l.length?Tg(a,l,n,g):a}var Ux=xi(function(a,l){var g=a==null?0:a.length,N=bg(a,l);return DS(a,Ut(l,function(L){return qi(L,g)?+L:L}).sort(OS)),N});function Vx(a,l){var g=[];if(!(a&&a.length))return g;var N=-1,L=[],K=a.length;for(l=We(l,3);++N<K;){var ee=a[N];l(ee,N,a)&&(g.push(ee),L.push(N))}return DS(a,L),g}function zg(a){return a==null?a:LL.call(a)}function Hx(a,l,g){var N=a==null?0:a.length;return N?(g&&typeof g!="number"&&jn(a,l,g)?(l=0,g=N):(l=l==null?0:nt(l),g=g===n?N:nt(g)),Sr(a,l,g)):[]}function Kx(a,l){return gd(a,l)}function zx(a,l,g){return Og(a,l,We(g,2))}function Yx(a,l){var g=a==null?0:a.length;if(g){var N=gd(a,l);if(N<g&&qr(a[N],l))return N}return-1}function Gx(a,l){return gd(a,l,!0)}function Jx(a,l,g){return Og(a,l,We(g,2),!0)}function Qx(a,l){var g=a==null?0:a.length;if(g){var N=gd(a,l,!0)-1;if(qr(a[N],l))return N}return-1}function Xx(a){return a&&a.length?_S(a):[]}function Zx(a,l){return a&&a.length?_S(a,We(l,2)):[]}function eq(a){var l=a==null?0:a.length;return l?Sr(a,1,l):[]}function tq(a,l,g){return a&&a.length?(l=g||l===n?1:nt(l),Sr(a,0,l<0?0:l)):[]}function nq(a,l,g){var N=a==null?0:a.length;return N?(l=g||l===n?1:nt(l),l=N-l,Sr(a,l<0?0:l,N)):[]}function rq(a,l){return a&&a.length?yd(a,We(l,3),!1,!0):[]}function iq(a,l){return a&&a.length?yd(a,We(l,3)):[]}var sq=ot(function(a){return fs($n(a,1,cn,!0))}),oq=ot(function(a){var l=$r(a);return cn(l)&&(l=n),fs($n(a,1,cn,!0),We(l,2))}),aq=ot(function(a){var l=$r(a);return l=typeof l=="function"?l:n,fs($n(a,1,cn,!0),n,l)});function uq(a){return a&&a.length?fs(a):[]}function cq(a,l){return a&&a.length?fs(a,We(l,2)):[]}function lq(a,l){return l=typeof l=="function"?l:n,a&&a.length?fs(a,n,l):[]}function Yg(a){if(!(a&&a.length))return[];var l=0;return a=os(a,function(g){if(cn(g))return l=hn(g.length,l),!0}),fg(l,function(g){return Ut(a,ug(g))})}function u$(a,l){if(!(a&&a.length))return[];var g=Yg(a);return l==null?g:Ut(g,function(N){return ir(l,n,N)})}var fq=ot(function(a,l){return cn(a)?Yu(a,l):[]}),dq=ot(function(a){return Ng(os(a,cn))}),hq=ot(function(a){var l=$r(a);return cn(l)&&(l=n),Ng(os(a,cn),We(l,2))}),pq=ot(function(a){var l=$r(a);return l=typeof l=="function"?l:n,Ng(os(a,cn),n,l)}),mq=ot(Yg);function gq(a,l){return kS(a||[],l||[],zu)}function yq(a,l){return kS(a||[],l||[],Qu)}var vq=ot(function(a){var l=a.length,g=l>1?a[l-1]:n;return g=typeof g=="function"?(a.pop(),g):n,u$(a,g)});function c$(a){var l=H(a);return l.__chain__=!0,l}function bq(a,l){return l(a),a}function kd(a,l){return l(a)}var Dq=xi(function(a){var l=a.length,g=l?a[0]:0,N=this.__wrapped__,L=function(K){return bg(K,a)};return l>1||this.__actions__.length||!(N instanceof ft)||!qi(g)?this.thru(L):(N=N.slice(g,+g+(l?1:0)),N.__actions__.push({func:kd,args:[L],thisArg:n}),new _r(N,this.__chain__).thru(function(K){return l&&!K.length&&K.push(n),K}))});function wq(){return c$(this)}function _q(){return new _r(this.value(),this.__chain__)}function Eq(){this.__values__===n&&(this.__values__=E$(this.value()));var a=this.__index__>=this.__values__.length,l=a?n:this.__values__[this.__index__++];return{done:a,value:l}}function Sq(){return this}function $q(a){for(var l,g=this;g instanceof fd;){var N=n$(g);N.__index__=0,N.__values__=n,l?L.__wrapped__=N:l=N;var L=N;g=g.__wrapped__}return L.__wrapped__=a,l}function kq(){var a=this.__wrapped__;if(a instanceof ft){var l=a;return this.__actions__.length&&(l=new ft(this)),l=l.reverse(),l.__actions__.push({func:kd,args:[zg],thisArg:n}),new _r(l,this.__chain__)}return this.thru(zg)}function Tq(){return $S(this.__wrapped__,this.__actions__)}var Aq=vd(function(a,l,g){Ot.call(a,g)?++a[g]:Li(a,g,1)});function Cq(a,l,g){var N=Ze(a)?jE:bj;return g&&jn(a,l,g)&&(l=n),N(a,We(l,3))}function Oq(a,l){var g=Ze(a)?os:uS;return g(a,We(l,3))}var Pq=MS(r$),Nq=MS(i$);function Rq(a,l){return $n(Td(a,l),1)}function Fq(a,l){return $n(Td(a,l),he)}function Iq(a,l,g){return g=g===n?1:nt(g),$n(Td(a,l),g)}function l$(a,l){var g=Ze(a)?Dr:ls;return g(a,We(l,3))}function f$(a,l){var g=Ze(a)?eL:aS;return g(a,We(l,3))}var Mq=vd(function(a,l,g){Ot.call(a,g)?a[g].push(l):Li(a,g,[l])});function Lq(a,l,g,N){a=zn(a)?a:_a(a),g=g&&!N?nt(g):0;var L=a.length;return g<0&&(g=hn(L+g,0)),Nd(a)?g<=L&&a.indexOf(l,g)>-1:!!L&&la(a,l,g)>-1}var jq=ot(function(a,l,g){var N=-1,L=typeof l=="function",K=zn(a)?me(a.length):[];return ls(a,function(ee){K[++N]=L?ir(l,ee,g):Gu(ee,l,g)}),K}),xq=vd(function(a,l,g){Li(a,g,l)});function Td(a,l){var g=Ze(a)?Ut:pS;return g(a,We(l,3))}function qq(a,l,g,N){return a==null?[]:(Ze(l)||(l=l==null?[]:[l]),g=N?n:g,Ze(g)||(g=g==null?[]:[g]),vS(a,l,g))}var Bq=vd(function(a,l,g){a[g?0:1].push(l)},function(){return[[],[]]});function Wq(a,l,g){var N=Ze(a)?og:WE,L=arguments.length<3;return N(a,We(l,4),g,L,ls)}function Uq(a,l,g){var N=Ze(a)?tL:WE,L=arguments.length<3;return N(a,We(l,4),g,L,aS)}function Vq(a,l){var g=Ze(a)?os:uS;return g(a,Od(We(l,3)))}function Hq(a){var l=Ze(a)?rS:Lj;return l(a)}function Kq(a,l,g){(g?jn(a,l,g):l===n)?l=1:l=nt(l);var N=Ze(a)?pj:jj;return N(a,l)}function zq(a){var l=Ze(a)?mj:qj;return l(a)}function Yq(a){if(a==null)return 0;if(zn(a))return Nd(a)?da(a):a.length;var l=Tn(a);return l==ne||l==Ke?a.size:$g(a).length}function Gq(a,l,g){var N=Ze(a)?ag:Bj;return g&&jn(a,l,g)&&(l=n),N(a,We(l,3))}var Jq=ot(function(a,l){if(a==null)return[];var g=l.length;return g>1&&jn(a,l[0],l[1])?l=[]:g>2&&jn(l[0],l[1],l[2])&&(l=[l[0]]),vS(a,$n(l,1),[])}),Ad=OL||function(){return Sn.Date.now()};function Qq(a,l){if(typeof l!="function")throw new wr(o);return a=nt(a),function(){if(--a<1)return l.apply(this,arguments)}}function d$(a,l,g){return l=g?n:l,l=a&&l==null?a.length:l,ji(a,E,n,n,n,n,l)}function h$(a,l){var g;if(typeof l!="function")throw new wr(o);return a=nt(a),function(){return--a>0&&(g=l.apply(this,arguments)),a<=1&&(l=n),g}}var Gg=ot(function(a,l,g){var N=_;if(g.length){var L=us(g,Da(Gg));N|=p}return ji(a,N,l,g,L)}),p$=ot(function(a,l,g){var N=_|T;if(g.length){var L=us(g,Da(p$));N|=p}return ji(l,N,a,g,L)});function m$(a,l,g){l=g?n:l;var N=ji(a,m,n,n,n,n,n,l);return N.placeholder=m$.placeholder,N}function g$(a,l,g){l=g?n:l;var N=ji(a,y,n,n,n,n,n,l);return N.placeholder=g$.placeholder,N}function y$(a,l,g){var N,L,K,ee,ie,le,ve=0,De=!1,_e=!1,Oe=!0;if(typeof a!="function")throw new wr(o);l=kr(l)||0,Gt(g)&&(De=!!g.leading,_e="maxWait"in g,K=_e?hn(kr(g.maxWait)||0,l):K,Oe="trailing"in g?!!g.trailing:Oe);function Me(ln){var Br=N,Ui=L;return N=L=n,ve=ln,ee=a.apply(Ui,Br),ee}function Ue(ln){return ve=ln,ie=ec(ut,l),De?Me(ln):ee}function it(ln){var Br=ln-le,Ui=ln-ve,M$=l-Br;return _e?kn(M$,K-Ui):M$}function Ve(ln){var Br=ln-le,Ui=ln-ve;return le===n||Br>=l||Br<0||_e&&Ui>=K}function ut(){var ln=Ad();if(Ve(ln))return pt(ln);ie=ec(ut,it(ln))}function pt(ln){return ie=n,Oe&&N?Me(ln):(N=L=n,ee)}function ur(){ie!==n&&TS(ie),ve=0,N=le=L=ie=n}function xn(){return ie===n?ee:pt(Ad())}function cr(){var ln=Ad(),Br=Ve(ln);if(N=arguments,L=this,le=ln,Br){if(ie===n)return Ue(le);if(_e)return TS(ie),ie=ec(ut,l),Me(le)}return ie===n&&(ie=ec(ut,l)),ee}return cr.cancel=ur,cr.flush=xn,cr}var Xq=ot(function(a,l){return oS(a,1,l)}),Zq=ot(function(a,l,g){return oS(a,kr(l)||0,g)});function eB(a){return ji(a,C)}function Cd(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new wr(o);var g=function(){var N=arguments,L=l?l.apply(this,N):N[0],K=g.cache;if(K.has(L))return K.get(L);var ee=a.apply(this,N);return g.cache=K.set(L,ee)||K,ee};return g.cache=new(Cd.Cache||Mi),g}Cd.Cache=Mi;function Od(a){if(typeof a!="function")throw new wr(o);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function tB(a){return h$(2,a)}var nB=Wj(function(a,l){l=l.length==1&&Ze(l[0])?Ut(l[0],sr(We())):Ut($n(l,1),sr(We()));var g=l.length;return ot(function(N){for(var L=-1,K=kn(N.length,g);++L<K;)N[L]=l[L].call(this,N[L]);return ir(a,this,N)})}),Jg=ot(function(a,l){var g=us(l,Da(Jg));return ji(a,p,n,l,g)}),v$=ot(function(a,l){var g=us(l,Da(v$));return ji(a,D,n,l,g)}),rB=xi(function(a,l){return ji(a,P,n,n,n,l)});function iB(a,l){if(typeof a!="function")throw new wr(o);return l=l===n?l:nt(l),ot(a,l)}function sB(a,l){if(typeof a!="function")throw new wr(o);return l=l==null?0:hn(nt(l),0),ot(function(g){var N=g[l],L=hs(g,0,l);return N&&as(L,N),ir(a,this,L)})}function oB(a,l,g){var N=!0,L=!0;if(typeof a!="function")throw new wr(o);return Gt(g)&&(N="leading"in g?!!g.leading:N,L="trailing"in g?!!g.trailing:L),y$(a,l,{leading:N,maxWait:l,trailing:L})}function aB(a){return d$(a,1)}function uB(a,l){return Jg(Fg(l),a)}function cB(){if(!arguments.length)return[];var a=arguments[0];return Ze(a)?a:[a]}function lB(a){return Er(a,w)}function fB(a,l){return l=typeof l=="function"?l:n,Er(a,w,l)}function dB(a){return Er(a,h|w)}function hB(a,l){return l=typeof l=="function"?l:n,Er(a,h|w,l)}function pB(a,l){return l==null||sS(a,l,yn(l))}function qr(a,l){return a===l||a!==a&&l!==l}var mB=_d(_g),gB=_d(function(a,l){return a>=l}),yo=fS(function(){return arguments}())?fS:function(a){return en(a)&&Ot.call(a,"callee")&&!QE.call(a,"callee")},Ze=me.isArray,yB=NE?sr(NE):$j;function zn(a){return a!=null&&Pd(a.length)&&!Bi(a)}function cn(a){return en(a)&&zn(a)}function vB(a){return a===!0||a===!1||en(a)&&Ln(a)==ke}var ps=NL||ay,bB=RE?sr(RE):kj;function DB(a){return en(a)&&a.nodeType===1&&!tc(a)}function wB(a){if(a==null)return!0;if(zn(a)&&(Ze(a)||typeof a=="string"||typeof a.splice=="function"||ps(a)||wa(a)||yo(a)))return!a.length;var l=Tn(a);if(l==ne||l==Ke)return!a.size;if(Zu(a))return!$g(a).length;for(var g in a)if(Ot.call(a,g))return!1;return!0}function _B(a,l){return Ju(a,l)}function EB(a,l,g){g=typeof g=="function"?g:n;var N=g?g(a,l):n;return N===n?Ju(a,l,n,g):!!N}function Qg(a){if(!en(a))return!1;var l=Ln(a);return l==U||l==we||typeof a.message=="string"&&typeof a.name=="string"&&!tc(a)}function SB(a){return typeof a=="number"&&ZE(a)}function Bi(a){if(!Gt(a))return!1;var l=Ln(a);return l==J||l==de||l==$e||l==Tt}function b$(a){return typeof a=="number"&&a==nt(a)}function Pd(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=Te}function Gt(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function en(a){return a!=null&&typeof a=="object"}var D$=FE?sr(FE):Aj;function $B(a,l){return a===l||Sg(a,l,Bg(l))}function kB(a,l,g){return g=typeof g=="function"?g:n,Sg(a,l,Bg(l),g)}function TB(a){return w$(a)&&a!=+a}function AB(a){if(fx(a))throw new Xe(s);return dS(a)}function CB(a){return a===null}function OB(a){return a==null}function w$(a){return typeof a=="number"||en(a)&&Ln(a)==Se}function tc(a){if(!en(a)||Ln(a)!=qe)return!1;var l=id(a);if(l===null)return!0;var g=Ot.call(l,"constructor")&&l.constructor;return typeof g=="function"&&g instanceof g&&ed.call(g)==kL}var Xg=IE?sr(IE):Cj;function PB(a){return b$(a)&&a>=-Te&&a<=Te}var _$=ME?sr(ME):Oj;function Nd(a){return typeof a=="string"||!Ze(a)&&en(a)&&Ln(a)==Ft}function ar(a){return typeof a=="symbol"||en(a)&&Ln(a)==At}var wa=LE?sr(LE):Pj;function NB(a){return a===n}function RB(a){return en(a)&&Tn(a)==yt}function FB(a){return en(a)&&Ln(a)==Y}var IB=_d(kg),MB=_d(function(a,l){return a<=l});function E$(a){if(!a)return[];if(zn(a))return Nd(a)?jr(a):Kn(a);if(Wu&&a[Wu])return pL(a[Wu]());var l=Tn(a),g=l==ne?hg:l==Ke?Qf:_a;return g(a)}function Wi(a){if(!a)return a===0?a:0;if(a=kr(a),a===he||a===-he){var l=a<0?-1:1;return l*Ye}return a===a?a:0}function nt(a){var l=Wi(a),g=l%1;return l===l?g?l-g:l:0}function S$(a){return a?ho(nt(a),0,V):0}function kr(a){if(typeof a=="number")return a;if(ar(a))return ge;if(Gt(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=Gt(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=UE(a);var g=Bt.test(a);return g||ht.test(a)?QM(a.slice(2),g?2:8):Ct.test(a)?ge:+a}function $$(a){return ii(a,Yn(a))}function LB(a){return a?ho(nt(a),-Te,Te):a===0?a:0}function St(a){return a==null?"":or(a)}var jB=va(function(a,l){if(Zu(l)||zn(l)){ii(l,yn(l),a);return}for(var g in l)Ot.call(l,g)&&zu(a,g,l[g])}),k$=va(function(a,l){ii(l,Yn(l),a)}),Rd=va(function(a,l,g,N){ii(l,Yn(l),a,N)}),xB=va(function(a,l,g,N){ii(l,yn(l),a,N)}),qB=xi(bg);function BB(a,l){var g=ya(a);return l==null?g:iS(g,l)}var WB=ot(function(a,l){a=It(a);var g=-1,N=l.length,L=N>2?l[2]:n;for(L&&jn(l[0],l[1],L)&&(N=1);++g<N;)for(var K=l[g],ee=Yn(K),ie=-1,le=ee.length;++ie<le;){var ve=ee[ie],De=a[ve];(De===n||qr(De,pa[ve])&&!Ot.call(a,ve))&&(a[ve]=K[ve])}return a}),UB=ot(function(a){return a.push(n,US),ir(T$,n,a)});function VB(a,l){return xE(a,We(l,3),ri)}function HB(a,l){return xE(a,We(l,3),wg)}function KB(a,l){return a==null?a:Dg(a,We(l,3),Yn)}function zB(a,l){return a==null?a:cS(a,We(l,3),Yn)}function YB(a,l){return a&&ri(a,We(l,3))}function GB(a,l){return a&&wg(a,We(l,3))}function JB(a){return a==null?[]:pd(a,yn(a))}function QB(a){return a==null?[]:pd(a,Yn(a))}function Zg(a,l,g){var N=a==null?n:po(a,l);return N===n?g:N}function XB(a,l){return a!=null&&KS(a,l,wj)}function ey(a,l){return a!=null&&KS(a,l,_j)}var ZB=jS(function(a,l,g){l!=null&&typeof l.toString!="function"&&(l=td.call(l)),a[l]=g},ny(Gn)),e3=jS(function(a,l,g){l!=null&&typeof l.toString!="function"&&(l=td.call(l)),Ot.call(a,l)?a[l].push(g):a[l]=[g]},We),t3=ot(Gu);function yn(a){return zn(a)?nS(a):$g(a)}function Yn(a){return zn(a)?nS(a,!0):Nj(a)}function n3(a,l){var g={};return l=We(l,3),ri(a,function(N,L,K){Li(g,l(N,L,K),N)}),g}function r3(a,l){var g={};return l=We(l,3),ri(a,function(N,L,K){Li(g,L,l(N,L,K))}),g}var i3=va(function(a,l,g){md(a,l,g)}),T$=va(function(a,l,g,N){md(a,l,g,N)}),s3=xi(function(a,l){var g={};if(a==null)return g;var N=!1;l=Ut(l,function(K){return K=ds(K,a),N||(N=K.length>1),K}),ii(a,xg(a),g),N&&(g=Er(g,h|v|w,Zj));for(var L=l.length;L--;)Pg(g,l[L]);return g});function o3(a,l){return A$(a,Od(We(l)))}var a3=xi(function(a,l){return a==null?{}:Fj(a,l)});function A$(a,l){if(a==null)return{};var g=Ut(xg(a),function(N){return[N]});return l=We(l),bS(a,g,function(N,L){return l(N,L[0])})}function u3(a,l,g){l=ds(l,a);var N=-1,L=l.length;for(L||(L=1,a=n);++N<L;){var K=a==null?n:a[si(l[N])];K===n&&(N=L,K=g),a=Bi(K)?K.call(a):K}return a}function c3(a,l,g){return a==null?a:Qu(a,l,g)}function l3(a,l,g,N){return N=typeof N=="function"?N:n,a==null?a:Qu(a,l,g,N)}var C$=BS(yn),O$=BS(Yn);function f3(a,l,g){var N=Ze(a),L=N||ps(a)||wa(a);if(l=We(l,4),g==null){var K=a&&a.constructor;L?g=N?new K:[]:Gt(a)?g=Bi(K)?ya(id(a)):{}:g={}}return(L?Dr:ri)(a,function(ee,ie,le){return l(g,ee,ie,le)}),g}function d3(a,l){return a==null?!0:Pg(a,l)}function h3(a,l,g){return a==null?a:SS(a,l,Fg(g))}function p3(a,l,g,N){return N=typeof N=="function"?N:n,a==null?a:SS(a,l,Fg(g),N)}function _a(a){return a==null?[]:dg(a,yn(a))}function m3(a){return a==null?[]:dg(a,Yn(a))}function g3(a,l,g){return g===n&&(g=l,l=n),g!==n&&(g=kr(g),g=g===g?g:0),l!==n&&(l=kr(l),l=l===l?l:0),ho(kr(a),l,g)}function y3(a,l,g){return l=Wi(l),g===n?(g=l,l=0):g=Wi(g),a=kr(a),Ej(a,l,g)}function v3(a,l,g){if(g&&typeof g!="boolean"&&jn(a,l,g)&&(l=g=n),g===n&&(typeof l=="boolean"?(g=l,l=n):typeof a=="boolean"&&(g=a,a=n)),a===n&&l===n?(a=0,l=1):(a=Wi(a),l===n?(l=a,a=0):l=Wi(l)),a>l){var N=a;a=l,l=N}if(g||a%1||l%1){var L=eS();return kn(a+L*(l-a+JM("1e-"+((L+"").length-1))),l)}return Ag(a,l)}var b3=ba(function(a,l,g){return l=l.toLowerCase(),a+(g?P$(l):l)});function P$(a){return ty(St(a).toLowerCase())}function N$(a){return a=St(a),a&&a.replace(bt,cL).replace(qM,"")}function D3(a,l,g){a=St(a),l=or(l);var N=a.length;g=g===n?N:ho(nt(g),0,N);var L=g;return g-=l.length,g>=0&&a.slice(g,L)==l}function w3(a){return a=St(a),a&&et.test(a)?a.replace(at,lL):a}function _3(a){return a=St(a),a&&ni.test(a)?a.replace(ss,"\\$&"):a}var E3=ba(function(a,l,g){return a+(g?"-":"")+l.toLowerCase()}),S3=ba(function(a,l,g){return a+(g?" ":"")+l.toLowerCase()}),$3=IS("toLowerCase");function k3(a,l,g){a=St(a),l=nt(l);var N=l?da(a):0;if(!l||N>=l)return a;var L=(l-N)/2;return wd(ud(L),g)+a+wd(ad(L),g)}function T3(a,l,g){a=St(a),l=nt(l);var N=l?da(a):0;return l&&N<l?a+wd(l-N,g):a}function A3(a,l,g){a=St(a),l=nt(l);var N=l?da(a):0;return l&&N<l?wd(l-N,g)+a:a}function C3(a,l,g){return g||l==null?l=0:l&&(l=+l),ML(St(a).replace(Fi,""),l||0)}function O3(a,l,g){return(g?jn(a,l,g):l===n)?l=1:l=nt(l),Cg(St(a),l)}function P3(){var a=arguments,l=St(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var N3=ba(function(a,l,g){return a+(g?"_":"")+l.toLowerCase()});function R3(a,l,g){return g&&typeof g!="number"&&jn(a,l,g)&&(l=g=n),g=g===n?V:g>>>0,g?(a=St(a),a&&(typeof l=="string"||l!=null&&!Xg(l))&&(l=or(l),!l&&fa(a))?hs(jr(a),0,g):a.split(l,g)):[]}var F3=ba(function(a,l,g){return a+(g?" ":"")+ty(l)});function I3(a,l,g){return a=St(a),g=g==null?0:ho(nt(g),0,a.length),l=or(l),a.slice(g,g+l.length)==l}function M3(a,l,g){var N=H.templateSettings;g&&jn(a,l,g)&&(l=n),a=St(a),l=Rd({},l,N,WS);var L=Rd({},l.imports,N.imports,WS),K=yn(L),ee=dg(L,K),ie,le,ve=0,De=l.interpolate||Wt,_e="__p += '",Oe=pg((l.escape||Wt).source+"|"+De.source+"|"+(De===Zt?Ie:Wt).source+"|"+(l.evaluate||Wt).source+"|$","g"),Me="//# sourceURL="+(Ot.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++HM+"]")+`
`;a.replace(Oe,function(Ve,ut,pt,ur,xn,cr){return pt||(pt=ur),_e+=a.slice(ve,cr).replace(En,fL),ut&&(ie=!0,_e+=`' +
__e(`+ut+`) +
'`),xn&&(le=!0,_e+=`';
`+xn+`;
__p += '`),pt&&(_e+=`' +
((__t = (`+pt+`)) == null ? '' : __t) +
'`),ve=cr+Ve.length,Ve}),_e+=`';
`;var Ue=Ot.call(l,"variable")&&l.variable;if(!Ue)_e=`with (obj) {
`+_e+`
}
`;else if(be.test(Ue))throw new Xe(u);_e=(le?_e.replace(je,""):_e).replace(Pe,"$1").replace(xe,"$1;"),_e="function("+(Ue||"obj")+`) {
`+(Ue?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var it=F$(function(){return Dt(K,Me+"return "+_e).apply(n,ee)});if(it.source=_e,Qg(it))throw it;return it}function L3(a){return St(a).toLowerCase()}function j3(a){return St(a).toUpperCase()}function x3(a,l,g){if(a=St(a),a&&(g||l===n))return UE(a);if(!a||!(l=or(l)))return a;var N=jr(a),L=jr(l),K=VE(N,L),ee=HE(N,L)+1;return hs(N,K,ee).join("")}function q3(a,l,g){if(a=St(a),a&&(g||l===n))return a.slice(0,zE(a)+1);if(!a||!(l=or(l)))return a;var N=jr(a),L=HE(N,jr(l))+1;return hs(N,0,L).join("")}function B3(a,l,g){if(a=St(a),a&&(g||l===n))return a.replace(Fi,"");if(!a||!(l=or(l)))return a;var N=jr(a),L=VE(N,jr(l));return hs(N,L).join("")}function W3(a,l){var g=R,N=I;if(Gt(l)){var L="separator"in l?l.separator:L;g="length"in l?nt(l.length):g,N="omission"in l?or(l.omission):N}a=St(a);var K=a.length;if(fa(a)){var ee=jr(a);K=ee.length}if(g>=K)return a;var ie=g-da(N);if(ie<1)return N;var le=ee?hs(ee,0,ie).join(""):a.slice(0,ie);if(L===n)return le+N;if(ee&&(ie+=le.length-ie),Xg(L)){if(a.slice(ie).search(L)){var ve,De=le;for(L.global||(L=pg(L.source,St(Nt.exec(L))+"g")),L.lastIndex=0;ve=L.exec(De);)var _e=ve.index;le=le.slice(0,_e===n?ie:_e)}}else if(a.indexOf(or(L),ie)!=ie){var Oe=le.lastIndexOf(L);Oe>-1&&(le=le.slice(0,Oe))}return le+N}function U3(a){return a=St(a),a&&jt.test(a)?a.replace(Ce,vL):a}var V3=ba(function(a,l,g){return a+(g?" ":"")+l.toUpperCase()}),ty=IS("toUpperCase");function R$(a,l,g){return a=St(a),l=g?n:l,l===n?hL(a)?wL(a):iL(a):a.match(l)||[]}var F$=ot(function(a,l){try{return ir(a,n,l)}catch(g){return Qg(g)?g:new Xe(g)}}),H3=xi(function(a,l){return Dr(l,function(g){g=si(g),Li(a,g,Gg(a[g],a))}),a});function K3(a){var l=a==null?0:a.length,g=We();return a=l?Ut(a,function(N){if(typeof N[1]!="function")throw new wr(o);return[g(N[0]),N[1]]}):[],ot(function(N){for(var L=-1;++L<l;){var K=a[L];if(ir(K[0],this,N))return ir(K[1],this,N)}})}function z3(a){return vj(Er(a,h))}function ny(a){return function(){return a}}function Y3(a,l){return a==null||a!==a?l:a}var G3=LS(),J3=LS(!0);function Gn(a){return a}function ry(a){return hS(typeof a=="function"?a:Er(a,h))}function Q3(a){return mS(Er(a,h))}function X3(a,l){return gS(a,Er(l,h))}var Z3=ot(function(a,l){return function(g){return Gu(g,a,l)}}),e8=ot(function(a,l){return function(g){return Gu(a,g,l)}});function iy(a,l,g){var N=yn(l),L=pd(l,N);g==null&&!(Gt(l)&&(L.length||!N.length))&&(g=l,l=a,a=this,L=pd(l,yn(l)));var K=!(Gt(g)&&"chain"in g)||!!g.chain,ee=Bi(a);return Dr(L,function(ie){var le=l[ie];a[ie]=le,ee&&(a.prototype[ie]=function(){var ve=this.__chain__;if(K||ve){var De=a(this.__wrapped__),_e=De.__actions__=Kn(this.__actions__);return _e.push({func:le,args:arguments,thisArg:a}),De.__chain__=ve,De}return le.apply(a,as([this.value()],arguments))})}),a}function t8(){return Sn._===this&&(Sn._=TL),this}function sy(){}function n8(a){return a=nt(a),ot(function(l){return yS(l,a)})}var r8=Mg(Ut),i8=Mg(jE),s8=Mg(ag);function I$(a){return Ug(a)?ug(si(a)):Ij(a)}function o8(a){return function(l){return a==null?n:po(a,l)}}var a8=xS(),u8=xS(!0);function oy(){return[]}function ay(){return!1}function c8(){return{}}function l8(){return""}function f8(){return!0}function d8(a,l){if(a=nt(a),a<1||a>Te)return[];var g=V,N=kn(a,V);l=We(l),a-=V;for(var L=fg(N,l);++g<a;)l(g);return L}function h8(a){return Ze(a)?Ut(a,si):ar(a)?[a]:Kn(t$(St(a)))}function p8(a){var l=++$L;return St(a)+l}var m8=Dd(function(a,l){return a+l},0),g8=Lg("ceil"),y8=Dd(function(a,l){return a/l},1),v8=Lg("floor");function b8(a){return a&&a.length?hd(a,Gn,_g):n}function D8(a,l){return a&&a.length?hd(a,We(l,2),_g):n}function w8(a){return BE(a,Gn)}function _8(a,l){return BE(a,We(l,2))}function E8(a){return a&&a.length?hd(a,Gn,kg):n}function S8(a,l){return a&&a.length?hd(a,We(l,2),kg):n}var $8=Dd(function(a,l){return a*l},1),k8=Lg("round"),T8=Dd(function(a,l){return a-l},0);function A8(a){return a&&a.length?lg(a,Gn):0}function C8(a,l){return a&&a.length?lg(a,We(l,2)):0}return H.after=Qq,H.ary=d$,H.assign=jB,H.assignIn=k$,H.assignInWith=Rd,H.assignWith=xB,H.at=qB,H.before=h$,H.bind=Gg,H.bindAll=H3,H.bindKey=p$,H.castArray=cB,H.chain=c$,H.chunk=vx,H.compact=bx,H.concat=Dx,H.cond=K3,H.conforms=z3,H.constant=ny,H.countBy=Aq,H.create=BB,H.curry=m$,H.curryRight=g$,H.debounce=y$,H.defaults=WB,H.defaultsDeep=UB,H.defer=Xq,H.delay=Zq,H.difference=wx,H.differenceBy=_x,H.differenceWith=Ex,H.drop=Sx,H.dropRight=$x,H.dropRightWhile=kx,H.dropWhile=Tx,H.fill=Ax,H.filter=Oq,H.flatMap=Rq,H.flatMapDeep=Fq,H.flatMapDepth=Iq,H.flatten=s$,H.flattenDeep=Cx,H.flattenDepth=Ox,H.flip=eB,H.flow=G3,H.flowRight=J3,H.fromPairs=Px,H.functions=JB,H.functionsIn=QB,H.groupBy=Mq,H.initial=Rx,H.intersection=Fx,H.intersectionBy=Ix,H.intersectionWith=Mx,H.invert=ZB,H.invertBy=e3,H.invokeMap=jq,H.iteratee=ry,H.keyBy=xq,H.keys=yn,H.keysIn=Yn,H.map=Td,H.mapKeys=n3,H.mapValues=r3,H.matches=Q3,H.matchesProperty=X3,H.memoize=Cd,H.merge=i3,H.mergeWith=T$,H.method=Z3,H.methodOf=e8,H.mixin=iy,H.negate=Od,H.nthArg=n8,H.omit=s3,H.omitBy=o3,H.once=tB,H.orderBy=qq,H.over=r8,H.overArgs=nB,H.overEvery=i8,H.overSome=s8,H.partial=Jg,H.partialRight=v$,H.partition=Bq,H.pick=a3,H.pickBy=A$,H.property=I$,H.propertyOf=o8,H.pull=qx,H.pullAll=a$,H.pullAllBy=Bx,H.pullAllWith=Wx,H.pullAt=Ux,H.range=a8,H.rangeRight=u8,H.rearg=rB,H.reject=Vq,H.remove=Vx,H.rest=iB,H.reverse=zg,H.sampleSize=Kq,H.set=c3,H.setWith=l3,H.shuffle=zq,H.slice=Hx,H.sortBy=Jq,H.sortedUniq=Xx,H.sortedUniqBy=Zx,H.split=R3,H.spread=sB,H.tail=eq,H.take=tq,H.takeRight=nq,H.takeRightWhile=rq,H.takeWhile=iq,H.tap=bq,H.throttle=oB,H.thru=kd,H.toArray=E$,H.toPairs=C$,H.toPairsIn=O$,H.toPath=h8,H.toPlainObject=$$,H.transform=f3,H.unary=aB,H.union=sq,H.unionBy=oq,H.unionWith=aq,H.uniq=uq,H.uniqBy=cq,H.uniqWith=lq,H.unset=d3,H.unzip=Yg,H.unzipWith=u$,H.update=h3,H.updateWith=p3,H.values=_a,H.valuesIn=m3,H.without=fq,H.words=R$,H.wrap=uB,H.xor=dq,H.xorBy=hq,H.xorWith=pq,H.zip=mq,H.zipObject=gq,H.zipObjectDeep=yq,H.zipWith=vq,H.entries=C$,H.entriesIn=O$,H.extend=k$,H.extendWith=Rd,iy(H,H),H.add=m8,H.attempt=F$,H.camelCase=b3,H.capitalize=P$,H.ceil=g8,H.clamp=g3,H.clone=lB,H.cloneDeep=dB,H.cloneDeepWith=hB,H.cloneWith=fB,H.conformsTo=pB,H.deburr=N$,H.defaultTo=Y3,H.divide=y8,H.endsWith=D3,H.eq=qr,H.escape=w3,H.escapeRegExp=_3,H.every=Cq,H.find=Pq,H.findIndex=r$,H.findKey=VB,H.findLast=Nq,H.findLastIndex=i$,H.findLastKey=HB,H.floor=v8,H.forEach=l$,H.forEachRight=f$,H.forIn=KB,H.forInRight=zB,H.forOwn=YB,H.forOwnRight=GB,H.get=Zg,H.gt=mB,H.gte=gB,H.has=XB,H.hasIn=ey,H.head=o$,H.identity=Gn,H.includes=Lq,H.indexOf=Nx,H.inRange=y3,H.invoke=t3,H.isArguments=yo,H.isArray=Ze,H.isArrayBuffer=yB,H.isArrayLike=zn,H.isArrayLikeObject=cn,H.isBoolean=vB,H.isBuffer=ps,H.isDate=bB,H.isElement=DB,H.isEmpty=wB,H.isEqual=_B,H.isEqualWith=EB,H.isError=Qg,H.isFinite=SB,H.isFunction=Bi,H.isInteger=b$,H.isLength=Pd,H.isMap=D$,H.isMatch=$B,H.isMatchWith=kB,H.isNaN=TB,H.isNative=AB,H.isNil=OB,H.isNull=CB,H.isNumber=w$,H.isObject=Gt,H.isObjectLike=en,H.isPlainObject=tc,H.isRegExp=Xg,H.isSafeInteger=PB,H.isSet=_$,H.isString=Nd,H.isSymbol=ar,H.isTypedArray=wa,H.isUndefined=NB,H.isWeakMap=RB,H.isWeakSet=FB,H.join=Lx,H.kebabCase=E3,H.last=$r,H.lastIndexOf=jx,H.lowerCase=S3,H.lowerFirst=$3,H.lt=IB,H.lte=MB,H.max=b8,H.maxBy=D8,H.mean=w8,H.meanBy=_8,H.min=E8,H.minBy=S8,H.stubArray=oy,H.stubFalse=ay,H.stubObject=c8,H.stubString=l8,H.stubTrue=f8,H.multiply=$8,H.nth=xx,H.noConflict=t8,H.noop=sy,H.now=Ad,H.pad=k3,H.padEnd=T3,H.padStart=A3,H.parseInt=C3,H.random=v3,H.reduce=Wq,H.reduceRight=Uq,H.repeat=O3,H.replace=P3,H.result=u3,H.round=k8,H.runInContext=ue,H.sample=Hq,H.size=Yq,H.snakeCase=N3,H.some=Gq,H.sortedIndex=Kx,H.sortedIndexBy=zx,H.sortedIndexOf=Yx,H.sortedLastIndex=Gx,H.sortedLastIndexBy=Jx,H.sortedLastIndexOf=Qx,H.startCase=F3,H.startsWith=I3,H.subtract=T8,H.sum=A8,H.sumBy=C8,H.template=M3,H.times=d8,H.toFinite=Wi,H.toInteger=nt,H.toLength=S$,H.toLower=L3,H.toNumber=kr,H.toSafeInteger=LB,H.toString=St,H.toUpper=j3,H.trim=x3,H.trimEnd=q3,H.trimStart=B3,H.truncate=W3,H.unescape=U3,H.uniqueId=p8,H.upperCase=V3,H.upperFirst=ty,H.each=l$,H.eachRight=f$,H.first=o$,iy(H,function(){var a={};return ri(H,function(l,g){Ot.call(H.prototype,g)||(a[g]=l)}),a}(),{chain:!1}),H.VERSION=r,Dr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){H[a].placeholder=H}),Dr(["drop","take"],function(a,l){ft.prototype[a]=function(g){g=g===n?1:hn(nt(g),0);var N=this.__filtered__&&!l?new ft(this):this.clone();return N.__filtered__?N.__takeCount__=kn(g,N.__takeCount__):N.__views__.push({size:kn(g,V),type:a+(N.__dir__<0?"Right":"")}),N},ft.prototype[a+"Right"]=function(g){return this.reverse()[a](g).reverse()}}),Dr(["filter","map","takeWhile"],function(a,l){var g=l+1,N=g==Q||g==ce;ft.prototype[a]=function(L){var K=this.clone();return K.__iteratees__.push({iteratee:We(L,3),type:g}),K.__filtered__=K.__filtered__||N,K}}),Dr(["head","last"],function(a,l){var g="take"+(l?"Right":"");ft.prototype[a]=function(){return this[g](1).value()[0]}}),Dr(["initial","tail"],function(a,l){var g="drop"+(l?"":"Right");ft.prototype[a]=function(){return this.__filtered__?new ft(this):this[g](1)}}),ft.prototype.compact=function(){return this.filter(Gn)},ft.prototype.find=function(a){return this.filter(a).head()},ft.prototype.findLast=function(a){return this.reverse().find(a)},ft.prototype.invokeMap=ot(function(a,l){return typeof a=="function"?new ft(this):this.map(function(g){return Gu(g,a,l)})}),ft.prototype.reject=function(a){return this.filter(Od(We(a)))},ft.prototype.slice=function(a,l){a=nt(a);var g=this;return g.__filtered__&&(a>0||l<0)?new ft(g):(a<0?g=g.takeRight(-a):a&&(g=g.drop(a)),l!==n&&(l=nt(l),g=l<0?g.dropRight(-l):g.take(l-a)),g)},ft.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},ft.prototype.toArray=function(){return this.take(V)},ri(ft.prototype,function(a,l){var g=/^(?:filter|find|map|reject)|While$/.test(l),N=/^(?:head|last)$/.test(l),L=H[N?"take"+(l=="last"?"Right":""):l],K=N||/^find/.test(l);L&&(H.prototype[l]=function(){var ee=this.__wrapped__,ie=N?[1]:arguments,le=ee instanceof ft,ve=ie[0],De=le||Ze(ee),_e=function(ut){var pt=L.apply(H,as([ut],ie));return N&&Oe?pt[0]:pt};De&&g&&typeof ve=="function"&&ve.length!=1&&(le=De=!1);var Oe=this.__chain__,Me=!!this.__actions__.length,Ue=K&&!Oe,it=le&&!Me;if(!K&&De){ee=it?ee:new ft(this);var Ve=a.apply(ee,ie);return Ve.__actions__.push({func:kd,args:[_e],thisArg:n}),new _r(Ve,Oe)}return Ue&&it?a.apply(this,ie):(Ve=this.thru(_e),Ue?N?Ve.value()[0]:Ve.value():Ve)})}),Dr(["pop","push","shift","sort","splice","unshift"],function(a){var l=Xf[a],g=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",N=/^(?:pop|shift)$/.test(a);H.prototype[a]=function(){var L=arguments;if(N&&!this.__chain__){var K=this.value();return l.apply(Ze(K)?K:[],L)}return this[g](function(ee){return l.apply(Ze(ee)?ee:[],L)})}}),ri(ft.prototype,function(a,l){var g=H[l];if(g){var N=g.name+"";Ot.call(ga,N)||(ga[N]=[]),ga[N].push({name:l,func:g})}}),ga[bd(n,T).name]=[{name:"wrapper",func:n}],ft.prototype.clone=UL,ft.prototype.reverse=VL,ft.prototype.value=HL,H.prototype.at=Dq,H.prototype.chain=wq,H.prototype.commit=_q,H.prototype.next=Eq,H.prototype.plant=$q,H.prototype.reverse=kq,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=Tq,H.prototype.first=H.prototype.head,Wu&&(H.prototype[Wu]=Sq),H},ha=_L();uo?((uo.exports=ha)._=ha,rg._=ha):Sn._=ha}).call(HI)}(ku,ku.exports)),ku.exports}var zI=KI();class YI{constructor(t){this.clientCapabilities=t,this.indentation="  "}configure(t){this.indentation=t.indentation}getCodeAction(t,n){if(!n.context.diagnostics)return;const r=[];return r.push(...this.getConvertToBooleanActions(n.context.diagnostics,t)),r.push(...this.getJumpToSchemaActions(n.context.diagnostics)),r.push(...this.getTabToSpaceConverting(n.context.diagnostics,t)),r.push(...this.getUnusedAnchorsDelete(n.context.diagnostics,t)),r.push(...this.getConvertToBlockStyleActions(n.context.diagnostics,t)),r.push(...this.getKeyOrderActions(n.context.diagnostics,t)),r.push(...this.getQuickFixForPropertyOrValueMismatch(n.context.diagnostics,t)),r}getJumpToSchemaActions(t){if(!(this.clientCapabilities?.window?.showDocument?.support??!1))return[];const r=new Map;for(const s of t){const o=s.data?.schemaUri||[];for(const u of o)u&&(r.has(u)||r.set(u,[]),r.get(u).push(s))}const i=[];for(const s of r.keys()){const o=Ar.create(`Jump to schema location (${Ms.basename(s)})`,Hi.create("JumpToSchema",Vf.JUMP_TO_SCHEMA,s));o.diagnostics=r.get(s),i.push(o)}return i}getTabToSpaceConverting(t,n){const r=[],i=new xs(n),s=[];for(const o of t)if(o.message==="Using tabs can lead to unpredictable results"){if(s.includes(o.range.start.line))continue;const u=i.getLineContent(o.range.start.line);let c=0,f="";for(let h=o.range.start.character;h<=o.range.end.character&&u.charAt(h)==="	";h++)c++,f+=this.indentation;s.push(o.range.start.line);let d=o.range;c!==o.range.end.character-o.range.start.character&&(d=Be.create(o.range.start,tn.create(o.range.end.line,o.range.start.character+c))),r.push(Ar.create("Convert Tab to Spaces",ro(n.uri,[Pt.replace(d,f)]),Ur.QuickFix))}if(r.length!==0){const o=[];for(let u=0;u<=i.getLineCount();u++){const c=i.getLineContent(u);let f=0,d="";for(let h=0;h<c.length;h++){const v=c.charAt(h);if(v!==" "&&v!=="	"){f!==0&&(o.push(Pt.replace(Be.create(u,h-f,u,h),d)),f=0,d="");break}if(v===" "&&f!==0){o.push(Pt.replace(Be.create(u,h-f,u,h),d)),f=0,d="";continue}v==="	"&&(d+=this.indentation,f++)}f!==0&&o.push(Pt.replace(Be.create(u,0,u,i.getLineLength(u)),d))}o.length>0&&r.push(Ar.create("Convert all Tabs to Spaces",ro(n.uri,o),Ur.QuickFix))}return r}getUnusedAnchorsDelete(t,n){const r=[],i=new xs(n);for(const s of t)if(s.message.startsWith("Unused anchor")&&s.source===Qc){const o=Be.create(s.range.start,s.range.end),u=i.getText(o),c=i.getLineContent(o.end.line),f=Qk(c,o.end.character);o.end.character=f;const d=Ar.create(`Delete unused anchor: ${u}`,ro(n.uri,[Pt.del(o)]),Ur.QuickFix);d.diagnostics=[s],r.push(d)}return r}getConvertToBooleanActions(t,n){const r=[];for(const i of t)if(i.message==='Incorrect type. Expected "boolean".'){const s=n.getText(i.range).toLocaleLowerCase();if(s==='"true"'||s==='"false"'||s==="'true'"||s==="'false'"){const o=s.includes("true")?"true":"false";r.push(Ar.create("Convert to boolean",ro(n.uri,[Pt.replace(i.range,o)]),Ur.QuickFix))}}return r}getConvertToBlockStyleActions(t,n){const r=[];for(const i of t)if(i.code==="flowMap"||i.code==="flowSeq"){const s=__(n,i);if(Jt(s.internalNode)||sn(s.internalNode)){const o=Jt(s.internalNode)?"map":"sequence",u=new VI(this.indentation);r.push(Ar.create(`Convert to block style ${o}`,ro(n.uri,[Pt.replace(i.range,u.write(s))]),Ur.QuickFix))}}return r}getKeyOrderActions(t,n){const r=[];for(const i of t)if(i?.code==="mapKeyOrder"){let s=__(n,i);for(;s&&s.type!=="object";)s=s.parent;if(s&&Jt(s.internalNode)){const o=zI.cloneDeep(s.internalNode);if((o.srcToken.type==="block-map"||o.srcToken.type==="flow-collection")&&(s.internalNode.srcToken.type==="block-map"||s.internalNode.srcToken.type==="flow-collection")){o.srcToken.items.sort((c,f)=>{if(c.key&&f.key&&lp(c.key)&&lp(f.key))return c.key.source.localeCompare(f.key.source);if(!c.key&&f.key)return-1;if(c.key&&!f.key)return 1;if(!c.key&&!f.key)return 0});for(let c=0;c<o.srcToken.items.length;c++){const f=o.srcToken.items[c],d=s.internalNode.srcToken.items[c];if(f.start=d.start,f.value?.type==="alias"||f.value?.type==="scalar"||f.value?.type==="single-quoted-scalar"||f.value?.type==="double-quoted-scalar"){const h=f.value?.end?.findIndex(w=>w.type==="newline")??-1;let v=null;d.value?.type==="block-scalar"?v=d.value?.props?.find(w=>w.type==="newline"):lp(d.value)&&(v=d.value?.end?.find(w=>w.type==="newline")),v&&h<0&&(f.value.end=f.value.end??[],f.value.end.push(v)),!v&&h>-1&&f.value.end.splice(h,1)}else f.value?.type==="block-scalar"&&(f.value.props.find(v=>v.type==="newline")||f.value.props.push({type:"newline",indent:0,offset:f.value.offset,source:`
`}))}}const u=Be.create(n.positionAt(s.offset),n.positionAt(s.offset+s.length));r.push(Ar.create("Fix key order for this map",ro(n.uri,[Pt.replace(u,vv(o.srcToken))]),Ur.QuickFix))}}return r}getPossibleQuickFixValues(t){if(typeof t.data=="object"){if(t.code===Bn.EnumValueMismatch&&"values"in t.data&&Array.isArray(t.data.values))return t.data.values;if(t.code===Bn.PropertyExpected&&"properties"in t.data&&Array.isArray(t.data.properties))return t.data.properties}}getQuickFixForPropertyOrValueMismatch(t,n){const r=[];for(const i of t){const s=this.getPossibleQuickFixValues(i);if(s?.length)for(const o of s)r.push(Ar.create(o,ro(n.uri,[Pt.replace(i.range,o)]),Ur.QuickFix))}return r}}function __(e,t){const n=pr.getYamlDocument(e),r=e.offsetAt(t.range.start);return Jc(r,n).getNodeFromOffset(r)}function ro(e,t){const n={};return n[e]=t,{changes:n}}function GI(e,t){const{position:n}=t,r=new xs(e);if(t.ch===`
`){const i=r.getLineContent(n.line-1);if(i.trimRight().endsWith(":")){const s=r.getLineContent(n.line),o=s.substring(n.character,s.length),u=i.indexOf(" - ")!==-1;if(o.trimRight().length===0){const c=n.character-(i.length-i.trimLeft().length);if(c===t.options.tabSize&&!u)return;const f=[];return s.length>0&&f.push(Pt.del(Be.create(n,tn.create(n.line,s.length-1)))),f.push(Pt.insert(n," ".repeat(t.options.tabSize+(u?2-c:0)))),f}if(u)return[Pt.insert(n," ".repeat(t.options.tabSize))]}if(i.trimRight().endsWith("|"))return[Pt.insert(n," ".repeat(t.options.tabSize))];if(i.includes(" - ")&&!i.includes(": "))return[Pt.insert(n,"- ")];if(i.includes(" - ")&&i.includes(": "))return[Pt.insert(n,"  ")]}}function E_(e){const t=new Map;return e&&(e.url?e.url.startsWith("schemaservice://combinedSchema/")?S_(e,t):t.set(e.url,e):S_(e,t)),t}function S_(e,t){e.allOf&&Ym(e.allOf,t),e.anyOf&&Ym(e.anyOf,t),e.oneOf&&Ym(e.oneOf,t)}function Ym(e,t){for(const n of e)!qo(n)&&n.url&&!t.has(n.url)&&t.set(n.url,n)}class JI{constructor(t,n){this.schemaService=t,this.telemetry=n}async getCodeLens(t){const n=[];try{const r=pr.getYamlDocument(t);let i=new Map;for(const s of r.documents){const o=await this.schemaService.getSchemaForResource(t.uri,s);o?.schema&&(i=new Map([...E_(o?.schema),...i]))}for(const s of i){const o=yc.create(Be.create(0,0,0,0));o.command={title:Pv(s[1],s[0]),command:Vf.JUMP_TO_SCHEMA,arguments:[s[0]]},n.push(o)}}catch(r){this.telemetry?.sendError("yaml.codeLens.error",r)}return n}resolveCodeLens(t){return t}}class QI{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function XI(e,t,n,r,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let s;for(s=0;s<t&&s<r;s++){const v=e.charCodeAt(s),w=n.charCodeAt(s);if(v!==w)break}let o=0,u=0;for(let v=s;v<t;v++)e.charCodeAt(v)===32?o++:u++;let c=0,f=0;for(let v=s;v<r;v++)n.charCodeAt(v)===32?c++:f++;if(o>0&&u>0||c>0&&f>0)return;const d=Math.abs(u-f),h=Math.abs(o-c);if(d===0){i.spacesDiff=h,h>0&&0<=c-1&&c-1<e.length&&c<n.length&&n.charCodeAt(c)!==32&&e.charCodeAt(c-1)===32&&e.charCodeAt(e.length-1)===44&&(i.looksLikeAlignment=!0);return}h%d===0&&(i.spacesDiff=h/d)}function ZI(e,t,n){const r=Math.min(e.getLineCount(),1e4);let i=0,s=0,o="",u=0;const c=[2,4,6,8,3,5,7],f=8,d=[0,0,0,0,0,0,0,0,0],h=new QI;for(let k=1;k<=r;k++){const $=e.getLineLength(k),_=e.getLineContent(k),T=$<=65536;let b=!1,m=0,y=0,p=0;for(let E=0,P=$;E<P;E++){const C=T?_.charCodeAt(E):e.getLineCharCode(k,E);if(C===9)p++;else if(C===32)y++;else{b=!0,m=E;break}}if(!b||(p>0?i++:y>1&&s++,XI(o,u,_,m,h),h.looksLikeAlignment&&t!==h.spacesDiff))continue;const D=h.spacesDiff;D<=f&&d[D]++,o=_,u=m}let v=n;i!==s&&(v=i<s);let w=t;if(v){let k=v?0:.1*r;c.forEach($=>{const _=d[$];_>k&&(k=_,w=$)}),w===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(w=2)}return{insertSpaces:v,tabSize:w}}function Hf(e,t,n,r,i=0,s=0){if(e!==null&&typeof e=="object"){const o=i===0&&r.shouldIndentWithTab||i>0?t+r.indentation:"";if(Array.isArray(e)){if(s+=1,e.length===0)return"";let u="";for(let c=0;c<e.length;c++){let f=e[c];if(typeof e[c]!="object"){u+=`
`+o+"- "+n(e[c]);continue}Array.isArray(e[c])||(f=eM(e[c],s)),u+=Hf(f,t,n,r,i+=1,s)}return u}else{const u=Object.keys(e);if(u.length===0)return"";let c=i===0&&r.newLineFirst||i>0?`
`:"",f=!0;for(let d=0;d<u.length;d++){const h=u[d];if(i===0&&r.existingProps.includes(h))continue;const v=typeof e[h]=="object",w=v?":":": ",k=v&&/^\s|-/.test(h)?r.indentation:"",$=o+k,_=f?"":`
`;if(i===0&&f&&!r.indentFirstObject){const T=Hf(e[h],$,n,r,i+1,0);c+=_+t+h+w+T}else{const T=Hf(e[h],$,n,r,i+1,0);c+=_+o+h+w+T}f=!1}return c}}return n(e)}function eM(e,t){const n={};for(let r=0;r<Object.keys(e).length;r++){const i=Object.keys(e)[r];r===0?n["- ".repeat(t)+i]=e[i]:n["  ".repeat(t)+i]=e[i]}return n}const tM=Ki.loadMessageBundle(),$_=/[\\]+"/g,k_=qn.Class,Kf="__";class nM{constructor(t,n={},r,i){this.schemaService=t,this.clientCapabilities=n,this.yamlDocument=r,this.telemetry=i,this.completionEnabled=!0,this.arrayPrefixIndentation="",this.isNumberExp=/^\d+$/}configure(t,n){t&&(this.completionEnabled=t.completion),this.customTags=t.customTags,this.yamlVersion=t.yamlVersion,this.isSingleQuote=n?.yamlFormatterSettings?.singleQuote||!1,this.configuredIndentation=t.indentation,this.disableDefaultProperties=t.disableDefaultProperties,this.parentSkeletonSelectedFirst=t.parentSkeletonSelectedFirst}async doComplete(t,n,r=!1,i=!0){const s=gc.create([],!1);if(!this.completionEnabled)return s;const o=this.yamlDocument.getYamlDocument(t,{customTags:this.customTags,yamlVersion:this.yamlVersion},!0),u=new xs(t);if(this.configuredIndentation)this.indentation=this.configuredIndentation;else{const p=ZI(u,2,!0);this.indentation=p.insertSpaces?" ".repeat(p.tabSize):"	"}r1(o.documents,r);for(const p of o.documents)p.uri=t.uri;const c=t.offsetAt(n),f=t.getText();if(f.charAt(c-1)===":")return Promise.resolve(s);let d=Jc(c,o);if(d===null)return Promise.resolve(s);d=d.clone();let[h,v]=d.getNodeFromPosition(c,u,this.indentation.length);const w=this.getCurrentWord(t,c);let k=u.getLineContent(n.line);const $=k.substring(n.character),_=/^[ ]+\n?$/.test($);this.arrayPrefixIndentation="";let T=null;if(_){T=Be.create(n,tn.create(n.line,k.length));const p=k.trim().length===0,D=k.match(/^\s*(-)\s*$/);if(h&&Je(h)&&!p&&!D){const E=k.substring(0,n.character),P=E.match(/^[\s-]*([^:]+)?$/)||E.match(/:[ \t]((?!:[ \t]).*)$/);P?.[1]&&(T=Be.create(tn.create(n.line,n.character-P[1].length),tn.create(n.line,k.length)))}}else if(h&&Je(h)&&h.value==="null"){const p=t.positionAt(h.range[0]);p.character+=1;const D=t.positionAt(h.range[2]);D.character+=1,T=Be.create(p,D)}else if(h&&Je(h)&&h.value){const p=t.positionAt(h.range[0]);T=Be.create(p,t.positionAt(h.range[1]))}else if(h&&Je(h)&&h.value===null&&w==="-")T=Be.create(n,n),this.arrayPrefixIndentation=" ";else{let p=c-w.length;p>0&&f[p-1]==='"'&&p--,T=Be.create(t.positionAt(p),n)}const b={},m={add:(p,D)=>{const E=function(F){if(b[F.label]?.label===Kf)return;const Q=F.parent.schema,ae=mp(Q),ce=Q.markdownDescription||Q.description;let he=s.items.find(Te=>Te.parent?.schema===Q&&Te.kind===k_);he&&he.parent.insertTexts.includes(F.insertText)||(he?he.parent.insertTexts.push(F.insertText):(he={...F,label:ae,documentation:ce,sortText:"_"+ae,kind:k_},he.label=he.label||F.label,he.parent.insertTexts=[F.insertText],s.items.push(he)))},P=!!p.parent;let C=p.label;if(!C){console.warn(`Ignoring CompletionItem without label: ${JSON.stringify(p)}`);return}if(Bo(C)||(C=String(C)),C=C.replace(/[\n]/g,"↵"),C.length>60){const F=C.substr(0,57).trim()+"...";b[F]||(C=F)}if(p.insertText.endsWith("$1")&&!P&&(p.insertText=p.insertText.substr(0,p.insertText.length-2)),T&&T.start.line===T.end.line&&(p.textEdit=Pt.replace(T,p.insertText)),p.label=C,P){E(p);return}this.arrayPrefixIndentation&&this.updateCompletionText(p,this.arrayPrefixIndentation+p.insertText);const R=b[C],I=R?.label!==Kf&&R?.insertText!==p.insertText;if(!R)b[C]=p,s.items.push(p);else if(I){const F=this.mergeSimpleInsertTexts(C,R.insertText,p.insertText,D);F?this.updateCompletionText(R,F):(b[C]=p,s.items.push(p))}R&&!R.documentation&&p.documentation&&(R.documentation=p.documentation)},error:p=>{this.telemetry?.sendError("yaml.completion.error",p)},log:p=>{console.log(p)},getNumberOfProposals:()=>s.items.length,result:s,proposed:b};this.customTags&&this.customTags.length>0&&this.getCustomTagValueCompletions(m),k.endsWith(`
`)&&(k=k.substr(0,k.length-1));try{const p=await this.schemaService.getSchemaForResource(t.uri,d);if((!p||p.errors.length)&&n.line===0&&n.character===0&&!$p(k)){const C={kind:qn.Text,label:"Inline schema",insertText:"# yaml-language-server: $schema=",insertTextFormat:pn.PlainText};s.items.push(C)}if($p(k)||rC(o.tokens,c)){const C=k.indexOf("$schema=");return C!==-1&&C+8<=n.character&&this.schemaService.getAllSchemas().forEach(R=>{const I={kind:qn.Constant,label:R.name??R.uri,detail:R.description,insertText:R.uri,insertTextFormat:pn.PlainText,insertTextMode:pc.asIs};s.items.push(I)}),s}if(!p||p.errors.length)return s;let D=null;if(!h)if(!d.internalDocument.contents||Je(d.internalDocument.contents)){const C=d.internalDocument.createNode({});C.range=[c,c+1,c+1],d.internalDocument.contents=C,d.updateFromInternalDocument(),h=C}else h=d.findClosestNode(c,u),v=!0;const E=h;if(h)if(k.length===0)h=d.internalDocument.contents;else{const C=d.getParent(h);if(C){if(Je(h)){if(h.value){if(wt(C)){if(C.value===h){if(k.trim().length>0&&k.indexOf(":")<0){const R=this.createTempObjNode(w,h,d),I=d.getParent(C);if(sn(d.internalDocument.contents)){const F=nC(d.internalDocument.contents,C);typeof F=="number"&&(d.internalDocument.set(F,R),d.updateFromInternalDocument())}else I&&(Jt(I)||sn(I))?(I.set(C.key,R),d.updateFromInternalDocument()):(d.internalDocument.set(C.key,R),d.updateFromInternalDocument());D=R.items[0],h=R}else if(k.trim().length===0){const R=d.getParent(C);R&&(h=R)}}else if(C.key===h){const R=d.getParent(C);D=C,R&&(h=R)}}else if(sn(C))if(k.trim().length>0){const R=this.createTempObjNode(w,h,d);C.delete(h),C.add(R),d.updateFromInternalDocument(),h=R}else h=C}else if(h.value===null){if(wt(C)){if(C.key===h)h=C;else if($t(C.key)&&C.key.range){const R=d.getParent(C);if(v&&R&&Jt(R)&&tC(R))h=R;else{const I=t.positionAt(C.key.range[0]);if(n.character>I.character&&n.line!==I.line){const F=this.createTempObjNode(w,h,d);R&&(Jt(R)||sn(R))?(R.set(C.key,F),d.updateFromInternalDocument()):(d.internalDocument.set(C.key,F),d.updateFromInternalDocument()),D=F.items[0],h=F}else I.character===n.character&&R&&(h=R)}}}else if(sn(C))if(k.charAt(n.character-1)!=="-"){const R=this.createTempObjNode(w,h,d);C.delete(h),C.add(R),d.updateFromInternalDocument(),h=R}else if(k.charAt(n.character-1)==="-"){const R=this.createTempObjNode("",h,d);C.delete(h),C.add(R),d.updateFromInternalDocument(),h=R}else h=C}}else if(Jt(h)&&!v&&k.trim().length===0&&sn(C)){const R=u.getLineContent(n.line+1);(u.getLineCount()===n.line+1||R.trim().length===0)&&(h=C)}}else if(Je(h)){const R=this.createTempObjNode(w,h,d);d.internalDocument.contents=R,d.updateFromInternalDocument(),D=R.items[0],h=R}else if(Jt(h))for(const R of h.items)$t(R.value)&&R.value.range&&R.value.range[0]===c+1&&(h=R.value);else if(sn(h)&&k.charAt(n.character-1)!=="-"){const R=this.createTempObjNode(w,h,d);R.items=[],d.updateFromInternalDocument();for(const I of h.items)Jt(I)&&I.items.forEach(F=>{R.items.push(F)});h=R}}if(h&&Jt(h)){const C=h.items;for(const R of C)(!D||D!==R)&&Je(R.key)&&(b[R.key.value+""]=mc.create(Kf));this.addPropertyCompletions(p,d,h,E,"",m,u,T,i),!p&&w.length>0&&f.charAt(c-w.length-1)!=='"'&&m.add({kind:qn.Property,label:w,insertText:this.getInsertTextForProperty(w,null,""),insertTextFormat:pn.Snippet})}const P={};this.getValueCompletions(p,d,h,c,t,m,P,i)}catch(p){this.telemetry?.sendError("yaml.completion.error",p)}this.finalizeParentCompletion(s);const y=s.items.filter((p,D,E)=>D===E.findIndex(P=>P.label===p.label&&P.insertText===p.insertText&&P.kind===p.kind));return y?.length>0&&(s.items=y),s}updateCompletionText(t,n){t.insertText=n,t.textEdit&&(t.textEdit.newText=n)}mergeSimpleInsertTexts(t,n,r,i){const s=h=>h.includes(`
`),o=h=>h.startsWith(`
`),u=h=>{const v=h.indexOf(`
`);return v>0&&h.substring(v,h.length).trim().length===0};if(s(n)||s(r))return i&&u(n)&&!u(r)&&!o(r)?r:void 0;const c=this.getValuesFromInsertText(n),f=this.getValuesFromInsertText(r),d=Array.prototype.concat(c,f);if(d.length)return d.length===1?`${t}: \${1:${d[0]}}`:`${t}: \${1|${d.join(",")}|}`}getValuesFromInsertText(t){const n=t.substring(t.indexOf(":")+1).trim();if(!n)return[];const r=n.match(/^\${1[|:]([^|]*)+\|?}$/);return r?r[1].split(","):[n]}finalizeParentCompletion(t){const n=r=>{let i=0;return r.map(s=>{const o=s.match(/\$([0-9]+)|\${[0-9]+:/g);if(!o)return s;const u=o.map(f=>+f.replace(/\${([0-9]+)[:|]/g,"$1").replace("$","")).reduce((f,d)=>d>f?d:f,0),c=s.replace(/\$([0-9]+)/g,(f,d)=>"$"+(+d+i)).replace(/\${([0-9]+)[:|]/g,(f,d)=>"${"+(+d+i)+":");return i+=u,c})};t.items.forEach(r=>{if(this.isParentCompletionItem(r)){const i=r.parent.indent||"";let o=n(r.parent.insertTexts).join(`
${i}`);o.endsWith("$1")&&(o=o.substring(0,o.length-2)),r.insertText=this.arrayPrefixIndentation+o,r.textEdit&&(r.textEdit.newText=r.insertText);const u=o.replace(/\${[0-9]+[:|](.*)}/g,(f,d)=>d).replace(/\$([0-9]+)/g,""),c=r.documentation?[r.documentation,"","----",""]:[];r.documentation={kind:Wr.Markdown,value:[...c,"```yaml",i+u,"```"].join(`
`)},delete r.parent}})}createTempObjNode(t,n,r){const i={};i[t]=null;const s=r.internalDocument.createNode(i);return s.range=n.range,s.items[0].key.range=n.range,s.items[0].value.range=n.range,s}addPropertyCompletions(t,n,r,i,s,o,u,c,f){const d=n.getMatchingSchemas(t.schema,-1,null,f),h=u.getText(c),v=u.getLineContent(c.start.line),w=v.trim().length===0,k=v.indexOf(":")!==-1,$=v.trimLeft().indexOf("-")===0,_=n.getParent(r),T=d.find(y=>y.node.internalNode===i&&y.schema.properties),b=d.filter(y=>y.schema.oneOf).map(y=>y.schema.oneOf)[0];let m=!1;b?.length<d.length&&b?.forEach((y,p)=>{!d[p]?.schema.oneOf&&d[p]?.schema.properties===y.properties&&(m=!0)});for(const y of d){if((y.node.internalNode===r&&!T||y.node.internalNode===i&&!k||y.node.parent?.internalNode===i&&!k)&&!y.inverted){this.collectDefaultSnippets(y.schema,s,o,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:$});const p=y.schema.properties;if(p){const D=y.schema.maxProperties;if(D===void 0||r.items===void 0||r.items.length<D||r.items.length===D&&!w){for(const E in p)if(Object.prototype.hasOwnProperty.call(p,E)){const P=p[E];if(typeof P=="object"&&!P.deprecationMessage&&!P.doNotSuggest){let C="";if(_&&sn(_)&&r.items.length<=1&&!w){const Q=u.getText(),ae=Q.lastIndexOf("-",r.range[0]-1);if(ae>=0){const ce=c.end.character-c.start.character;C=" "+Q.slice(ae+1,r.range[1]-ce)}}C+=this.arrayPrefixIndentation;let R;P.type==="array"&&(R=r.items.find(Q=>Je(Q.key)&&Q.key.range&&Q.key.value===E&&Je(Q.value)&&!Q.value.value&&u.getPosition(Q.key.range[2]).line===c.end.line-1))&&R&&(Array.isArray(P.items)?this.addSchemaValueCompletions(P.items[0],s,o,{},"property"):typeof P.items=="object"&&P.items.type==="object"&&this.addArrayItemValueCompletion(P.items,s,o));let I=E;(!E.startsWith(h)||!k)&&(I=this.getInsertTextForProperty(E,P,s,C+this.indentation));const F=Je(i)&&i.value===null||Jt(i)&&i.items.length===0,j=y.schema.required?.length>0;(!this.parentSkeletonSelectedFirst||!F||!j)&&o.add({kind:qn.Property,label:E,insertText:I,insertTextFormat:pn.Snippet,documentation:this.fromMarkup(P.markdownDescription)||P.description||""},m),y.schema.required?.includes(E)&&o.add({label:E,insertText:this.getInsertTextForProperty(E,P,s,C+this.indentation),insertTextFormat:pn.Snippet,documentation:this.fromMarkup(P.markdownDescription)||P.description||"",parent:{schema:y.schema,indent:C}})}}}}if(_&&sn(_)&&wA(y.schema)&&this.addSchemaValueCompletions(y.schema,s,o,{},"property",Array.isArray(_.items)),y.schema.propertyNames&&y.schema.additionalProperties&&y.schema.type==="object"){const D=Fn(y.schema.propertyNames),E=D.title||"property";o.add({kind:qn.Property,label:E,insertText:`\${1:${E}}: `,insertTextFormat:pn.Snippet,documentation:this.fromMarkup(D.markdownDescription)||D.description||""})}}_&&y.node.internalNode===_&&y.schema.defaultSnippets&&(r.items.length===1?this.collectDefaultSnippets(y.schema,s,o,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:!0},1):this.collectDefaultSnippets(y.schema,s,o,{newLineFirst:!1,indentFirstObject:!0,shouldIndentWithTab:!1},1))}}getValueCompletions(t,n,r,i,s,o,u,c){let f=null;if(r&&Je(r)&&(r=n.getParent(r)),!r){this.addSchemaValueCompletions(t.schema,"",o,u,"value");return}if(wt(r)){const d=r.value;if(d&&d.range&&i>d.range[0]+d.range[2])return;f=Je(r.key)?r.key.value+"":null,r=n.getParent(r)}if(r&&(f!==null||sn(r))){const d="",h=n.getMatchingSchemas(t.schema,-1,null,c);for(const v of h)if(v.node.internalNode===r&&!v.inverted&&v.schema){if(v.schema.items&&(this.collectDefaultSnippets(v.schema,d,o,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:!1}),sn(r)&&r.items))if(Array.isArray(v.schema.items)){const w=this.findItemAtOffset(r,s,i);w<v.schema.items.length&&this.addSchemaValueCompletions(v.schema.items[w],d,o,u,"value")}else typeof v.schema.items=="object"&&(v.schema.items.type==="object"||gp(v.schema.items))?this.addSchemaValueCompletions(v.schema.items,d,o,u,"value",!0):this.addSchemaValueCompletions(v.schema.items,d,o,u,"value");if(v.schema.properties){const w=v.schema.properties[f];w&&this.addSchemaValueCompletions(w,d,o,u,"value")}v.schema.additionalProperties&&this.addSchemaValueCompletions(v.schema.additionalProperties,d,o,u,"value")}u.boolean&&(this.addBooleanValueCompletion(!0,d,o),this.addBooleanValueCompletion(!1,d,o)),u.null&&this.addNullValueCompletion(d,o)}}addArrayItemValueCompletion(t,n,r,i){const s=mp(t),o=`- ${this.getInsertTextForObject(t,n).insertText.trimLeft()}`,u=s?" type `"+s+"`":"",c=t.description?" ("+t.description+")":"",f=this.getDocumentationWithMarkdownText(`Create an item of an array${u}${c}`,o);r.add({kind:this.getSuggestionKind(t.type),label:"- (array item) "+(s||i),documentation:f,insertText:o,insertTextFormat:pn.Snippet})}getInsertTextForProperty(t,n,r,i=this.indentation){const s=this.getInsertTextForValue(t,"","string"),o=s+":";let u,c=0;if(n){let f=Array.isArray(n.type)?n.type[0]:n.type;if(f||(n.properties?f="object":n.items?f="array":n.anyOf&&(f="anyOf")),Array.isArray(n.defaultSnippets)){if(n.defaultSnippets.length===1){const d=n.defaultSnippets[0].body;Ls(d)&&(u=this.getInsertTextForSnippetValue(d,"",{newLineFirst:!0,indentFirstObject:!1,shouldIndentWithTab:!1},[],1),!u.startsWith(" ")&&!u.startsWith(`
`)&&(u=" "+u))}c+=n.defaultSnippets.length}if(n.enum&&(!u&&n.enum.length===1&&(u=" "+this.getInsertTextForGuessedValue(n.enum[0],"",f)),c+=n.enum.length),n.const&&(u||(u=this.getInsertTextForGuessedValue(n.const,"",f),u=this.evaluateTab1Symbol(u),u=" "+u),c++),Ls(n.default)&&(u||(u=" "+this.getInsertTextForGuessedValue(n.default,"",f)),c++),Array.isArray(n.examples)&&n.examples.length&&(u||(u=" "+this.getInsertTextForGuessedValue(n.examples[0],"",f)),c+=n.examples.length),n.properties)return`${o}
${this.getInsertTextForObject(n,r,i).insertText}`;if(n.items)return`${o}
${i}- ${this.getInsertTextForArray(n.items,r,1,i).insertText}`;if(c===0)switch(f){case"boolean":u=" $1";break;case"string":u=" $1";break;case"object":u=`
${i}`;break;case"array":u=`
${i}- `;break;case"number":case"integer":u=" ${1:0}";break;case"null":u=" ${1:null}";break;case"anyOf":u=" $1";break;default:return s}}return(!u||c>1)&&(u=" $1"),o+u+r}getInsertTextForObject(t,n,r=this.indentation,i=1){let s="";return t.properties?(Object.keys(t.properties).forEach(o=>{const u=t.properties[o];let c=Array.isArray(u.type)?u.type[0]:u.type;if(c||(u.anyOf&&(c="anyOf"),u.properties&&(c="object"),u.items&&(c="array")),t.required&&t.required.indexOf(o)>-1)switch(c){case"boolean":case"string":case"number":case"integer":case"anyOf":{let f=u.default||u.const;f?(c==="string"&&(f=this.convertToStringValue(f)),s+=`${r}${o}: \${${i++}:${f}}
`):s+=`${r}${o}: $${i++}
`;break}case"array":{const f=this.getInsertTextForArray(u.items,n,i++,r),d=f.insertText.split(`
`);let h=f.insertText;if(d.length>1){for(let v=1;v<d.length;v++){const w=d[v];d[v]=`  ${w}`}h=d.join(`
`)}i=f.insertIndex,s+=`${r}${o}:
${r}${this.indentation}- ${h}
`}break;case"object":{const f=this.getInsertTextForObject(u,n,`${r}${this.indentation}`,i++);i=f.insertIndex,s+=`${r}${o}:
${f.insertText}
`}break}else if(!this.disableDefaultProperties&&u.default!==void 0)switch(c){case"boolean":case"number":case"integer":s+=`${r}${o==="null"?this.getInsertTextForValue(o,"","string"):o}: \${${i++}:${u.default}}
`;break;case"string":s+=`${r}${o}: \${${i++}:${this.convertToStringValue(u.default)}}
`;break}}),s.trim().length===0&&(s=`${r}$${i++}
`),s=s.trimRight()+n,{insertText:s,insertIndex:i}):(s=`${r}$${i++}
`,{insertText:s,insertIndex:i})}getInsertTextForArray(t,n,r=1,i=this.indentation){let s="";if(!t)return s=`$${r++}`,{insertText:s,insertIndex:r};let o=Array.isArray(t.type)?t.type[0]:t.type;switch(o||(t.properties&&(o="object"),t.items&&(o="array")),t.type){case"boolean":s=`\${${r++}:false}`;break;case"number":case"integer":s=`\${${r++}:0}`;break;case"string":s=`\${${r++}}`;break;case"object":{const u=this.getInsertTextForObject(t,n,`${i}  `,r++);s=u.insertText.trimLeft(),r=u.insertIndex}break}return{insertText:s,insertIndex:r}}getInsertTextForGuessedValue(t,n,r){switch(typeof t){case"object":return t===null?"${1:null}"+n:this.getInsertTextForValue(t,n,r);case"string":{let i=JSON.stringify(t);return i=i.substr(1,i.length-2),i=this.getInsertTextForPlainText(i),r==="string"&&(i=this.convertToStringValue(i)),"${1:"+i+"}"+n}case"number":case"boolean":return"${1:"+t+"}"+n}return this.getInsertTextForValue(t,n,r)}getInsertTextForPlainText(t){return t.replace(/[\\$}]/g,"\\$&")}getInsertTextForValue(t,n,r){if(t===null)return"null";switch(typeof t){case"object":{const i=this.indentation;return this.getInsertTemplateForValue(t,i,{index:1},n)}case"number":case"boolean":return this.getInsertTextForPlainText(t+n)}return r=Array.isArray(r)?r[0]:r,r==="string"&&(t=this.convertToStringValue(t)),this.getInsertTextForPlainText(t+n)}getInsertTemplateForValue(t,n,r,i){if(Array.isArray(t)){let s=`
`;for(const o of t)s+=`${n}- \${${r.index++}:${o}}
`;return s}else if(typeof t=="object"){let s=`
`;for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const u=t[o];s+=`${n}\${${r.index++}:${o}}:`;let c;typeof u=="object"?c=`${this.getInsertTemplateForValue(u,n+this.indentation,r,i)}`:c=` \${${r.index++}:${this.getInsertTextForPlainText(u+i)}}
`,s+=`${c}`}return s}return this.getInsertTextForPlainText(t+i)}addSchemaValueCompletions(t,n,r,i,s,o){typeof t=="object"&&(this.addEnumValueCompletions(t,n,r,o),this.addDefaultValueCompletions(t,n,r),this.collectTypes(t,i),o&&s==="value"&&!gp(t)&&this.addArrayItemValueCompletion(t,n,r),Array.isArray(t.allOf)&&t.allOf.forEach(u=>this.addSchemaValueCompletions(u,n,r,i,s,o)),Array.isArray(t.anyOf)&&t.anyOf.forEach(u=>this.addSchemaValueCompletions(u,n,r,i,s,o)),Array.isArray(t.oneOf)&&t.oneOf.forEach(u=>this.addSchemaValueCompletions(u,n,r,i,s,o)))}collectTypes(t,n){if(Array.isArray(t.enum)||Ls(t.const))return;const r=t.type;Array.isArray(r)?r.forEach(function(i){return n[i]=!0}):r&&(n[r]=!0)}addDefaultValueCompletions(t,n,r,i=0){let s=!1;if(Ls(t.default)){let o=t.type,u=t.default;for(let f=i;f>0;f--)u=[u],o="array";let c;typeof u=="object"?c="Default value":c=u.toString().replace($_,'"'),r.add({kind:this.getSuggestionKind(o),label:c,insertText:this.getInsertTextForValue(u,n,o),insertTextFormat:pn.Snippet,detail:tM("json.suggest.default","Default value")}),s=!0}Array.isArray(t.examples)&&t.examples.forEach(o=>{let u=t.type,c=o;for(let f=i;f>0;f--)c=[c],u="array";r.add({kind:this.getSuggestionKind(u),label:this.getLabelForValue(c),insertText:this.getInsertTextForValue(c,n,u),insertTextFormat:pn.Snippet}),s=!0}),this.collectDefaultSnippets(t,n,r,{newLineFirst:!0,indentFirstObject:!0,shouldIndentWithTab:!0}),!s&&typeof t.items=="object"&&!Array.isArray(t.items)&&this.addDefaultValueCompletions(t.items,n,r,i+1)}addEnumValueCompletions(t,n,r,i){if(Ls(t.const)&&!i&&r.add({kind:this.getSuggestionKind(t.type),label:this.getLabelForValue(t.const),insertText:this.getInsertTextForValue(t.const,n,t.type),insertTextFormat:pn.Snippet,documentation:this.fromMarkup(t.markdownDescription)||t.description}),Array.isArray(t.enum))for(let s=0,o=t.enum.length;s<o;s++){const u=t.enum[s];let c=this.fromMarkup(t.markdownDescription)||t.description;t.markdownEnumDescriptions&&s<t.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?c=this.fromMarkup(t.markdownEnumDescriptions[s]):t.enumDescriptions&&s<t.enumDescriptions.length&&(c=t.enumDescriptions[s]),r.add({kind:this.getSuggestionKind(t.type),label:this.getLabelForValue(u),insertText:this.getInsertTextForValue(u,n,t.type),insertTextFormat:pn.Snippet,documentation:c})}}getLabelForValue(t){return t===null?"null":Array.isArray(t)?JSON.stringify(t):""+t}collectDefaultSnippets(t,n,r,i,s=0){if(Array.isArray(t.defaultSnippets))for(const o of t.defaultSnippets){let u=t.type,c=o.body,f=o.label,d,h;if(Ls(c)){const v=o.type||t.type;if(s===0&&v==="array"){const k={};Object.keys(c).forEach(($,_)=>{_===0&&!$.startsWith("-")?k[`- ${$}`]=c[$]:k[`  ${$}`]=c[$]}),c=k}const w=Object.keys(r.proposed).filter(k=>r.proposed[k].label===Kf);if(d=this.getInsertTextForSnippetValue(c,n,i,w),d===""&&c)continue;f=f||this.getLabelForSnippetValue(c)}else if(typeof o.bodyText=="string"){let v="",w="",k="";for(let $=s;$>0;$--)v=v+k+`[
`,w=w+`
`+k+"]",k+=this.indentation,u="array";d=v+k+o.bodyText.split(`
`).join(`
`+k)+w+n,f=f||d,h=d.replace(/[\n]/g,"")}r.add({kind:o.suggestionKind||this.getSuggestionKind(u),label:f,sortText:o.sortText||o.label,documentation:this.fromMarkup(o.markdownDescription)||o.description,insertText:d,insertTextFormat:pn.Snippet,filterText:h})}}getInsertTextForSnippetValue(t,n,r,i,s){return Hf(t,"",u=>{if(typeof u=="string"){if(u[0]==="^")return u.substr(1);if(u==="true"||u==="false")return`"${u}"`}return u},{...r,indentation:this.indentation,existingProps:i},s)+n}addBooleanValueCompletion(t,n,r){r.add({kind:this.getSuggestionKind("boolean"),label:t?"true":"false",insertText:this.getInsertTextForValue(t,n,"boolean"),insertTextFormat:pn.Snippet,documentation:""})}addNullValueCompletion(t,n){n.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+t,insertTextFormat:pn.Snippet,documentation:""})}getLabelForSnippetValue(t){return JSON.stringify(t).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getCustomTagValueCompletions(t){Lv(this.customTags).forEach(r=>{const i=r.split(" ")[0];this.addCustomTagValueCompletion(t," ",i)})}addCustomTagValueCompletion(t,n,r){t.add({kind:this.getSuggestionKind("string"),label:r,insertText:r+n,insertTextFormat:pn.Snippet,documentation:""})}getDocumentationWithMarkdownText(t,n){let r=t;return this.doesSupportMarkdown()&&(n=n.replace(/\${[0-9]+[:|](.*)}/g,(i,s)=>s).replace(/\$([0-9]+)/g,""),r=this.fromMarkup(`${t}
 \`\`\`
${n}
\`\`\``)),r}getSuggestionKind(t){if(Array.isArray(t)){const n=t;t=n.length>0?n[0]:null}if(!t)return qn.Value;switch(t){case"string":return qn.Value;case"object":return qn.Module;case"property":return qn.Property;default:return qn.Value}}getCurrentWord(t,n){let r=n-1;const i=t.getText();for(;r>=0&&` 	
\r\v":{[,]}`.indexOf(i.charAt(r))===-1;)r--;return i.substring(r+1,n)}fromMarkup(t){if(t&&this.doesSupportMarkdown())return{kind:Wr.Markdown,value:t}}doesSupportMarkdown(){if(this.supportsMarkdown===void 0){const t=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=t&&t.completionItem&&Array.isArray(t.completionItem.documentationFormat)&&t.completionItem.documentationFormat.indexOf(Wr.Markdown)!==-1}return this.supportsMarkdown}findItemAtOffset(t,n,r){for(let i=t.items.length-1;i>=0;i--){const s=t.items[i];if($t(s)&&s.range){if(r>s.range[1])return i;if(r>=s.range[0])return i}}return 0}convertToStringValue(t){let n;if(typeof t=="string"){const i=this.isSingleQuote?"'":'"';n=["on","off","true","false","yes","no"].includes(t.toLowerCase())?`${i}${t}${i}`:t}else n=""+t;if(n.length===0)return n;if(n==="true"||n==="false"||n==="null"||this.isNumberExp.test(n))return`"${n}"`;n.indexOf('"')!==-1&&(n=n.replace($_,'"'));let r=!isNaN(parseInt(n))||n.charAt(0)==="@";if(!r){let i=n.indexOf(":",0);for(;i>0&&i<n.length;i=n.indexOf(":",i+1)){if(i===n.length-1){r=!0;break}const s=n.charAt(i+1);if(s==="	"||s===" "){r=!0;break}}}return r&&(n=`"${n}"`),n}evaluateTab1Symbol(t){return t.replace(/\$\{1:(.*)\}/,"$1")}isParentCompletionItem(t){return"parent"in t}}var io={},so={},Ni={},T_;function A_(){if(T_)return Ni;T_=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.SemanticTokensBuilder=Ni.SemanticTokensDiff=Ni.SemanticTokensFeature=void 0;const e=fn(),t=i=>class extends i{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(e.SemanticTokensRefreshRequest.type),on:s=>{const o=e.SemanticTokensRequest.type;return this.connection.onRequest(o,(u,c)=>s(u,c,this.attachWorkDoneProgress(u),this.attachPartialResultProgress(o,u)))},onDelta:s=>{const o=e.SemanticTokensDeltaRequest.type;return this.connection.onRequest(o,(u,c)=>s(u,c,this.attachWorkDoneProgress(u),this.attachPartialResultProgress(o,u)))},onRange:s=>{const o=e.SemanticTokensRangeRequest.type;return this.connection.onRequest(o,(u,c)=>s(u,c,this.attachWorkDoneProgress(u),this.attachPartialResultProgress(o,u)))}}}};Ni.SemanticTokensFeature=t;class n{constructor(s,o){this.originalSequence=s,this.modifiedSequence=o}computeDiff(){const s=this.originalSequence.length,o=this.modifiedSequence.length;let u=0;for(;u<o&&u<s&&this.originalSequence[u]===this.modifiedSequence[u];)u++;if(u<o&&u<s){let c=s-1,f=o-1;for(;c>=u&&f>=u&&this.originalSequence[c]===this.modifiedSequence[f];)c--,f--;(c<u||f<u)&&(c++,f++);const d=c-u+1,h=this.modifiedSequence.slice(u,f+1);return h.length===1&&h[0]===this.originalSequence[c]?[{start:u,deleteCount:d-1}]:[{start:u,deleteCount:d,data:h}]}else return u<o?[{start:u,deleteCount:0,data:this.modifiedSequence.slice(u)}]:u<s?[{start:u,deleteCount:s-u}]:[]}}Ni.SemanticTokensDiff=n;class r{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(s,o,u,c,f){let d=s,h=o;this._dataLen>0&&(d-=this._prevLine,d===0&&(h-=this._prevChar)),this._data[this._dataLen++]=d,this._data[this._dataLen++]=h,this._data[this._dataLen++]=u,this._data[this._dataLen++]=c,this._data[this._dataLen++]=f,this._prevLine=s,this._prevChar=o}get id(){return this._id.toString()}previousResult(s){this.id===s&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new n(this._prevData,this._data).computeDiff()}:this.build()}}return Ni.SemanticTokensBuilder=r,Ni}var Tu={},C_;function rM(){if(C_)return Tu;C_=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.InlineCompletionFeature=void 0;const e=fn(),t=n=>class extends n{get inlineCompletion(){return{on:r=>this.connection.onRequest(e.InlineCompletionRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i)))}}};return Tu.InlineCompletionFeature=t,Tu}var Au={},O_;function P_(){if(O_)return Au;O_=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.TextDocuments=void 0;const e=fn();class t{constructor(r){this._configuration=r,this._syncedDocuments=new Map,this._onDidChangeContent=new e.Emitter,this._onDidOpen=new e.Emitter,this._onDidClose=new e.Emitter,this._onDidSave=new e.Emitter,this._onWillSave=new e.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(r){this._willSaveWaitUntil=r}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(r){return this._syncedDocuments.get(r)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(r){r.__textDocumentSync=e.TextDocumentSyncKind.Incremental;const i=[];return i.push(r.onDidOpenTextDocument(s=>{const o=s.textDocument,u=this._configuration.create(o.uri,o.languageId,o.version,o.text);this._syncedDocuments.set(o.uri,u);const c=Object.freeze({document:u});this._onDidOpen.fire(c),this._onDidChangeContent.fire(c)})),i.push(r.onDidChangeTextDocument(s=>{const o=s.textDocument,u=s.contentChanges;if(u.length===0)return;const{version:c}=o;if(c==null)throw new Error(`Received document change event for ${o.uri} without valid version identifier`);let f=this._syncedDocuments.get(o.uri);f!==void 0&&(f=this._configuration.update(f,u,c),this._syncedDocuments.set(o.uri,f),this._onDidChangeContent.fire(Object.freeze({document:f})))})),i.push(r.onDidCloseTextDocument(s=>{let o=this._syncedDocuments.get(s.textDocument.uri);o!==void 0&&(this._syncedDocuments.delete(s.textDocument.uri),this._onDidClose.fire(Object.freeze({document:o})))})),i.push(r.onWillSaveTextDocument(s=>{let o=this._syncedDocuments.get(s.textDocument.uri);o!==void 0&&this._onWillSave.fire(Object.freeze({document:o,reason:s.reason}))})),i.push(r.onWillSaveTextDocumentWaitUntil((s,o)=>{let u=this._syncedDocuments.get(s.textDocument.uri);return u!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:u,reason:s.reason}),o):[]})),i.push(r.onDidSaveTextDocument(s=>{let o=this._syncedDocuments.get(s.textDocument.uri);o!==void 0&&this._onDidSave.fire(Object.freeze({document:o}))})),e.Disposable.create(()=>{i.forEach(s=>s.dispose())})}}return Au.TextDocuments=t,Au}var oo={},N_;function R_(){if(N_)return oo;N_=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.NotebookDocuments=oo.NotebookSyncFeature=void 0;const e=fn(),t=P_(),n=s=>class extends s{get synchronization(){return{onDidOpenNotebookDocument:o=>this.connection.onNotification(e.DidOpenNotebookDocumentNotification.type,u=>{o(u)}),onDidChangeNotebookDocument:o=>this.connection.onNotification(e.DidChangeNotebookDocumentNotification.type,u=>{o(u)}),onDidSaveNotebookDocument:o=>this.connection.onNotification(e.DidSaveNotebookDocumentNotification.type,u=>{o(u)}),onDidCloseNotebookDocument:o=>this.connection.onNotification(e.DidCloseNotebookDocumentNotification.type,u=>{o(u)})}}};oo.NotebookSyncFeature=n;class r{onDidOpenTextDocument(o){return this.openHandler=o,e.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(o){this.openHandler&&this.openHandler(o)}onDidChangeTextDocument(o){return this.changeHandler=o,e.Disposable.create(()=>{this.changeHandler=o})}changeTextDocument(o){this.changeHandler&&this.changeHandler(o)}onDidCloseTextDocument(o){return this.closeHandler=o,e.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(o){this.closeHandler&&this.closeHandler(o)}onWillSaveTextDocument(){return r.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return r.NULL_DISPOSE}onDidSaveTextDocument(){return r.NULL_DISPOSE}}r.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class i{constructor(o){o instanceof t.TextDocuments?this._cellTextDocuments=o:this._cellTextDocuments=new t.TextDocuments(o),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new e.Emitter,this._onDidChange=new e.Emitter,this._onDidSave=new e.Emitter,this._onDidClose=new e.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(o){return this._cellTextDocuments.get(o.document)}getNotebookDocument(o){return this.notebookDocuments.get(o)}getNotebookCell(o){const u=this.notebookCellMap.get(o);return u&&u[0]}findNotebookDocumentForCell(o){const u=typeof o=="string"?o:o.document,c=this.notebookCellMap.get(u);return c&&c[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(o){const u=new r,c=[];return c.push(this.cellTextDocuments.listen(u)),c.push(o.notebooks.synchronization.onDidOpenNotebookDocument(f=>{this.notebookDocuments.set(f.notebookDocument.uri,f.notebookDocument);for(const d of f.cellTextDocuments)u.openTextDocument({textDocument:d});this.updateCellMap(f.notebookDocument),this._onDidOpen.fire(f.notebookDocument)})),c.push(o.notebooks.synchronization.onDidChangeNotebookDocument(f=>{const d=this.notebookDocuments.get(f.notebookDocument.uri);if(d===void 0)return;d.version=f.notebookDocument.version;const h=d.metadata;let v=!1;const w=f.change;w.metadata!==void 0&&(v=!0,d.metadata=w.metadata);const k=[],$=[],_=[],T=[];if(w.cells!==void 0){const D=w.cells;if(D.structure!==void 0){const E=D.structure.array;if(d.cells.splice(E.start,E.deleteCount,...E.cells!==void 0?E.cells:[]),D.structure.didOpen!==void 0)for(const P of D.structure.didOpen)u.openTextDocument({textDocument:P}),k.push(P.uri);if(D.structure.didClose)for(const P of D.structure.didClose)u.closeTextDocument({textDocument:P}),$.push(P.uri)}if(D.data!==void 0){const E=new Map(D.data.map(P=>[P.document,P]));for(let P=0;P<=d.cells.length;P++){const C=E.get(d.cells[P].document);if(C!==void 0){const R=d.cells.splice(P,1,C);if(_.push({old:R[0],new:C}),E.delete(C.document),E.size===0)break}}}if(D.textContent!==void 0)for(const E of D.textContent)u.changeTextDocument({textDocument:E.document,contentChanges:E.changes}),T.push(E.document.uri)}this.updateCellMap(d);const b={notebookDocument:d};v&&(b.metadata={old:h,new:d.metadata});const m=[];for(const D of k)m.push(this.getNotebookCell(D));const y=[];for(const D of $)y.push(this.getNotebookCell(D));const p=[];for(const D of T)p.push(this.getNotebookCell(D));(m.length>0||y.length>0||_.length>0||p.length>0)&&(b.cells={added:m,removed:y,changed:{data:_,textContent:p}}),(b.metadata!==void 0||b.cells!==void 0)&&this._onDidChange.fire(b)})),c.push(o.notebooks.synchronization.onDidSaveNotebookDocument(f=>{const d=this.notebookDocuments.get(f.notebookDocument.uri);d!==void 0&&this._onDidSave.fire(d)})),c.push(o.notebooks.synchronization.onDidCloseNotebookDocument(f=>{const d=this.notebookDocuments.get(f.notebookDocument.uri);if(d!==void 0){this._onDidClose.fire(d);for(const h of f.cellTextDocuments)u.closeTextDocument({textDocument:h});this.notebookDocuments.delete(f.notebookDocument.uri);for(const h of d.cells)this.notebookCellMap.delete(h.document)}})),e.Disposable.create(()=>{c.forEach(f=>f.dispose())})}updateCellMap(o){for(const u of o.cells)this.notebookCellMap.set(u.document,[u,o])}}return oo.NotebookDocuments=i,oo}var mt={},un={},F_;function I_(){if(F_)return un;F_=1,Object.defineProperty(un,"__esModule",{value:!0}),un.thenable=un.typedArray=un.stringArray=un.array=un.func=un.error=un.number=un.string=un.boolean=void 0;function e(f){return f===!0||f===!1}un.boolean=e;function t(f){return typeof f=="string"||f instanceof String}un.string=t;function n(f){return typeof f=="number"||f instanceof Number}un.number=n;function r(f){return f instanceof Error}un.error=r;function i(f){return typeof f=="function"}un.func=i;function s(f){return Array.isArray(f)}un.array=s;function o(f){return s(f)&&f.every(d=>t(d))}un.stringArray=o;function u(f,d){return Array.isArray(f)&&f.every(d)}un.typedArray=u;function c(f){return f&&i(f.then)}return un.thenable=c,un}var tr={},M_;function L_(){if(M_)return tr;M_=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.generateUuid=tr.parse=tr.isUUID=tr.v4=tr.empty=void 0;class e{constructor(c){this._value=c}asHex(){return this._value}equals(c){return this.asHex()===c.asHex()}}class t extends e{static _oneOf(c){return c[Math.floor(c.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}}t._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],t._timeHighBits=["8","9","a","b"],tr.empty=new e("00000000-0000-0000-0000-000000000000");function n(){return new t}tr.v4=n;const r=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function i(u){return r.test(u)}tr.isUUID=i;function s(u){if(!i(u))throw new Error("invalid uuid");return new e(u)}tr.parse=s;function o(){return n().asHex()}return tr.generateUuid=o,tr}var Ri={},j_;function iM(){if(j_)return Ri;j_=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.attachPartialResult=Ri.ProgressFeature=Ri.attachWorkDone=void 0;const e=fn(),t=L_();class n{constructor(v,w){this._connection=v,this._token=w,n.Instances.set(this._token,this)}begin(v,w,k,$){let _={kind:"begin",title:v,percentage:w,message:k,cancellable:$};this._connection.sendProgress(e.WorkDoneProgress.type,this._token,_)}report(v,w){let k={kind:"report"};typeof v=="number"?(k.percentage=v,w!==void 0&&(k.message=w)):k.message=v,this._connection.sendProgress(e.WorkDoneProgress.type,this._token,k)}done(){n.Instances.delete(this._token),this._connection.sendProgress(e.WorkDoneProgress.type,this._token,{kind:"end"})}}n.Instances=new Map;class r extends n{constructor(v,w){super(v,w),this._source=new e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class i{constructor(){}begin(){}report(){}done(){}}class s extends i{constructor(){super(),this._source=new e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function o(h,v){if(v===void 0||v.workDoneToken===void 0)return new i;const w=v.workDoneToken;return delete v.workDoneToken,new n(h,w)}Ri.attachWorkDone=o;const u=h=>class extends h{constructor(){super(),this._progressSupported=!1}initialize(v){super.initialize(v),v?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(e.WorkDoneProgressCancelNotification.type,w=>{let k=n.Instances.get(w.token);(k instanceof r||k instanceof s)&&k.cancel()}))}attachWorkDoneProgress(v){return v===void 0?new i:new n(this.connection,v)}createWorkDoneProgress(){if(this._progressSupported){const v=(0,t.generateUuid)();return this.connection.sendRequest(e.WorkDoneProgressCreateRequest.type,{token:v}).then(()=>new r(this.connection,v))}else return Promise.resolve(new s)}};Ri.ProgressFeature=u;var c;(function(h){h.type=new e.ProgressType})(c||(c={}));class f{constructor(v,w){this._connection=v,this._token=w}report(v){this._connection.sendProgress(c.type,this._token,v)}}function d(h,v){if(v===void 0||v.partialResultToken===void 0)return;const w=v.partialResultToken;return delete v.partialResultToken,new f(h,w)}return Ri.attachPartialResult=d,Ri}var Cu={},x_;function sM(){if(x_)return Cu;x_=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.ConfigurationFeature=void 0;const e=fn(),t=I_(),n=r=>class extends r{getConfiguration(i){return i?t.string(i)?this._getConfiguration({section:i}):this._getConfiguration(i):this._getConfiguration({})}_getConfiguration(i){let s={items:Array.isArray(i)?i:[i]};return this.connection.sendRequest(e.ConfigurationRequest.type,s).then(o=>Array.isArray(o)?Array.isArray(i)?o:o[0]:Array.isArray(i)?[]:null)}};return Cu.ConfigurationFeature=n,Cu}var Ou={},q_;function oM(){if(q_)return Ou;q_=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.WorkspaceFoldersFeature=void 0;const e=fn(),t=n=>class extends n{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(r){super.initialize(r);let i=r.workspace;i&&i.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new e.Emitter,this.connection.onNotification(e.DidChangeWorkspaceFoldersNotification.type,s=>{this._onDidChangeWorkspaceFolders.fire(s.event)}))}fillServerCapabilities(r){super.fillServerCapabilities(r);const i=r.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=i===!0||typeof i=="string"}getWorkspaceFolders(){return this.connection.sendRequest(e.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(e.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};return Ou.WorkspaceFoldersFeature=t,Ou}var Pu={},B_;function aM(){if(B_)return Pu;B_=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.CallHierarchyFeature=void 0;const e=fn(),t=n=>class extends n{get callHierarchy(){return{onPrepare:r=>this.connection.onRequest(e.CallHierarchyPrepareRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i),void 0)),onIncomingCalls:r=>{const i=e.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))},onOutgoingCalls:r=>{const i=e.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))}}}};return Pu.CallHierarchyFeature=t,Pu}var Nu={},W_;function uM(){if(W_)return Nu;W_=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.ShowDocumentFeature=void 0;const e=fn(),t=n=>class extends n{showDocument(r){return this.connection.sendRequest(e.ShowDocumentRequest.type,r)}};return Nu.ShowDocumentFeature=t,Nu}var Ru={},U_;function cM(){if(U_)return Ru;U_=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.FileOperationsFeature=void 0;const e=fn(),t=n=>class extends n{onDidCreateFiles(r){return this.connection.onNotification(e.DidCreateFilesNotification.type,i=>{r(i)})}onDidRenameFiles(r){return this.connection.onNotification(e.DidRenameFilesNotification.type,i=>{r(i)})}onDidDeleteFiles(r){return this.connection.onNotification(e.DidDeleteFilesNotification.type,i=>{r(i)})}onWillCreateFiles(r){return this.connection.onRequest(e.WillCreateFilesRequest.type,(i,s)=>r(i,s))}onWillRenameFiles(r){return this.connection.onRequest(e.WillRenameFilesRequest.type,(i,s)=>r(i,s))}onWillDeleteFiles(r){return this.connection.onRequest(e.WillDeleteFilesRequest.type,(i,s)=>r(i,s))}};return Ru.FileOperationsFeature=t,Ru}var Fu={},V_;function lM(){if(V_)return Fu;V_=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.LinkedEditingRangeFeature=void 0;const e=fn(),t=n=>class extends n{onLinkedEditingRange(r){return this.connection.onRequest(e.LinkedEditingRangeRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i),void 0))}};return Fu.LinkedEditingRangeFeature=t,Fu}var Iu={},H_;function fM(){if(H_)return Iu;H_=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.TypeHierarchyFeature=void 0;const e=fn(),t=n=>class extends n{get typeHierarchy(){return{onPrepare:r=>this.connection.onRequest(e.TypeHierarchyPrepareRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i),void 0)),onSupertypes:r=>{const i=e.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))},onSubtypes:r=>{const i=e.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))}}}};return Iu.TypeHierarchyFeature=t,Iu}var Mu={},K_;function dM(){if(K_)return Mu;K_=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.InlineValueFeature=void 0;const e=fn(),t=n=>class extends n{get inlineValue(){return{refresh:()=>this.connection.sendRequest(e.InlineValueRefreshRequest.type),on:r=>this.connection.onRequest(e.InlineValueRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i)))}}};return Mu.InlineValueFeature=t,Mu}var Lu={},z_;function hM(){if(z_)return Lu;z_=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.FoldingRangeFeature=void 0;const e=fn(),t=n=>class extends n{get foldingRange(){return{refresh:()=>this.connection.sendRequest(e.FoldingRangeRefreshRequest.type),on:r=>{const i=e.FoldingRangeRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))}}}};return Lu.FoldingRangeFeature=t,Lu}var ju={},Y_;function pM(){if(Y_)return ju;Y_=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.InlayHintFeature=void 0;const e=fn(),t=n=>class extends n{get inlayHint(){return{refresh:()=>this.connection.sendRequest(e.InlayHintRefreshRequest.type),on:r=>this.connection.onRequest(e.InlayHintRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i))),resolve:r=>this.connection.onRequest(e.InlayHintResolveRequest.type,(i,s)=>r(i,s))}}};return ju.InlayHintFeature=t,ju}var xu={},G_;function mM(){if(G_)return xu;G_=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.DiagnosticFeature=void 0;const e=fn(),t=n=>class extends n{get diagnostics(){return{refresh:()=>this.connection.sendRequest(e.DiagnosticRefreshRequest.type),on:r=>this.connection.onRequest(e.DocumentDiagnosticRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(e.DocumentDiagnosticRequest.partialResult,i))),onWorkspace:r=>this.connection.onRequest(e.WorkspaceDiagnosticRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(e.WorkspaceDiagnosticRequest.partialResult,i)))}}};return xu.DiagnosticFeature=t,xu}var qu={},J_;function gM(){if(J_)return qu;J_=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.MonikerFeature=void 0;const e=fn(),t=n=>class extends n{get moniker(){return{on:r=>{const i=e.MonikerRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))}}}};return qu.MonikerFeature=t,qu}var Q_;function yM(){if(Q_)return mt;Q_=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.createConnection=mt.combineFeatures=mt.combineNotebooksFeatures=mt.combineLanguagesFeatures=mt.combineWorkspaceFeatures=mt.combineWindowFeatures=mt.combineClientFeatures=mt.combineTracerFeatures=mt.combineTelemetryFeatures=mt.combineConsoleFeatures=mt._NotebooksImpl=mt._LanguagesImpl=mt.BulkUnregistration=mt.BulkRegistration=mt.ErrorMessageTracker=void 0;const e=fn(),t=I_(),n=L_(),r=iM(),i=sM(),s=oM(),o=aM(),u=A_(),c=uM(),f=cM(),d=lM(),h=fM(),v=dM(),w=hM(),k=pM(),$=mM(),_=R_(),T=gM();function b(we){if(we!==null)return we}class m{constructor(){this._messages=Object.create(null)}add(U){let J=this._messages[U];J||(J=0),J++,this._messages[U]=J}sendErrors(U){Object.keys(this._messages).forEach(J=>{U.window.showErrorMessage(J)})}}mt.ErrorMessageTracker=m;class y{constructor(){}rawAttach(U){this._rawConnection=U}attach(U){this._connection=U}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(U){}initialize(U){}error(U){this.send(e.MessageType.Error,U)}warn(U){this.send(e.MessageType.Warning,U)}info(U){this.send(e.MessageType.Info,U)}log(U){this.send(e.MessageType.Log,U)}debug(U){this.send(e.MessageType.Debug,U)}send(U,J){this._rawConnection&&this._rawConnection.sendNotification(e.LogMessageNotification.type,{type:U,message:J}).catch(()=>{(0,e.RAL)().console.error("Sending log message failed")})}}class p{constructor(){}attach(U){this._connection=U}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(U){}fillServerCapabilities(U){}showErrorMessage(U,...J){let de={type:e.MessageType.Error,message:U,actions:J};return this.connection.sendRequest(e.ShowMessageRequest.type,de).then(b)}showWarningMessage(U,...J){let de={type:e.MessageType.Warning,message:U,actions:J};return this.connection.sendRequest(e.ShowMessageRequest.type,de).then(b)}showInformationMessage(U,...J){let de={type:e.MessageType.Info,message:U,actions:J};return this.connection.sendRequest(e.ShowMessageRequest.type,de).then(b)}}const D=(0,c.ShowDocumentFeature)((0,r.ProgressFeature)(p));var E;(function(we){function U(){return new P}we.create=U})(E||(mt.BulkRegistration=E={}));class P{constructor(){this._registrations=[],this._registered=new Set}add(U,J){const de=t.string(U)?U:U.method;if(this._registered.has(de))throw new Error(`${de} is already added to this registration`);const ne=n.generateUuid();this._registrations.push({id:ne,method:de,registerOptions:J||{}}),this._registered.add(de)}asRegistrationParams(){return{registrations:this._registrations}}}var C;(function(we){function U(){return new R(void 0,[])}we.create=U})(C||(mt.BulkUnregistration=C={}));class R{constructor(U,J){this._connection=U,this._unregistrations=new Map,J.forEach(de=>{this._unregistrations.set(de.method,de)})}get isAttached(){return!!this._connection}attach(U){this._connection=U}add(U){this._unregistrations.set(U.method,U)}dispose(){let U=[];for(let de of this._unregistrations.values())U.push(de);let J={unregisterations:U};this._connection.sendRequest(e.UnregistrationRequest.type,J).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(U){const J=t.string(U)?U:U.method,de=this._unregistrations.get(J);if(!de)return!1;let ne={unregisterations:[de]};return this._connection.sendRequest(e.UnregistrationRequest.type,ne).then(()=>{this._unregistrations.delete(J)},Se=>{this._connection.console.info(`Un-registering request handler for ${de.id} failed.`)}),!0}}class I{attach(U){this._connection=U}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(U){}fillServerCapabilities(U){}register(U,J,de){return U instanceof P?this.registerMany(U):U instanceof R?this.registerSingle1(U,J,de):this.registerSingle2(U,J)}registerSingle1(U,J,de){const ne=t.string(J)?J:J.method,Se=n.generateUuid();let Re={registrations:[{id:Se,method:ne,registerOptions:de||{}}]};return U.isAttached||U.attach(this.connection),this.connection.sendRequest(e.RegistrationRequest.type,Re).then(qe=>(U.add({id:Se,method:ne}),U),qe=>(this.connection.console.info(`Registering request handler for ${ne} failed.`),Promise.reject(qe)))}registerSingle2(U,J){const de=t.string(U)?U:U.method,ne=n.generateUuid();let Se={registrations:[{id:ne,method:de,registerOptions:J||{}}]};return this.connection.sendRequest(e.RegistrationRequest.type,Se).then(Re=>e.Disposable.create(()=>{this.unregisterSingle(ne,de).catch(()=>{this.connection.console.info(`Un-registering capability with id ${ne} failed.`)})}),Re=>(this.connection.console.info(`Registering request handler for ${de} failed.`),Promise.reject(Re)))}unregisterSingle(U,J){let de={unregisterations:[{id:U,method:J}]};return this.connection.sendRequest(e.UnregistrationRequest.type,de).catch(()=>{this.connection.console.info(`Un-registering request handler for ${U} failed.`)})}registerMany(U){let J=U.asRegistrationParams();return this.connection.sendRequest(e.RegistrationRequest.type,J).then(()=>new R(this._connection,J.registrations.map(de=>({id:de.id,method:de.method}))),de=>(this.connection.console.info("Bulk registration failed."),Promise.reject(de)))}}class F{constructor(){}attach(U){this._connection=U}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(U){}fillServerCapabilities(U){}applyEdit(U){function J(ne){return ne&&!!ne.edit}let de=J(U)?U:{edit:U};return this.connection.sendRequest(e.ApplyWorkspaceEditRequest.type,de)}}const j=(0,f.FileOperationsFeature)((0,s.WorkspaceFoldersFeature)((0,i.ConfigurationFeature)(F)));class Q{constructor(){this._trace=e.Trace.Off}attach(U){this._connection=U}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(U){}fillServerCapabilities(U){}set trace(U){this._trace=U}log(U,J){this._trace!==e.Trace.Off&&this.connection.sendNotification(e.LogTraceNotification.type,{message:U,verbose:this._trace===e.Trace.Verbose?J:void 0}).catch(()=>{})}}class ae{constructor(){}attach(U){this._connection=U}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(U){}fillServerCapabilities(U){}logEvent(U){this.connection.sendNotification(e.TelemetryEventNotification.type,U).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class ce{constructor(){}attach(U){this._connection=U}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(U){}fillServerCapabilities(U){}attachWorkDoneProgress(U){return(0,r.attachWorkDone)(this.connection,U)}attachPartialResultProgress(U,J){return(0,r.attachPartialResult)(this.connection,J)}}mt._LanguagesImpl=ce;const he=(0,w.FoldingRangeFeature)((0,T.MonikerFeature)((0,$.DiagnosticFeature)((0,k.InlayHintFeature)((0,v.InlineValueFeature)((0,h.TypeHierarchyFeature)((0,d.LinkedEditingRangeFeature)((0,u.SemanticTokensFeature)((0,o.CallHierarchyFeature)(ce)))))))));class Te{constructor(){}attach(U){this._connection=U}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(U){}fillServerCapabilities(U){}attachWorkDoneProgress(U){return(0,r.attachWorkDone)(this.connection,U)}attachPartialResultProgress(U,J){return(0,r.attachPartialResult)(this.connection,J)}}mt._NotebooksImpl=Te;const Ye=(0,_.NotebookSyncFeature)(Te);function ge(we,U){return function(J){return U(we(J))}}mt.combineConsoleFeatures=ge;function V(we,U){return function(J){return U(we(J))}}mt.combineTelemetryFeatures=V;function oe(we,U){return function(J){return U(we(J))}}mt.combineTracerFeatures=oe;function re(we,U){return function(J){return U(we(J))}}mt.combineClientFeatures=re;function q(we,U){return function(J){return U(we(J))}}mt.combineWindowFeatures=q;function X(we,U){return function(J){return U(we(J))}}mt.combineWorkspaceFeatures=X;function fe(we,U){return function(J){return U(we(J))}}mt.combineLanguagesFeatures=fe;function $e(we,U){return function(J){return U(we(J))}}mt.combineNotebooksFeatures=$e;function ke(we,U){function J(ne,Se,Re){return ne&&Se?Re(ne,Se):ne||Se}return{__brand:"features",console:J(we.console,U.console,ge),tracer:J(we.tracer,U.tracer,oe),telemetry:J(we.telemetry,U.telemetry,V),client:J(we.client,U.client,re),window:J(we.window,U.window,q),workspace:J(we.workspace,U.workspace,X),languages:J(we.languages,U.languages,fe),notebooks:J(we.notebooks,U.notebooks,$e)}}mt.combineFeatures=ke;function Fe(we,U,J){const de=J&&J.console?new(J.console(y)):new y,ne=we(de);de.rawAttach(ne);const Se=J&&J.tracer?new(J.tracer(Q)):new Q,Re=J&&J.telemetry?new(J.telemetry(ae)):new ae,qe=J&&J.client?new(J.client(I)):new I,Rt=J&&J.window?new(J.window(D)):new D,Tt=J&&J.workspace?new(J.workspace(j)):new j,dt=J&&J.languages?new(J.languages(he)):new he,Ke=J&&J.notebooks?new(J.notebooks(Ye)):new Ye,Ft=[de,Se,Re,qe,Rt,Tt,dt,Ke];function At(x){return x instanceof Promise?x:t.thenable(x)?new Promise((W,O)=>{x.then(S=>W(S),S=>O(S))}):Promise.resolve(x)}let Xt,yt,Y,B={listen:()=>ne.listen(),sendRequest:(x,...W)=>ne.sendRequest(t.string(x)?x:x.method,...W),onRequest:(x,W)=>ne.onRequest(x,W),sendNotification:(x,W)=>{const O=t.string(x)?x:x.method;return ne.sendNotification(O,W)},onNotification:(x,W)=>ne.onNotification(x,W),onProgress:ne.onProgress,sendProgress:ne.sendProgress,onInitialize:x=>(yt=x,{dispose:()=>{yt=void 0}}),onInitialized:x=>ne.onNotification(e.InitializedNotification.type,x),onShutdown:x=>(Xt=x,{dispose:()=>{Xt=void 0}}),onExit:x=>(Y=x,{dispose:()=>{Y=void 0}}),get console(){return de},get telemetry(){return Re},get tracer(){return Se},get client(){return qe},get window(){return Rt},get workspace(){return Tt},get languages(){return dt},get notebooks(){return Ke},onDidChangeConfiguration:x=>ne.onNotification(e.DidChangeConfigurationNotification.type,x),onDidChangeWatchedFiles:x=>ne.onNotification(e.DidChangeWatchedFilesNotification.type,x),__textDocumentSync:void 0,onDidOpenTextDocument:x=>ne.onNotification(e.DidOpenTextDocumentNotification.type,x),onDidChangeTextDocument:x=>ne.onNotification(e.DidChangeTextDocumentNotification.type,x),onDidCloseTextDocument:x=>ne.onNotification(e.DidCloseTextDocumentNotification.type,x),onWillSaveTextDocument:x=>ne.onNotification(e.WillSaveTextDocumentNotification.type,x),onWillSaveTextDocumentWaitUntil:x=>ne.onRequest(e.WillSaveTextDocumentWaitUntilRequest.type,x),onDidSaveTextDocument:x=>ne.onNotification(e.DidSaveTextDocumentNotification.type,x),sendDiagnostics:x=>ne.sendNotification(e.PublishDiagnosticsNotification.type,x),onHover:x=>ne.onRequest(e.HoverRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),void 0)),onCompletion:x=>ne.onRequest(e.CompletionRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onCompletionResolve:x=>ne.onRequest(e.CompletionResolveRequest.type,x),onSignatureHelp:x=>ne.onRequest(e.SignatureHelpRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),void 0)),onDeclaration:x=>ne.onRequest(e.DeclarationRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onDefinition:x=>ne.onRequest(e.DefinitionRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onTypeDefinition:x=>ne.onRequest(e.TypeDefinitionRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onImplementation:x=>ne.onRequest(e.ImplementationRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onReferences:x=>ne.onRequest(e.ReferencesRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onDocumentHighlight:x=>ne.onRequest(e.DocumentHighlightRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onDocumentSymbol:x=>ne.onRequest(e.DocumentSymbolRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onWorkspaceSymbol:x=>ne.onRequest(e.WorkspaceSymbolRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onWorkspaceSymbolResolve:x=>ne.onRequest(e.WorkspaceSymbolResolveRequest.type,x),onCodeAction:x=>ne.onRequest(e.CodeActionRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onCodeActionResolve:x=>ne.onRequest(e.CodeActionResolveRequest.type,(W,O)=>x(W,O)),onCodeLens:x=>ne.onRequest(e.CodeLensRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onCodeLensResolve:x=>ne.onRequest(e.CodeLensResolveRequest.type,(W,O)=>x(W,O)),onDocumentFormatting:x=>ne.onRequest(e.DocumentFormattingRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),void 0)),onDocumentRangeFormatting:x=>ne.onRequest(e.DocumentRangeFormattingRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),void 0)),onDocumentOnTypeFormatting:x=>ne.onRequest(e.DocumentOnTypeFormattingRequest.type,(W,O)=>x(W,O)),onRenameRequest:x=>ne.onRequest(e.RenameRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),void 0)),onPrepareRename:x=>ne.onRequest(e.PrepareRenameRequest.type,(W,O)=>x(W,O)),onDocumentLinks:x=>ne.onRequest(e.DocumentLinkRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onDocumentLinkResolve:x=>ne.onRequest(e.DocumentLinkResolveRequest.type,(W,O)=>x(W,O)),onDocumentColor:x=>ne.onRequest(e.DocumentColorRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onColorPresentation:x=>ne.onRequest(e.ColorPresentationRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onFoldingRanges:x=>ne.onRequest(e.FoldingRangeRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onSelectionRanges:x=>ne.onRequest(e.SelectionRangeRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onExecuteCommand:x=>ne.onRequest(e.ExecuteCommandRequest.type,(W,O)=>x(W,O,(0,r.attachWorkDone)(ne,W),void 0)),dispose:()=>ne.dispose()};for(let x of Ft)x.attach(B);return ne.onRequest(e.InitializeRequest.type,x=>{U.initialize(x),t.string(x.trace)&&(Se.trace=e.Trace.fromString(x.trace));for(let W of Ft)W.initialize(x.capabilities);if(yt){let W=yt(x,new e.CancellationTokenSource().token,(0,r.attachWorkDone)(ne,x),void 0);return At(W).then(O=>{if(O instanceof e.ResponseError)return O;let S=O;S||(S={capabilities:{}});let A=S.capabilities;A||(A={},S.capabilities=A),A.textDocumentSync===void 0||A.textDocumentSync===null?A.textDocumentSync=t.number(B.__textDocumentSync)?B.__textDocumentSync:e.TextDocumentSyncKind.None:!t.number(A.textDocumentSync)&&!t.number(A.textDocumentSync.change)&&(A.textDocumentSync.change=t.number(B.__textDocumentSync)?B.__textDocumentSync:e.TextDocumentSyncKind.None);for(let M of Ft)M.fillServerCapabilities(A);return S})}else{let W={capabilities:{textDocumentSync:e.TextDocumentSyncKind.None}};for(let O of Ft)O.fillServerCapabilities(W.capabilities);return W}}),ne.onRequest(e.ShutdownRequest.type,()=>{if(U.shutdownReceived=!0,Xt)return Xt(new e.CancellationTokenSource().token)}),ne.onNotification(e.ExitNotification.type,()=>{try{Y&&Y()}finally{U.shutdownReceived?U.exit(0):U.exit(1)}}),ne.onNotification(e.SetTraceNotification.type,x=>{Se.trace=e.Trace.fromString(x.value)}),B}return mt.createConnection=Fe,mt}var X_;function Z_(){return X_||(X_=1,function(e){var t=so&&so.__createBinding||(Object.create?function(c,f,d,h){h===void 0&&(h=d);var v=Object.getOwnPropertyDescriptor(f,d);(!v||("get"in v?!f.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,h,v)}:function(c,f,d,h){h===void 0&&(h=d),c[h]=f[d]}),n=so&&so.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&t(f,c,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;const r=A_();Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}});const i=rM();n(fn(),e);const s=P_();Object.defineProperty(e,"TextDocuments",{enumerable:!0,get:function(){return s.TextDocuments}});const o=R_();Object.defineProperty(e,"NotebookDocuments",{enumerable:!0,get:function(){return o.NotebookDocuments}}),n(yM(),e);var u;(function(c){c.all={__brand:"features",languages:i.InlineCompletionFeature}})(u||(e.ProposedFeatures=u={}))}(so)),so}var eE;function vM(){return eE||(eE=1,function(e){var t=io&&io.__createBinding||(Object.create?function(u,c,f,d){d===void 0&&(d=f);var h=Object.getOwnPropertyDescriptor(c,f);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(u,d,h)}:function(u,c,f,d){d===void 0&&(d=f),u[d]=c[f]}),n=io&&io.__exportStar||function(u,c){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(c,f)&&t(c,u,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=void 0;const r=Z_();n(u0(),e),n(Z_(),e);let i=!1;const s={initialize:u=>{},get shutdownReceived(){return i},set shutdownReceived(u){i=u},exit:u=>{}};function o(u,c,f,d){let h,v,w,k;u!==void 0&&u.__brand==="features"&&(h=u,u=c,c=f,f=d),r.ConnectionStrategy.is(u)||r.ConnectionOptions.is(u)?k=u:(v=u,w=c,k=f);const $=_=>(0,r.createProtocolConnection)(v,w,_,k);return(0,r.createConnection)($,s,h)}e.createConnection=o}(io)),io}var nr=vM(),tE;(function(e){e.type=new nr.NotificationType("json/schemaAssociations")})(tE||(tE={}));var nE;(function(e){e.type=new nr.NotificationType("yaml/registerCustomSchemaRequest")})(nE||(nE={}));var rE;(function(e){e.type=new nr.NotificationType("yaml/registerContentRequest")})(rE||(rE={}));var iE;(function(e){e.type=new nr.NotificationType("yaml/resultLimitReached")})(iE||(iE={}));var sE;(function(e){e.type=new nr.RequestType("vscode/content")})(sE||(sE={}));var oE;(function(e){e.type=new nr.RequestType("custom/schema/content")})(oE||(oE={}));var aE;(function(e){e.type=new nr.RequestType("custom/schema/request")})(aE||(aE={}));var uE;(function(e){e.type=new nr.RequestType("json/colorSymbols")})(uE||(uE={}));var cE;(function(e){e.type=new nr.RequestType("json/schema/modify")})(cE||(cE={}));var zf;(function(e){e.type=new nr.NotificationType("yaml/supportSchemaSelection"),e.getSchema=new nr.RequestType("yaml/get/jsonSchema"),e.getAllSchemas=new nr.RequestType("yaml/get/all/jsonSchemas"),e.schemaStoreInitialized=new nr.NotificationType("yaml/schema/store/initialized")})(zf||(zf={}));class bM{constructor(t,n,r){this.schemaService=t,this.yamlSettings=n,this.connection=r,this.connection?.onRequest(zf.getSchema,i=>this.getSchemas(i)),this.connection?.onRequest(zf.getAllSchemas,i=>this.getAllSchemas(i))}async getSchemas(t){const n=await this.getSchemasForFile(t);return Array.from(n).map(r=>({name:r[1].title,uri:r[0],description:r[1].description,versions:r[1].versions}))}async getSchemasForFile(t){const n=this.yamlSettings?.documents.get(t),r=new Map;if(!n)return r;const i=pr.getYamlDocument(n);for(const s of i.documents){const o=await this.schemaService.getSchemaForResource(n.uri,s);if(o?.schema){const u=E_(o?.schema);if(u.size===0)continue;for(const c of u)r.set(c[0],c[1])}}return r}async getAllSchemas(t){const n=await this.getSchemasForFile(t),r=Array.from(n.entries()).map(o=>({uri:o[0],fromStore:!1,usedForCurrentFile:!0,name:o[1].title,description:o[1].description,versions:o[1].versions})),i=[];let s=this.schemaService.getAllSchemas();return s=s.filter(o=>!n.has(o.uri)),i.push(...r),i.push(...s),i}}class DM{constructor(t){this.telemetry=t}getDefinition(t,n){try{const r=pr.getYamlDocument(t),i=t.offsetAt(n.position),s=Jc(i,r);if(s){const[o]=s.getNodeFromPosition(i,new xs(t));if(o&&zr(o)){const u=o.resolve(s.internalDocument);if(u&&u.range){const c=Be.create(t.positionAt(u.range[0]),t.positionAt(u.range[2])),f=Be.create(t.positionAt(u.range[0]),t.positionAt(u.range[1]));return[ac.create(t.uri,c,f)]}}}}catch(r){this.telemetry?.sendError("yaml.definition.error",r)}}}function wM(e,t){const n=pr.getYamlDocument(e);return t.map(o=>{const u=r(o);let c;for(const f of u)c=Ra.create(f,c);return c??Ra.create({start:o,end:o})});function r(o){const u=e.offsetAt(o),c=[];for(const f of n.documents){let d,h;for(f.visit(v=>{const w=v.offset+v.length;if(w<u||s(w-1,w)===`
`&&w-1<u)return!0;let k=v.offset;if(k>u){const $=i(v,o);if(!$||$>u)return!0;k=$}return(!d||k>=d.offset)&&(d=v,h=k),!0});d;){const v=h??d.offset,w=d.offset+d.length,k={start:e.positionAt(v),end:e.positionAt(w)},$=e.getText(k),_=_M($),T=v+_.length;T>=u&&(k.end=e.positionAt(T));const b=(m,y)=>_.startsWith(m)&&_.endsWith(y||m);(d.type==="string"&&(b("'")||b('"'))||d.type==="object"&&b("{","}")||d.type==="array"&&b("[","]"))&&c.push({start:e.positionAt(v+1),end:e.positionAt(w-1)}),c.push(k),d=d.parent,h=void 0}if(c.length>0)break}return c.reverse()}function i(o,u){const c=e.positionAt(o.offset);if(c.line===u.line){if(o.parent?.type==="array"&&s(o.offset-2,o.offset)==="- ")return o.offset-2;if(o.type==="array"||o.type==="object"){const f={line:c.line,character:0};if(e.getText({start:f,end:c}).trim().length===0)return e.offsetAt(f)}}}function s(o,u){return e.getText({start:e.positionAt(o),end:e.positionAt(u)})}}function _M(e){return e.endsWith(`\r
`)?e.substring(0,e.length-2):e.endsWith(`
`)?e.substring(0,e.length-1):e}var Gm;(function(e){e[e.SchemaStore=1]="SchemaStore",e[e.SchemaAssociation=2]="SchemaAssociation",e[e.Settings=3]="Settings"})(Gm||(Gm={}));function EM(e){const t=new OO(e.schemaRequestService,e.workspaceContext),n=new nM(t,e.clientCapabilities,pr,e.telemetry),r=new NO(t,e.telemetry),i=new PO(t,e.telemetry),s=new BO(t,e.telemetry),o=new BI,u=new YI(e.clientCapabilities),c=new JI(t,e.telemetry),f=new WI(e.telemetry),d=new DM(e.telemetry);return new bM(t,e.yamlSettings,e.connection),{configure:h=>{t.clearExternalSchemas(),h.schemas&&(t.schemaPriorityMapping=new Map,h.schemas.forEach(v=>{const w=v.priority?v.priority:0;t.addSchemaPriority(v.uri,w),t.registerExternalSchema(v.uri,v.fileMatch,v.schema,v.name,v.description,v.versions)})),s.configure(h),r.configure(h),n.configure(h,e.yamlSettings),o.configure(h),u.configure(h)},registerCustomSchemaProvider:h=>{t.registerCustomSchemaProvider(h)},findLinks:f.findLinks.bind(f),doComplete:n.doComplete.bind(n),doValidation:s.doValidation.bind(s),doHover:r.doHover.bind(r),findDocumentSymbols:i.findDocumentSymbols.bind(i),findDocumentSymbols2:i.findHierarchicalDocumentSymbols.bind(i),doDefinition:d.getDefinition.bind(d),resetSchema:h=>t.onResourceChange(h),doFormat:o.format.bind(o),doDocumentOnTypeFormatting:GI,addSchema:(h,v)=>t.saveSchema(h,v),deleteSchema:h=>t.deleteSchema(h),modifySchemaContent:h=>t.addContent(h),deleteSchemaContent:h=>t.deleteContent(h),deleteSchemasWhole:h=>t.deleteSchemas(h),getFoldingRanges:UI,getSelectionRanges:wM,getCodeAction:(h,v)=>u.getCodeAction(h,v),getCodeLens:h=>c.getCodeLens(h),resolveCodeLens:h=>c.resolveCodeLens(h)}}const Jm=EM({async schemaRequestService(e){return(await fetch(e)).text()}}),aa={},lE=self,ao=Vr.createProtocolConnection(new Vr.BrowserMessageReader(lE),new Vr.BrowserMessageWriter(lE));async function fE(e){const t=await Jm.doValidation(aa[e]);await ao.sendNotification(Vr.PublishDiagnosticsNotification.type,{uri:e,diagnostics:t})}ao.onRequest(Vr.InitializeRequest.type,()=>({capabilities:{textDocumentSync:Vr.TextDocumentSyncKind.Incremental,completionProvider:!0,hoverProvider:!0}})),ao.onNotification(Vr.DidOpenTextDocumentNotification.type,async({textDocument:{uri:e,languageId:t,version:n,text:r}})=>{aa[e]=_c.create(e,t,n,r),await fE(e)}),ao.onNotification(Vr.DidChangeTextDocumentNotification.type,async({textDocument:e,contentChanges:t})=>{const n=aa[e.uri];n&&(aa[e.uri]=_c.update(n,t,e.version+1),await fE(e.uri))}),ao.onRequest(Vr.CompletionRequest.type,async({textDocument:e,position:t})=>{const n=aa[e.uri];return n?Jm.doComplete(n,t):null}),ao.onRequest(Vr.HoverRequest.type,async({textDocument:e,position:t})=>{const n=aa[e.uri];return n?Jm.doHover(n,t):null}),ao.listen()})();
//# sourceMappingURL=yamlLSPWorker-DDVfv9Vq.js.map
